{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"AUCloud Technical Documentation","text":""},{"location":"#overview","title":"Overview","text":"<p>AUCloud, an ASX listed company, provides highly secure, standards based, sovereign cloud Infrastructure-as-a-Service to Australian Government, Critical National Industry communities and security conscious enterprises. AUCloud solutions enable customers to benefit from sovereign data protection with the scale, automation, elasticity and lower costs typically associated with global cloud offerings.</p> <p>We are committed to providing a high quality of services and customer service and continuous improvement to optimise our customers\u2019 experience with AUCloud. To ensure that our customers have access to general and technical information on our services and have access to the information they need, when it is needed, we are pleased to announce the launch of AUCloud\u2019s Tech Docs.</p> <p>This AUCloud technical documentation website has been designed to provide a wealth of information for our customers and partners to provide knowledge, guidance and further capability to help them get the most out of the AUCloud services.</p> <p>We invite you to explore and revisit this website regularly as it will continually be enhanced and updated.</p>"},{"location":"#explore-auclouds-tech-docs","title":"Explore AUCloud\u2019s Tech Docs","text":"<ul> <li>Learn about the AUCloud platform and its services</li> <li>See where AUCloud\u2019s Sovereignty Zones are and find out about our continued expansion to other regions</li> <li>Get tips and learn from automation case studies and demos to assist you in deploying AUCloud services</li> <li>Access How to Guides for technical information and features available in AUCloud services</li> <li>Find API documentation</li> <li>Learn more about AUCloud\u2019s security and governance and our shared responsibility model</li> <li>Community Rules Information Security Policy (CRISP) what it is, what it means and how it benefits our customers</li> <li>Find out about the support tools we have available for our customers</li> <li>See relevant information about our technology and other partners</li> </ul>"},{"location":"#contact-aucloud","title":"Contact AUCloud","text":"<p>AUCloud is always here to support our customers and therefore please continue to reach out to your sales, technical or support contacts for any assistance you may require.</p> <p>1800-AUCLOUD (1800 282 5683)</p> <p>support@australiacloud.com.au</p> <p>OR</p> <p>sales@australiacloud.com.au</p>"},{"location":"Blog/","title":"AUCloud's technical blog","text":"<p>{{ blog_content }}</p>"},{"location":"Blog/documentation_as_opensource/","title":"Relaunching AUCloud's documentation as an open source site.","text":"","tags":["mkdocs","documentation","CICD","GitHub"]},{"location":"Blog/documentation_as_opensource/#improving-client-experience-using-open-source","title":"Improving client experience using open source","text":"<p>It still surprises me that some enterprise software products do not provide their documentation openly on the internet. As a technologist, when evaluating technology products, whether open source or proprietary, having a robust understanding of the breadth and depth of documentation (and ease of access) is crucial.</p> <p>AUCloud has recently relaunched it's documentation site as a static website, built from a GitHub repository. A number of the hyperscalers use a similar method for their documentation as:</p> <ul> <li>The open source documentation core allows users to propose changes to the documentation.</li> <li>Documentation hosted on GitHub becomes searchable within GitHub, embedding it within the workspace of developers.</li> </ul> <p>AUCloud has taken this approach, and extended it to be based on a static-website generator: <code>mkdocs</code>. Using static website generation provides us some clear advantages:</p> <ul> <li>The static website provides a lower-risk vehicle for hosting the documentation from a security point of view;</li> <li>Managing documentation 'as code' allows documentation to be easily integrated in the 'definition of done' in our agile development life cycle;</li> <li>This includes peer review processes implicit in code development platforms.</li> <li>The CI/CD process allows pre-flight checks to be integrated such as spell checking and link validation;</li> <li>We can build with and contribute back to the extended <code>mkdocs</code> ecosystem (such as <code>Material for mkdocs</code>)</li> </ul> <p>The result for AUCloud is an documentation site that is fast, easy to maintain, easily searchable and easily updatable.</p>","tags":["mkdocs","documentation","CICD","GitHub"]},{"location":"Blog/documentation_as_opensource/#continuous-documentation-integration-and-continuous-documentation-delivery-cdicdd","title":"Continuous Documentation Integration and Continuous Documentation Delivery (CDI/CDD)","text":"<p>Our DevOps workflows have to provide functionality for two scenarios:</p> <ol> <li>The external repository where:</li> <li>There is only one version of the website (the current <code>main</code> branch).</li> <li>External contributions, which are assumed to be \"small\" must be validated.</li> <li>A private repository where:</li> <li>AUCloud employees may need to stage larger contributions (e.g. for an upcoming product launch).<ol> <li>Implicitly this implies providing previews of the staged version of the website.</li> </ol> </li> </ol> <p>We serve these from a common repository that is synchronized across our internal GitHub Enterprise Server, and the <code>github.com</code> repository. On both of these platforms GitHub pages, is the mechanism for serving internal and external copies of the documentation site.</p> <p>GitHub vs GitHub Enterprise Server</p> <p>Our private repository is hosted on a GitHub Enterprise Server appliance, however, there is no reason why both the private and public repositories could not be hosted on github.com.</p> <p>On the private repository individual contributors can build their own version of the documentation by simply pushing content to a branch. <code>mike</code>, is a complementary tool to MkDocs and Material for MkDocs which provides versioning support. Typically mike is used to support multiple versions of software products. In this case, mike is used to generate a version of the website, per branch pushed to our private repository. On the public repository, this functionality is disabled.</p> <p>Deletion of a branch automatically triggers cleanup up the branch build.</p> <p>Pushing to the main branch on the private repository triggers a website release and a corresponding update on our public repository.</p> <p>The result is that the website can be updated every 5-10 minutes. Currently the largest single time consumer in the build process is validation of external and internal links. While it's slightly slow, we believe it is necessary as it gives our teams early warning when external (or internal) parties are updating their documentation (and we should too!).</p>","tags":["mkdocs","documentation","CICD","GitHub"]},{"location":"Blog/documentation_as_opensource/#challenges","title":"Challenges","text":"<p>Two significant challenges were faced building these pipelines:</p> <ul> <li>Managing race conditions on the  <code>gh-pages</code> branch.</li> <li>Bi-directional synchronization of git repositories.</li> </ul>","tags":["mkdocs","documentation","CICD","GitHub"]},{"location":"Blog/documentation_as_opensource/#managing-race-conditions-on-the-gh-pages-branch","title":"Managing race conditions on the  <code>gh-pages</code> branch","text":"<p>One gap that we've observed since adopting github actions, is to be careful for introducing any race conditions / circular workflows. Github actions does expose concurrency control mechanisms. However, when dealing with branch based builds of the website we needed <code>exactly once</code> semantics for adding and removing the branch releases. The challenge is you want to remove a branch based build, just as you are updating the release version of the website, and all of these are on the <code>gh-pages</code> branch.</p> <p>As a result we experienced frequent contention issues. Our approach to date is brute force, however, newer features, such as merge-queues will decrease risk when available.</p>","tags":["mkdocs","documentation","CICD","GitHub"]},{"location":"Blog/documentation_as_opensource/#bi-directional-synchronization-of-git-repositories","title":"Bi-directional synchronization of git repositories","text":"<p>Due to the multi-repository nature of the pipeline that has been built, the biggest issue is on state synchronization. Force-pushes can be used to mitigate most problems automatically, however, risk removing contribution history from external parties. Current approach taken requires a semi-automated process where pull requests from external contributors need to be merged twice: Once on the public repository; once on the private repository.</p>","tags":["mkdocs","documentation","CICD","GitHub"]},{"location":"Blog/documentation_as_opensource/#learn-more","title":"Learn more","text":"<ul> <li>Check out the github actions CICD workflows</li> <li>Read more about <code>MkDocs</code> and <code>Material for MkDocs</code></li> <li>Learn more about <code>mike</code> for versioning MkDocs</li> </ul>","tags":["mkdocs","documentation","CICD","GitHub"]},{"location":"Blog/documentation_as_opensource/#about-the-author","title":"About the Author","text":"<p>Dr. Chris Butler is National Manager - IT Strategy and Productisation at AUCloud. Chris spends his time trying to build cloud native experiences for AUCloud clients and our engineers internally.</p>","tags":["mkdocs","documentation","CICD","GitHub"]},{"location":"Platform_Overview/","title":"AUCloud Platform Overview","text":""},{"location":"Platform_Overview/#about-aucloud","title":"About AUCloud","text":"<p>AUCloud is an Australian owned and operated Sovereign Cloud Service provider that delivers services exclusively to Australian Government, Critical National Industries (CNI) and secure enterprise organisations. AUCloud's ownership structure and operational activities are aligned to the Protective Security Policy Framework (PSPF), the Information Security Manual (ISM) and the low-risk sovereign characteristics outlined within the DTA Whole of Government Hosting Strategy.</p> <p>Established in 2016, AUCloud\u2019s services and operations are only subject to the Australian legal jurisdiction. Managed, operated and monitored in Australia by security cleared staff, all AUCloud services and the data we host remain in Australia. This includes all customer data, metadata, support and administrative data and derived analytics data.</p> <p>AUCloud is ISO 27001 certified and has also been security assessed as suitable to handle Government data up to the Protected classification under the Australian Cyber Security Centre's (ACSC) IRAP process. We are also Certified Strategic under the Digital Transformation Agency's (DTA) Hosting Certification Framework, a Defence Industry Security Program (DISP) supplier, a VMware Sovereign Cloud and Cloud Verified provider.</p> <p>AUCloud operates from geo-resilient data centres in Canberra, Sydney, and Brisbane (CDC Data Centres and NEXTDC), with current expansion plans for Victoria and South Australia. AUCloud's highly qualified team is based in Canberra, Sydney, Brisbane, Adelaide and Melbourne with corporate headquarters and Security Operations Centre based in Canberra, ACT.</p>"},{"location":"Platform_Overview/#sovereign-cloud-australia-global-positioning","title":"Sovereign Cloud Australia, global positioning","text":"<p>AUCloud is a Sovereign Community Cloud built specifically for Australian Government, Critical National Industry (CNI) and security conscious communities. \u00a0We are 100% owned by Sovereign Cloud Holdings Ltd.</p> <p>With ambitions to export AUCloud expertise, services and IP across Asia, Sovereign Cloud Holdings, currently only operates within Australian territorial jurisdiction. However, deep relationships with Cisco, Cloudian, Pure Storage, VMware and a range of global systems integrators and Defence primes, provide AUCloud with a global footprint of expertise and a wide network of relationships. These relationships have underpinned global and Australian firsts in innovation and technology releases (e.g. Cloudian Object Lock anti-ransomware solutions).</p> <p>AUCloud invests in Australian technologies and expertise; a review of AUCloud financials indicates that nearly 70% of our spend can be traced to Australian organisations.</p>"},{"location":"Platform_Overview/#capability-overview","title":"Capability Overview","text":"<p>AUCloud\u2019s IRAP certified OFFICIAL and PROTECTED environments are used exclusively by Australian Government and Critical National Industry organisations, to support their requirement for highly available, scalable and secure data. With a range of VM sizes, storage and connectivity options, customers can build cloud infrastructure in minutes; then test, run and scale within the environment. With access to their virtual environment through a highly secure web portal and VMware Cloud Director, Customers can automate and run infrastructure-as-code using the integrated AUCloud API.</p>"},{"location":"Platform_Overview/#mission","title":"Mission","text":"<p>AUCloud\u2019s commitment to the highest level of security is enshrined in our corporate mission, which is to:</p> <p>Deliver the leading scalable IaaS service sovereign to Australia, supporting Australian Governments and Critical National Industries, making their applications and systems more secure, more efficient and more effective for all users and citizens.</p> <p>At AUCloud, we do not take this statement lightly; it is underpinned by a collective belief across the organisation that all Australians should and can have the confidence that their personal information is highly secure, with sovereign\u00a0protection in Australia.</p> <p>We believe this must be an affordable and flexible service, comparable to global provider offerings, whilst at the same time have the capability to support the changing requirements of our customers and channel partners.</p>"},{"location":"Platform_Overview/#background","title":"Background","text":"<p>AUCloud is lead by CEO Peter Maloney together with Executive Director and co-founder Phil Dawson.</p> <p>AUCloud commenced formally operating in late 2018.\u00a0 It has four office locations: Canberra, Sydney, Melbourne and Brisbane and operates from two Sovereignty Zones: Sovereignty Zone 1 in Canberra and Sovereignty Zone 2 in Sydney, with scheduled expansion into Brisbane, Melbourne and Adelaide.</p>"},{"location":"Platform_Overview/#industry-credentials","title":"Industry Credentials","text":"<p>As a VMware Sovereign Cloud provider AUCloud meets applicable geographic-specific sovereign cloud requirements, regulations and standards and is one of only 35 organisations world-wide with VMware Cloud Verified Provider status.</p> <p>AUCloud\u2019s ISO27001 certification covers end to end development, management, operation and security of AUCloud information systems &amp; infrastructure, AUCloud automation and orchestration capabilities, and service delivery.</p>"},{"location":"Platform_Overview/sovereignty_zones/","title":"AUCloud Sovereignty Zones","text":"City Sovereign Zone Short Code Canberra CSZ Sydney SSZ Brisbane BSZ Melbourne MSZ <p>Global Services</p> <p>Global services are PaaS or SaaS applications delivered by AUCloud across sovereignty zones (per community environment). If you believe you have requirements above this contact your CSM.</p>"},{"location":"Platform_Overview/sovereignty_zones/#service-availability","title":"Service availability","text":"Service Community environment Region Feature(s) / version Notes Infrastructure as a Service (VMware Cloud Director) PDCE CSZ VMware Cloud Director 10.3.3 - PDCE SSZ VMware Cloud Director 10.3.3 - ODCE CSZ VMware Cloud Director 10.3.3 - ODCE SSZ VMware Cloud Director 10.3.3 - EDCE BSZ VMware Cloud Director 10.4.1 - Network - Routing and Load balancing for IaaS PDCE CSZ NSX-V 6.4.14 No new VDCs PDCE CSZ NSX-T 3.2.1.2 - PDCE SSZ NSX-V 6.4.14 No new VDCs PDCE SSZ NSX-T 3.2.1.2 - ODCE CSZ NSX-V 6.4.14 No new VDCs ODCE CSZ NSX-T 3.2.1.2 - ODCE SSZ NSX-V 6.4.14 No new VDCs ODCE SSZ NSX-T 3.2.1.2 - EDCE BSZ NSX-T 3.2.1.2 - Disaster Recovery (VMware Cloud Director Availability) PDCE CSZ 4.5 - PDCE SSZ 4.5 - ODCE CSZ 4.5 - ODCE SSZ 4.5 - EDCE BSZ 4.5 - Storage as a Service (Object Storage) PDCE CSZ Object lock available UI within VCD via Object Storage Extension PDCE SSZ Object lock available UI within VCD via Object Storage Extension ODCE CSZ Object lock available UI within VCD via Object Storage Extension ODCE SSZ Object lock available UI within VCD via Object Storage Extension Microsoft 365 Backup aaS PDCE Global Veeam M365 backup v6 - ODCE and EDCE Global Veeam M365 backup v6 - Backup as a Service - for VMs on AUCloud IaaS PDCE CSZ Veeam B&amp;R version 11 UI within VCD, Tiered storage across NVMe and Object Storage PDCE SSZ Veeam B&amp;R version 11 UI within VCD, Tiered storage across NVMe and Object Storage ODCE CSZ Veeam B&amp;R version 11 UI within VCD, Tiered storage across NVMe and Object Storage ODCE SSZ Veeam B&amp;R version 11 UI within VCD, Tiered storage across NVMe and Object Storage EDCE BSZ Veeam B&amp;R version 11 UI within VCD, Tiered storage across NVMe and Object Storage Backup as a Service - for VMs outside of AUCloud IaaS - Global Veeam service provider console (cloud connect) v6 Tiered storage across NVMe and Object Storage Security Operations Centre as a Service PDCE Global - - ODCE and EDCE Global - - Sovereign Bridge (network connectivity) PDCE CSZ CDC - Connect &amp; NextDC Axon - PDCE SSZ CDC - Connect &amp; NextDC Axon - ODCE CSZ CDC - Connect &amp; NextDC Axon - ODCE SSZ CDC - Connect &amp; NextDC Axon - EDCE BSZ NextDC Axon - Symmetric Key Agreement Platform (SKAP) - Global - Contact your CSM for access Kubernetes Service ODCE CSZ VMware Container Service Extension 4.0.1 also see Kubernetes versions - ODCE SSZ VMware Container Service Extension 4.0.1 also see Kubernetes versions - EDCE BSZ VMware Container Service Extension 4.0.1 also see Kubernetes versions -"},{"location":"Platform_Overview/Security/","title":"Security","text":""},{"location":"Platform_Overview/Security/#overview","title":"Overview","text":"<p>AUCloud is an Australian owned and operated Sovereign Cloud Service provider that delivers services exclusively to Australian Government, Critical National Industries (CNI) and secure enterprise organisations. </p> <p>AUCloud\u2019s core tenet is the protection of the confidentiality, integrity and availability of data: both AUCloud\u2019s own and that entrusted to AUCloud by its customers.</p> <p>AUCloud\u2019s Information Security Management System (ISMS) is based upon a robust security framework of information security governance, policies, plans and procedures that are aligned with the Australian Government\u2019s PSPF and ISM as well as International Standards such as ISO27001. AUCloud\u2019s approach to security is continual assessment for a wide variety of threats and vulnerabilities that, if left unchecked, could compromise information assets or the supporting assets upon which they depend for their security.</p> <p>AUCloud is IRAP certified to PROTECTED and ISO27001 certified with the scope of certification covering:</p> <ul> <li>Development, management, operation and security of the AUCloud portal, information systems and related infrastructure.</li> <li>Management, operation and delivery of sovereign, secure Infrastructure as a Service, Backup as a Service and Disaster Recovery as a Service.</li> </ul> <p>AUCloud\u2019s IRAP certification encompasses two operating environments, the OFFICIAL Data Community Environment and the PROTECTED Data Community Environment, both of which have been designed to meet or exceed PROTECTED level ISM controls.</p>"},{"location":"Platform_Overview/Security/#community-rules-information-security-policy-crisp","title":"Community Rules Information Security Policy (CRISP)","text":"<p>To be part of the AUCloud community, customers must agree to abide by AUCloud\u2019s Community Rules Information Security Policy (CRISP) which is signed by the customers CIO or CISO prior to commencement. The CRISP is the formal, top-level security document which identifies those aspects of the cloud service that are the responsibility of the AUCloud CISO and those that are within the remit of the data-owning customers CIO/CISO.</p> <p>All AUCloud partners and customers using both our ODCE and PDCE environments must comply with AUCloud\u2019s Community Rules Information Security Policy (CRISP).</p> <p>AUCloud\u2019s CRISP dictates the behaviours and practices of the \u2018cloud community\u2019.  It sets out our responsibilities as well as the responsibilities of our partners/customers to eliminate any operational or process weakness.  This delivers both superior security controls for individual partners/customers as well the highest level of integrity of all our cloud environments.</p> <p>Users cannot be serviced in AUCloud if they do not explicitly agree to the CRISP. Further, no remote support is enabled for uncleared personnel for any service hosted by AUCloud.</p> <p>AUCloud\u2019s CRISP ensures all our users benefit from increased security across the whole community.</p>"},{"location":"Platform_Overview/Security/#essential-8","title":"Essential 8","text":"<p>AUCloud has implemented the Essential Eight Strategies to Mitigate Cyber Intrusions to a minimum of Maturity Level 2. Additional ACSC advice and strategies to mitigate cyber security incidents are implemented using a risk-based approach to the AUCloud security program.</p>"},{"location":"Platform_Overview/Security/#soc","title":"SOC","text":"<p>AUCloud infrastructure and supporting services are monitored by a 24/7 Security Operation Centre (SOC). The SOC provides proactive cyber threat monitoring of AUCloud\u2019s internal networks as well as the perimeter protection of all AUCloud customers.</p> <p>The Security Operations Centre:</p> <ul> <li>monitors, logs and analyses all cyber traffic on a continuous basis</li> <li>provides near real-time cyber monitoring, triage, analysis and incident response</li> <li>enables cyber threat intelligence at scale</li> <li>conducts vulnerability scanning to ensure an enhanced cybersecurity posture</li> </ul>"},{"location":"Platform_Overview/Security/network_security/","title":"Network Security","text":""},{"location":"Platform_Overview/Security/network_security/#ddos-protection","title":"DDoS protection","text":"<p>To prevent and mitigate a denial-of-service attack along with ensuring a highly resilient and highly available service, AUCloud utilises the Vocus DDoS premium level 3 Protect service.  </p> <p>Vocus DDoS Protect is the premium level of DDoS support, focused on providing automatic detection and mitigation of DDoS attacks. Vocus DDoS protection ensures Vocus IP Transit customers enjoy the performance for which the Vocus network is renowned, while providing visibility and control over the events that would simply be called a service outage in other networks.</p> <p>The DDoS Protect service sits between the AUCloud perimeter firewall and the internet and not on individual customer tenancies.</p> <p>The AUCloud SOC monitors the Vocus DDoS service and responds to any alerts.</p> <p>Further information regarding the Vocus DDoS service is provided by Vocus here.</p>"},{"location":"Platform_Overview/Security/network_security/#connectivity-to-the-internet","title":"Connectivity to the Internet","text":"<p>To provide service continuity AUCloud utilises two Internet Service Providers (ISP). To provide a highly reliable and highly available service to customers the ISP's connect to both AUCloud Sovereignty Zones (CDC Fyshwick and CDC Eastern Creek). </p> <p>In the event of the primary ISP becoming unavailable, automatic fail over is implemented and the service will be provided by the secondary ISP.</p>"},{"location":"Platform_Overview/Security/security_and_governance/","title":"Security and Governance","text":""},{"location":"Platform_Overview/Security/security_and_governance/#auclouds-assessments-and-certifications","title":"AUCloud's assessments and certifications","text":"<p>The programs below may contain additional information available to current and prospective clients under NDA. Please reach out to your AUCloud sales team for additional details.</p> Assessment/Certification Program Evidence IRAP December 2022 Assessment Letter ISO-27001 Information Security Management Systems 2023 Certificate Defence Industry Security Program membership 2021 Certificate DTA Hosting Certification Framework Certified strategic certificate"},{"location":"Platform_Overview/Security/security_and_governance/#summary-of-aucloud-security-controls","title":"Summary of AUCloud Security Controls","text":""},{"location":"Platform_Overview/Security/security_and_governance/#backup-and-disaster-recovery-customer-backups","title":"Backup and Disaster Recovery - Customer Backups","text":"<p>The backup of customer virtual machines is the responsibility of the customer.  Customers now have the ability to sign up to AUCloud's Backup as a Service (BaaS) solution which allows them to backup or restore the VMs within VMware Cloud Director via the Veeam Enterprise Manager vCD plugin. With this option, customers can define their backup scheduling, retention policies and application aware backups.</p> <p>In addition, as part of the basic level storage offering, AUCloud provides Logical Unit Number (LUN level) snapshots of customer's volumes. A LUN allows the host computer to access the logical unit and the data it contains through a logical connection, rather than a physical connection. The LUN level snapshots are handled by the FlashArray and are kept for 7 days. The LUN level snapshots will give AUCloud the ability to restore customer's VM(s) in the event the customer needs to roll back to a previous snapshot. This measure will not provide a recovery capability if the customer deletes their VM image. In addition, these snapshots will not be replicated to the DR site and may not be useful in a DR scenario.</p>"},{"location":"Platform_Overview/Security/security_and_governance/#ict-media","title":"ICT Media","text":"<p>All ICT media is owned by AUCloud. Media is not returned to vendors for maintenance, replacement etc. Unserviceable media is destroyed in accordance with the ISM.</p>"},{"location":"Platform_Overview/Security/security_and_governance/#physical-security","title":"Physical Security","text":"<p>All CDC, NEXTDC facilities and AUCloud offices are certified as Zone 4 in accordance with the Protective Security Policy Framework (PSPF). The PSPF defines Australian Government security guidance across governance and information, personnel and physical systems.</p> <p>AUCloud infrastructure is hosted in its own dedicated POD within CDC and NEXTDC. The PODs are not shared with any other customer.</p> <p>Access controls to the AUCloud POD are managed by CDC and NEXTDC in their respective data centre facilities.</p>"},{"location":"Platform_Overview/Security/security_and_governance/#data-ownership-and-data-retention","title":"Data Ownership and Data Retention","text":"<p>The AUCloud Terms and Conditions of Service Agreement with the customer provides the details of the ownership of customer data.</p> <p>The customer maintains ownership of its data at all times. When the customer ceases its engagement with AUCloud, AUCloud will facilitate the transfer of customer data to the customer or the customer\u2019s new service provider. At the end of the contract with AUCloud the customer\u2019s data is retained for 30 days after formal advice has been given. Once deleted the data is no longer recoverable.</p> <p>Backed up VM\u2019s are retained for 24 hours before being overwritten.</p>"},{"location":"Platform_Overview/Security/security_and_governance/#data-segregation","title":"Data Segregation","text":"<p>AUCloud provides three separate physical infrastructure services which provide compute, storage and network.  These systems are dedicated to OFFICIAL, PROTECTED and ENTERPRISE information, respectively.</p> <p>AUCloud shared services management environment is managed at the PROTECTED level.</p> <p>Customers are wholly segregated from other customers. Virtualised networking patterns are implemented on an individual customer basis.</p>"},{"location":"Platform_Overview/Security/security_and_governance/#data-classification","title":"Data Classification","text":"<p>AUCloud is assessed to process, store or communicate, data at the PROTECTED security classification in accordance with the Protective Security Policy Framework (PSPF) and the controls marked \u2018P\u2019 in the Australian Government Information Security Manual (ISM).</p>"},{"location":"Platform_Overview/Security/security_and_governance/#incident-response","title":"Incident Response","text":"<p>Experienced, trained security analysts identify, assess and respond to key threats and vulnerabilities detected by the AUCloud protective monitoring service.</p> <p>The AUCloud Community Rules Information Security Policy (CRISP) describes the incident response, alerting and reporting that is provided by AUCloud.</p> <p>The customer is responsible for incident response within their tenancy. AUCloud will assist customers during an incident upon request. AUCloud will facilitate the provision of logs, VM\u2019s and other evidence.</p>"},{"location":"Platform_Overview/Security/security_and_governance/#security-patch-management","title":"Security patch management","text":"<p>AUCloud systems are patched in accordance with the time-frames defined in the Information Security Manual (ISM) PROTECTED controls and vendor patch cycle cadence through the scheduled maintenance windows. AUCloud has a patch management policy and process for the implementation of extreme patches.</p> <p>Customers are advised of any patches that may impact their environment.</p> <p>Customers are responsible for the security patching of their environment.</p>"},{"location":"Platform_Overview/Security/security_and_governance/#vulnerability-management","title":"Vulnerability Management","text":"<p>The AUCloud environment and portals are penetration tested by independent penetration testers annually. Discovered vulnerabilities are reviewed by the AUCloud CISO and remediated accordingly.</p> <p>AUCloud maintains regular (weekly) vulnerability scanning of its systems. Discovered vulnerabilities are reviewed by the AUCloud SOC and remediated accordingly.</p>"},{"location":"Platform_Overview/Security/security_and_governance/#real-time-logging-monitoring-and-detection","title":"Real time logging, monitoring and detection","text":"<p>AUCloud operates its own in Security Operations Centre (SOC) which implements proactive monitoring to reduce cyber threats and attacks. AUCloud's cyber security monitoring provides a single holistic view of risk and threats across an enterprise, including private and public cloud infrastructure, and is designed to identify threats before they become incidents. The SOC monitors all AUCloud endpoint devices, servers, storage and network devices.  Logs and events meeting the minimum requirements of the ISM are collected, monitored and responded to.</p> <p>The SOC actively monitors and alerts for unauthorised access to the customer environment by AUCloud staff or systems.</p> <p>Data traversing the AUCloud next generation firewalls (NGFE) is filtered and inspected for malicious behaviour. Note: Encrypted customer data is not broken and inspected.</p> <p>Note</p> <pre><code>AUCloud does not monitor customer environments.\n</code></pre> <p>AUCloud offers SOC as a Service (SOCaaS) which, if purchased, customers can utilise to monitor their environments.</p>"},{"location":"Platform_Overview/Security/security_and_governance/#network-continuity-of-service","title":"Network Continuity of Service","text":"<p>AUCloud utilises two ISPs to provide internet connectivity with the AUCloud border router providing no less than 10Gbits a second as a base interface for the ISP to connect to the enterprise.</p> <p>DDoS protection is provided by Vocus.</p>"},{"location":"Platform_Overview/Security/security_and_governance/#data-encryption","title":"Data Encryption","text":""},{"location":"Platform_Overview/Security/security_and_governance/#data-in-transit","title":"Data in Transit","text":"<p>Data in transit to a customer environment is configured and managed by the customer. Customers can leverage the inbuilt VPN features (IPSec, TLS VPN) of the ESG to secure traffic entering and/or exiting their vDC. In consultation with the customer, AUCloud will configure data connections using ASD approved protocols.</p> <p>Data in transit to the AUCloud management portals are TLS (1.2 or higher) with multi-factor authentication.</p>"},{"location":"Platform_Overview/Security/security_and_governance/#data-at-rest","title":"Data at Rest","text":"<p>Data at rest encryption is available to customers data using the Veeam backup solution. Veeam utilises AES 256 (an ASD approved cryptographic algorithm).</p> <p>Customer VM\u2019s are encrypted at rest using AES 256.</p>"},{"location":"Platform_Overview/Security/security_and_governance/#access-to-customer-data","title":"Access to Customer Data","text":"<p>AUCloud standard users cannot access AUCloud infrastructure or customer environments.</p> <p>AUCloud privileged users are not permitted to access customer environments without the express written permission of the customer and AUCloud Chief Operating Officer (COO) or Chief Information Security Officer (CISO). Access to customer systems by AUCloud personnel is logged and monitored.</p> <p>Customers may request the assistance and support of AUCloud system administrators to assist in the configuration or emergency management of their tenancy.</p>"},{"location":"Platform_Overview/Security/security_and_governance/#personnel-security","title":"Personnel Security","text":"<p>All staff employed by AUCloud are permanent employees and have undergone pre-employment and background checks prior to appointment. All staff with privileged access possess a current Australian Government Security Vetting Agency (AGSVA) Baseline or higher clearance.</p> <p>Foreign nationals employed by AUCloud do not have privileged access to the AUCloud Environment or access to the customer environment or their data.</p> <p>Contractors may be hired by AUCloud from time to time for specific activities. Contractors are subject to the same pre-employment and security checks as AUCloud staff.</p>"},{"location":"Platform_Overview/Security/security_and_governance/#extrajudicial-control-and-interference-by-a-foreign-entity","title":"Extrajudicial control and interference by a foreign entity","text":"<p>AUCloud is not subject to foreign laws such as the US Cloud Act. However, this does not prevent data being sought through the mutual legal assistance (MLA) process. AUCloud will comply with any authorised Australian legislation or access served under warrant such as the Assistance and Access Act 2018.</p>"},{"location":"Platform_Overview/Security/security_and_governance/#delivery-of-aucloud-services","title":"Delivery of AUCloud services","text":"<p>AUCloud services are provided from CDC Fyshwick ACT (Sovereignty Zone 1), CDC Eastern Creek NSW (Sovereignty Zone 2) and NEXTDC Fortitude Valley (Sovereignty Zone 3) QLD.</p> <p>In the event of an incident impacting Sovereignty Zone 1, AUCloud services are provided from Sovereignty Zone 2. The same solution is provided in reverse if an incident impacting Sovereignty Zone 2, AUCloud services are provided from Sovereignty Zone 1.</p> <p>Access from offshore to AUCloud systems and customer systems is blocked unless specifically permitted.</p>"},{"location":"Platform_Overview/Security/security_and_governance/#location-of-aucloud-offices-data-centres-administrative-and-support-staff","title":"Location of AUCloud offices, data centres, administrative and support staff","text":"<p>AUCloud\u2019s primary office is located at:  Unit 7/15-21 Beaconsfield St, Fyshwick ACT. The primary office supports the AUCloud technical, administrative and support staff.</p> <p>AUCloud infrastructure is hosted in Canberra Data Centres (CDC) facilities in Fyshwick ACT and offsite disaster recovery (DR) facility at CDC Eastern Creek NSW.  The Enterprise Data Community Environment (EDCE) is hosted in NEXTDC Fortitude Valley QLD.</p> <p>AUCloud development teams are located in Brisbane.</p>"},{"location":"Platform_Overview/Security/security_and_governance/#how-does-aucloud-conform-to-current-security-standards","title":"How does AUCloud conform to current security standards","text":"<p>In late 2018 AUCloud undertook its first IRAP assessment.   Further to this, in October 2020 AUCloud was independently assessed by an IRAP assessor under the ACSC Cloud Security Controls Matrix (CCSM) released in July 2020.  AUCloud continues to maintain IRAP certification and undergoes IRAP assessments very two years.</p> <p>The IRAP assessors cloud security assessment report (AUCloud security fundamentals and cloud services report), CCSM, System Security Plan (SSP) and other security related documents are available to customer security teams upon request.</p> <p>AUCloud aligns to the requirements of the PSPF and the ACSC Essential 8 with a self-assessed maturity of level 2.</p> <p>AUCloud is ISO/IEC 27001 certified having received certification in January 2020.</p> <p>AUCloud has been awarded vendor certifications: Cisco Master Service Provider for Cloud and Managed Services and VMware Cloud Verified.</p> <p>AUCloud has built its own security framework to align with the requirements of the ISM and ACSC.  This includes but is not limited to the following:</p> <ul> <li>Cloud security assessment report (AUCloud security fundamentals and cloud services report).</li> <li>System Security Plan (SSP): As required by the ISM, an SSP is maintained for AUCloud to describe the solution\u2019s control environment.</li> <li>ACSC Cloud Security Controls Matrix (CCSM): List of the applicable controls from the ISM that provides a mechanism to identify and track solution security controls and can be used to indicate which controls have been implemented and provide justification for controls that have not been implemented.</li> <li>Policies and Plans: AUCloud\u2019s staff are subject to security policies which are guiding principles that ensure the availability, integrity and confidentiality of sensitive information and the AUCloud service.</li> <li>Action Plan: As required by the ISM, the Action Plan describes a plan of action and milestones to monitor and reduce security vulnerabilities to the AUCloud system.</li> <li>Standard Operating Procedures (SOPs): AUCloud maintains various SOPS which provide employees guidance to fulfil their security obligations.</li> <li>Security Cleared Personnel: AUCloud employees with privileged access to systems hold a Baseline or higher security clearance.  AUCloud upholds the security requirements required as a member of the Defence Industry Security Program.</li> </ul>"},{"location":"Platform_Overview/Security/security_and_governance/#ownership-of-aucloud","title":"Ownership of AUCloud","text":"<p>Sovereign Cloud Australia (AUCloud) is entirely owned, governed and managed by Australians. Customer, operational and management data is only accessible from onshore Australia. All data including customer data, metadata, support and administrative data along with backup data remains onshore (in Australia).</p>"},{"location":"Platform_Overview/Security/shared_service_model/","title":"Shared Responsibility Model","text":""},{"location":"Platform_Overview/Security/shared_service_model/#overview","title":"Overview","text":"<p>The AUCloud CRISP describes the shared security model between AUCloud and the customer. The shared responsibility model varies based on the underlying service(s) consumed by customers.</p>"},{"location":"Platform_Overview/Security/shared_service_model/#infrastructure-as-a-service-compute","title":"Infrastructure as a Service (Compute)","text":"<p>The IaaS offering is the core of our platform, and hosts any PaaS or SaaS services provided by AUCloud; inheriting the IaaS RACI.</p> <p>The following diagram describes the shared responsibility for the AUCloud customers and AUCloud for our core IaaS services. </p>"},{"location":"Platform_Overview/Security/shared_service_model/#iaas-raci","title":"IaaS RACI","text":"<p>The following RACI chart describes, the responsibilities, and accountabilities between AUCloud and the AUCloud Customer.</p> Feature AUCloud (IaaS) Customer Backups &amp; replication (storage) C R, A Change Management AUCloud IaaS R, A C Change Management customer PaaS / SaaS C R, A Configuration and management of physical network devices R, A C Configuration and management of virtual network devices C R, A Configuration and management of Server VM\u2019s C R, A Configuration management of customer application C R, A Configuration and management of databases C R, A Logical segmentation &amp; service isolation R, A C Logging and monitoring customer PaaS/ SaaS R, A Logging and monitoring AUCloud IaaS R, A I Network access and controls, packet inspections (network) R, A C Patch management of physical devices R, A C Patch management of virtual machines C R, A Physical access and video monitoring (facilities) R, A I Privileged user management customer PaaS / SaaS R, A Privileged user management AUCloud IaaS R, A User management customer PaaS / SaaS R, A"},{"location":"Platform_Overview/Security/CRISP/","title":"Community Rules Information Security Policy (CRISP)","text":"<p>The AUCloud Community Rules Information Security Policy (CRISP) for each community environment can be found here:</p> <ul> <li>ODCE CRISP</li> <li>PDCE CRISP</li> <li>EDCE CRISP</li> </ul>"},{"location":"Platform_Overview/Security/CRISP/edce_crisp/","title":"Enterprise Data Community Environment CRISP","text":"<p>This Community Rules Information Security Policy (CRISP) is the formal, top-level security document, which identifies those aspects that are within the remit of the AUCloud Chief Information Security Officer (CISO) and those that are within the remit of the data-owning client\u2019s CISO. All client's utilising AUCloud are required to review and accept the CRISP.</p>"},{"location":"Platform_Overview/Security/CRISP/edce_crisp/#1-policy-overview","title":"1. Policy Overview","text":"<p>1.1 Sovereign Cloud Australia (AUCloud) provides an infrastructure to enable clients to host data and applications in a secure and resilient manner. AUCloud platforms are designed to meet the controls of the International Organisation for Standardization (ISO) 27001 (Information Security) standard and the PROTECTED controls as documented within the Australian Government\u2019s Information Security Manual (ISM) and will meet the assurance requirements associated with data at these levels and other information security standards. The resulting Infrastructure-as-a-Service (IaaS) compute and storage services enable clients to host their data within environments that mitigate the underlying risks associated with their data.</p> <p>1.2 National Institute for Standards in Technology (NIST) based cloud services are designed with distinct separations of ownership of the overall environment. AUCloud provides and owns the infrastructure that supports the applications and data, whilst the clients own and have responsibility for, their individual applications, system configurations and associated data.</p> <p>1.3 This separation of ownership also includes a separation of security ownership, accountability, and responsibility. The AUCloud environment will meet the controls as specified in the Information Security Manual (ISM) as well as achieving applicable certifications and supporting assurance validations. To meet these criteria, it is necessary to identify the overall security requirement and then to agree the ownership, accountability, and responsibility boundaries between AUCloud and its clients.</p> <p>1.4 This Community Rules Information Security Policy (CRISP) is the formal, top-level security document, which identifies those aspects that are within the remit of the AUCloud Chief Information Security Officer (CISO) and those that are within the remit of the data-owning client\u2019s CISO. Specific information is contained within the Risk Management and Accreditation Document Set (RMADS) issued for each AUCloud service.</p> <p>1.5 AUCloud IaaS is provided for the benefit of Australian Government (Federal, State and Local) including related entities and charitable organisations, Critical National Infrastructure sectors, enterprise and corporate clients, as well as organisations providing services to or on behalf of Government and Critical National Infrastructure.</p> <p>1.6 The CRISP addresses the responsibilities and required behaviours for customers and their users of AUCloud\u2019s Community Environment that is designed to support data that customers have identified as requiring protection in line with ASD\u2019s ISM controls. Acceptance of the EDCE CRISP is agreement to comply with the separation of security requirements and responsibilities.</p>"},{"location":"Platform_Overview/Security/CRISP/edce_crisp/#2-security-policy","title":"2. Security Policy","text":"<p>2.1 The EDCE CRISP, while being the overarching security policy for the AUCloud environment, does not address individual security requirements in detail. AUCloud shall provide corresponding security documentation for the infrastructure and the client shall provide similar documentation for their individual applications and data.</p> <p>2.2  AUCloud has communicated the detailed security requirements of its services within its RMADS documentation. The RMADS documentation is provided to the end client\u2019s CISO prior to their deployment and consumption of the AUCloud service, and the client remains at all times responsible for full compliance with the requirements of the security procedures contained within the RMADS documentation.  </p> <p>2.3 Each party (AUCloud and the end client) shall make the other party aware of any salient aspects of their own security policy.</p> <p>2.4 The EDCE CRISP and AUCloud Information Security Policy shall be reviewed annually as a minimum, and in the event of any security incident. Changes, if required, shall be informed to the client. It is expected that the client shall also review their security policy at least annually and any relevant changes will be informed to AUCloud promptly.  </p>"},{"location":"Platform_Overview/Security/CRISP/edce_crisp/#3-organisation-of-information-security","title":"3. Organisation of Information Security","text":"<p>3.1 AUCloud shall have designated Risk Owners and Security Officers with an overall Responsible Individual designated to own the security regime of each. The client shall have their own designated personnel in the relevant roles to own and co-ordinate their own security activities.</p> <p>3.2 Formal processes shall exist between AUCloud and its customer, suppliers and where relevant, its channel partners to co-ordinate their security activities. The client shall ensure that relevant co-ordination exists with their areas of responsibility. Liaison and co-ordination between the client and AUCloud shall be agreed as part of the formal contract using this EDCE CRISP.</p> <p>3.3 The initial configuration and composition of the overall system shall be agreed between AUCloud and the client. Any subsequent changes or additions to the system will be addressed through a formal Change Management Process and agreed with the applicable accreditation authority as applicable. AUCloud shall not make any changes to technology that it has responsibility for other than those that are known, approved and scheduled, or those considered necessary to complete emergency maintenance or address a serious security incident or vulnerability. The client shall ensure that any changes to their existing applications or data processing arrangements will be subject to the documented requirements of their own change management process.  </p> <p>3.4 The security monitoring of the AUCloud Management Platform environment shall be implemented to identify and manage security incidents. AUCloud shall contact the relevant authorities (e.g. Australian Cyber Security Centre (ACSC) or AusCERT) in the event of any such incident as well as invoking the defined Incident Management Process. Clients shall be informed in the event of any such incidents in accordance with the agreed Incident Management Process, using the client contacts notified within the Security Incident Reporting Matrix. </p> <p>3.5 The client shall be responsible for complying with all applicable reporting requirements with respect to their applications and data.  </p> <p>3.6 The client shall promptly inform AUCloud when they detect any Security Incidents in accordance with the Incident Management Process. This shall include proactive notifications of current ongoing security incidents, and reactive notifications for previous security incidents.</p> <p>3.7 AUCloud and the client shall agree with the relevant assurance and certification bodies the frequency of review for any assurance or certification status (if applicable).</p> <p>3.8 AUCloud services will be assessed for risk using the ISO 27001 standard as part of AUCloud going through ASD\u2019s Information Security Registered Assessor Program (IRAP) security assessment. This risk assessment shall be reviewed annually to ensure that the AUCloud risk situation is current and valid. There shall be additional assessments in the event of any major security incident. Any changes to the risk profile shall be informed to the client. The client shall conduct their own risk assessment and shall review their own assessment at least annually in line with information security requirements. </p> <p>3.9 AUCloud has responsibility for ensuring that the cloud infrastructure provides the relevant level of security, including security monitoring (for the AUCloud Management Platform) and Incident Management. AUCloud shall also ensure that all personnel who have access to the infrastructure have obtained and retain a minimum-security clearance of Negative Vetting Level 1 as defined by the Australian Government\u2019s Protective Security Policy Framework.</p> <p>3.10 The client shall have responsibility for ensuring that their applications and data are provided with the relevant level of security and that access to those applications and their data is restricted to those who require such access and who have completed formal employment screening/suitability checks.</p>"},{"location":"Platform_Overview/Security/CRISP/edce_crisp/#4-connectivity-options","title":"4. Connectivity Options","text":"<p>4.1 Access to the EDCE Management Portal is provided using geo-location services and restricted to Australian IP addresses. AUCloud and the client shall agree if any changes are required to this control for access beyond non-Australian IP addresses.</p> <p>4.2 AUCloud shall provide the following connectivity options for clients connecting to the AUCloud EDCE platform:</p> <p>Direct fibre connection where a client resides in the same data centre facility; Network service provider where a client has a connection within an AUCloud data centre; Virtual Private Network (VPN) connection through the client\u2019s edge services gateway. 4.3 AUCloud shall provide suitable encryption options, typically IPSec or MACsec, to clients connecting to the AUCloud EDCE platform based upon the connectivity method selected. Encryption technologies shall be implemented in line with the requirements of the ISM.</p> <p>4.4 Clients connecting to AUCloud services shall also have the option of utilising AUCloud\u2019s security monitoring service for the continuous monitoring of the client\u2019s environment.</p>"},{"location":"Platform_Overview/Security/CRISP/edce_crisp/#5-asset-management","title":"5. Asset Management","text":"<p>5.1 The AUCloud infrastructure comprises several separate environments, each designed for different sectors and employing different security controls. All elements of each environment shall be inventoried to meet the stated requirements of the sector and any data classification requirements. All environments shall be assessed for security control effectiveness in relation to data confidentiality, integrity and availability.</p> <p>5.2 The client shall identify all their assets to be used within and to access the AUCloud environment and will assess them to ensure their suitability regarding data confidentiality, integrity and availability. </p> <p>5.3 AUCloud shall label and handle all management information assets that they have control of and responsibility for, in accordance with the sensitivity of each asset.  </p> <p>5.4 The client shall have sole responsibility for the labelling and handling of their information assets, and any other assets associated with their applications. The client shall also be responsible for assessing and complying with their own data aggregation requirements, and for assessing if this aggregation affects their defined security levels.</p> <p>5.5 AUCloud shall be responsible for assessing the overall implications of aggregation of data across its cloud infrastructure.</p>"},{"location":"Platform_Overview/Security/CRISP/edce_crisp/#6-physical-environmental-security","title":"6. Physical &amp; Environmental Security","text":"<p>6.1 AUCloud shall have responsibility for ensuring that all physical and environmental controls are in place in those areas where the infrastructure, or management access to that infrastructure, is made. They are also responsible for ensuring that the relevant level of physical access controls to such areas is in place.</p> <p>6.2 The client shall have responsibility for ensuring that the relevant security and physical access controls are in place at all locations where access to their data is made from.</p> <p>6.3 AUCloud shall provide appropriate training, guidance and security controls to its personnel who are to undertake their duties within secure areas. The client shall be responsible for providing any training, guidance or security controls needed for its personnel working in secure areas where access to their applications and data is made from.</p> <p>6.4 AUCloud shall be responsible for the siting and protection of equipment within the data centre environment. The client shall be responsible for the siting and protection of equipment within their own environment(s), which is used to provide access to their applications and data.</p> <p>6.5 AUCloud shall maintain all equipment within their control. Such maintenance shall be conducted in a secure manner by personnel with a minimum-security clearance of NV1 as defined by the PSPF. The client shall be responsible for the maintenance of the equipment they use to access the AUCloud cloud environment and for the suitability and security vetting of personnel who conduct maintenance on their equipment.</p> <p>6.6 AUCloud shall ensure the security of off-site infrastructure (such as laptop computers and mobile devices) and the information that may be contained on them. Client data stored on AUCloud services shall not be stored on off-site equipment. Appropriate protection, in line with ISM controls, will be provided for any transportable media.</p> <p>6.7 AUCloud shall ensure the secure disposal of any equipment within their control that requires replacement. The client shall be responsible for the secure disposal or re-use of any equipment within their control that is used to hold or access secure data.</p> <p>6.8 AUCloud shall ensure that the appropriate physical security is applied to prevent the removal of equipment or assets within their control. The client shall be responsible for the physical security of their equipment and information assets. </p>"},{"location":"Platform_Overview/Security/CRISP/edce_crisp/#7-communication-operations-management","title":"7. Communication &amp; Operations Management","text":"<p>7.1 AUCloud shall produce specific procedures for the function of the Management Platforms that supports the EDCE, which shall be maintained in AUCloud Standard Operating Procedures (SOPs) repository.</p> <p>7.2 The client shall be responsible for producing SOPs for use with their applications and data.</p> <p>7.3 AUCloud shall ensure that only its personnel have access according to their role within the EDCE Management Platform and that no potential conflict exists in the allocation of these roles. The client shall be responsible for ensuring that, where appropriate, the relevant segregation of duties is enforced within their own environment.</p> <p>7.4 AUCloud shall continually manage and monitor the services provided by any third-party provider to the AUCloud EDCE Management Platforms through the security monitoring system. The client shall be responsible for ensuring that any services (including security monitoring thereof) provided by their third parties are regularly managed, audited and assessed.</p> <p>7.5 The services provided by AUCloud third parties shall be contractually defined. Any subsequent changes to these services shall be via Change Management. Significant changes shall be notified to and authorised by the appropriate assurance or certification body, if applicable. The client shall be responsible for managing changes to the services provided by their third-parties and ensuring that AUCloud and, where relevant, their assurance or certification body is informed.</p> <p>7.6 AUCloud shall monitor and manage the capacity of the AUCloud EDCE Management Platforms. The client shall be responsible for monitoring and managing the specific capacity requirements of their own systems hosted on AUCloud EDCE infrastructure.</p> <p>7.7 AUCloud shall ensure that the relevant controls against the introduction of viruses and malicious code are in place for the EDCE and the related EDCE Management Platform. The client shall be responsible for ensuring that they have appropriate and relevant controls in place to protect their environments and data from malicious code being introduced to their data.</p> <p>7.8 AUCloud shall ensure that a security monitoring service is in operation to provide protection to the AUCloud EDCE Management Platforms. Clients are advised to ensure that their environments are similarly protected by an appropriate security monitoring service.</p> <p>7.9 AUCloud shall ensure that a suite of data backup services and appropriate infrastructure are made available and supported so that clients can backup their data as required. The client shall be responsible for the selection and configuration of the data backup tools, which are required to address their specific data backup requirements.</p> <p>7.10 AUCloud shall ensure that the relevant security controls are in place on the AUCloud EDCE Management Platform networks. The client shall be responsible for ensuring that their network, up to the point of accessing the AUCloud managed networks, has the relevant security controls (a) as identified by their own risk assessment activities, and (b) which align with the client requirements documented within the RMADS for the AUCloud EDCE service.</p> <p>7.11 AUCloud shall ensure that appropriate security controls are in place to protect any media within its control, including the disposal of media that is no longer serviceable or which is no longer required, as well as the sanitisation or destruction of any data on such media. The client shall be responsible for the proper management and secure deletion of their data, which is located within the AUCloud EDCE.</p> <p>7.12 AUCloud shall ensure that appropriate information exchange policies, agreements and procedures are in place within the Management Platforms. The client shall be responsible for establishing and implementing information exchange policies, agreements and procedures with respect to their own applications and data, which align with the client requirements documented within the security procedures of the RMADS for the AUCloud EDCE.</p> <p>7.13 AUCloud shall ensure that all user activity within the EDCE Management Platforms are audited and logged. Any anomalous behaviour shall be investigated. The client shall be responsible for the audit of user activity of their applications and data.</p> <p>7.14 AUCloud shall monitor system use of the EDCE Management Platforms as part of any incident response or investigation. The client shall be responsible for monitoring system use as part of an incident response or investigation into the applications and data.</p> <p>7.15 AUCloud shall be responsible for the protection of audit logs. The client shall be responsible for the protection of audit logs under their control relating to access to and use of their data.</p> <p>7.16 AUCloud shall be responsible for the audit logs of users within the EDCE Management Platforms. The client shall be responsible for audit logs under their control, which record activities relating to users of the data.</p> <p>7.17 Any system faults within the EDCE shall be logged and, depending on the category of faults, reviewed at defined intervals by AUCloud. The client shall be responsible for logging and reviewing faults associated with their applications.</p>"},{"location":"Platform_Overview/Security/CRISP/edce_crisp/#8-access-control","title":"8. Access Control","text":"<p>8.1 AUCloud shall not access client data or applications, unless specifically requested to do so by the client, and having received prior formal written approval for this access from the client. Access to the EDCE Management Platforms shall be defined according to the function of the individual AUCloud employee. The client shall be responsible for managing and controlling access to their data.</p> <p>8.2 AUCloud shall be responsible for implementing a user registration procedure for personnel who access the EDCE Management Platform, and for undertaking reviews of the privileges and access rights of personnel who have such access. The client shall be responsible for implementing a user registration procedure for personnel who are to access their data and applications, and for undertaking regular reviews of the privileges and access rights of personnel who are to access them.</p> <p>8.3 AUCloud shall not access client data or applications, unless specifically requested to do so by the client, and having received prior formal written approval for this access from the client. The client\u2019s security monitoring system shall identify any specific access to client data or applications that it has been requested to report. The client shall be responsible for identifying such activities, which are to be monitored and reported.</p> <p>8.4 AUCloud shall be responsible for ensuring that its personnel working remotely will only be able to do so in accordance with AUCloud policy. The client shall be responsible for identifying any remote working function it may have and developing relevant security procedures.</p> <p>8.5 AUCloud shall be responsible for ensuring that personnel accessing its EDCE Management Platforms use only accredited and/or approved technologies, which are required by the controls underpinning the EDCE Platform. The client shall be responsible for ensuring that external connectivity into their services(s) is undertaken using only accredited and/or approved technologies.</p>"},{"location":"Platform_Overview/Security/CRISP/edce_crisp/#9-information-security-incident-management","title":"9. Information Security Incident Management","text":"<p>9.1 AUCloud shall operate an Information Security Incident Management Policy, which details the management, investigation and reporting of potential or actual breaches of the confidentiality, integrity or availability of a company information asset (or a client data asset where the company is engaged in a contractual agreement to protect the client data) or of a supporting asset (upon which the security of information assets depend).</p> <p>9.2 The client shall be responsible for the management and reporting of potential or actual information security breaches to their data and applications to their own relevant external bodies, aligned to the Mandatory Notifiable Data Breach legislation. The client shall be required to immediately notify AUCloud of all such incidents.</p> <p>9.3 The client shall be responsible for ensuring that their personnel details recorded within the Security Incident Reporting Matrix are regularly checked for accuracy, and for the prompt reporting to AUCloud of any personnel changes that need to be made.</p> <p>9.4 AUCloud shall operate an Information Security Incident Management Policy that details the requirement to identify, report and act upon any known or suspected weaknesses to information or supporting assets within the AUCloud EDCE Management Platforms. Such weaknesses may also be identified by periodic security assessments, including technical reviews, audits or penetration tests.</p> <p>9.5 The client shall be responsible for the identification and reporting of known or suspected weaknesses within their applications, and for promptly reporting these to AUCloud.</p> <p>9.6 AUCloud shall operate an Information Security Incident Management Policy that details the roles, responsibilities and procedures required for managing, reporting and resolving information security incidents. The client shall be responsible for defining roles and responsibilities and implementing procedures for the reporting, management and resolution of information security incidents arising within their applications and/or data.</p> <p>9.7 AUCloud shall maintain overall responsibility for the management and operation of the AUCloud EDCE Management Platforms. It shall be fully monitored and protected by a security monitoring service, which includes the collection and retention of log files and user activity data for use within any subsequent investigation. The client shall be responsible for the identification of information relating to their applications and data, which needs to be retained and made available for any subsequent investigation.</p>"},{"location":"Platform_Overview/Security/CRISP/edce_crisp/#10business-continuity-management","title":"10.Business Continuity Management","text":"<p>10.1 AUCloud shall operate Business Continuity policies and procedures that ensure that the EDCE Management Platform will continue to operate in the event of an unplanned business interruption to meet the service levels contracted with its clients. These shall be validated either by the design of the EDCE and related EDCE Management Platform, or in some cases by focused testing activities. The client shall be responsible for implementing business continuity arrangements to address any unplanned business interruptions that are directly and solely attributable to a failure of their applications, and any consequential unavailability of their data.</p>"},{"location":"Platform_Overview/Security/CRISP/edce_crisp/#11-compliance","title":"11. Compliance","text":"<p>11.1 AUCloud shall identify all applicable legislation, regulation and guidance relevant to its operations, including the PSPF and ISM, and is committed to full compliance with these. The client shall be responsible for identifying and complying with all applicable legislation and regulations that are appropriate for their own business.</p> <p>11.2 AUCloud shall identify and implement controls to protect its intellectual property rights, including, but not limited to its systems, software, designs, configurations and documentation. The client shall be responsible for the appropriate protection of the intellectual property rights associated with their applications and data.</p> <p>11.3 AUCloud shall operate a Data Protection Policy and related procedures to ensure that personal information and personally identifiable information is always protected in accordance with the Australian Privacy Act 1988. The client shall be responsible for full compliance with the Australian Privacy Act 1988 in respect of personal data introduced into the AUCloud environment.</p> <p>11.4 The client shall remain responsible for undertaking a Business Impact Assessment of their data that is to be processed by or stored within the AUCloud EDCE service.</p> <p>11.5 AUCloud shall operate an Acceptable Use Policy, provide training to its personnel on the acceptable use of information systems, and shall retain log files and user activity data to ensure that such systems are only used for authorised purposes in an acceptable way. The client shall be responsible for ensuring that their authorised users do not misuse information processing facilities.</p> <p>11.6 AUCloud shall be responsible for ensuring that network access to its EDCE Management Platform is protected using encryption technologies defined within the ISM. The client shall be responsible for ensuring that external connectivity into their services(s) is undertaken using similar technologies or alternative network connectivity solutions.</p> <p>11.7 AUCloud shall have periodic (no less than annual) reviews of compliance with their security policies, processes and procedures. The client shall be responsible for assessing compliance with their own policies and for informing AUCloud and the accreditor of the results.</p>"},{"location":"Platform_Overview/Security/CRISP/odce_crisp/","title":"Official Data Community Environment CRISP","text":""},{"location":"Platform_Overview/Security/CRISP/odce_crisp/#1-policy-overview","title":"1. Policy Overview","text":"<p>1.1 Sovereign Cloud Australia (AUCloud) provides an infrastructure to enable clients to host data and applications in a secure and resilient manner. The AUCloud platforms are designed to meet the controls of PROTECTED as documented within the Australia Signals Directorate\u2019s (ASD) Information Security Manual 2017 (ISM) and will meet the accreditation and assurance requirements associated with data at these levels. The resulting Infrastructure-as-a-Service (IaaS) compute and storage services enable users (and their Chief Information Security Officer) to host their data within environments that mitigate the underlying risks associated with data that they have assessed as OFFICIAL, OFFICIAL: Sensitive or PROTECTED as per the Protective Security Policy Framework (PSPF).</p> <p>1.2 By definition, National Institute for Standards in Technology (NIST) based cloud services are designed with distinct separations of ownership of the overall environment. Essentially, AUCloud provides and owns the infrastructure that supports the applications and data, whilst the clients own and have responsibility for, their individual applications, system configurations and associated data.</p> <p>1.3 This separation of ownership also includes a separation of security ownership, accountability and responsibility. The AUCloud environment will meet the controls as specified in the Information Security Manual (ISM) as well as achieving applicable accreditations, certifications and supporting assurance validations. To meet these criteria, it is necessary to identify the overall security requirement and then to agree the ownership, accountability and responsibility boundaries between AUCloud and its clients.</p> <p>1.4 This Community Rules Information Security Policy (CRISP) is the formal, top-level security document, which identifies those aspects that are within the remit of the AUCloud Chief Information Security Officer (CISO) and those that are within the remit of the data-owning client\u2019s CISO. Specific information is contained within the security procedure sections of the appropriate Risk Management and Accreditation Document Set (RMADS) issued for each individual AUCloud service. </p> <p>1.5 AUCloud IaaS is provided for the benefit of Australian Government (Federal, State and Local) including related entities and charitable organisations, Critical National Industries including Banking and Finance, Communications, Energy, Health, Transport and Water services, as well as organisations providing services to or on behalf of Government and Critical National Industries.</p> <p>1.6 This CRISP addresses the responsibilities and required behaviours for customers and their users of AUCloud\u2019s Community Environment that is designed to support data that customers have classified as OFFICIAL or OFFICIAL: Sensitive in line with ASD\u2019s ISM. Acceptance of this ODCE CRISP is agreement to comply with the separation of security requirements and responsibilities.</p>"},{"location":"Platform_Overview/Security/CRISP/odce_crisp/#2-security-policy","title":"2. Security Policy","text":"<p>2.1 The ODCE CRISP, while being the overarching security policy for the AUCloud environment, does not address individual security requirements in detail. AUCloud shall provide corresponding security documentation for the infrastructure and the client shall provide similar documentation for their individual applications and data.</p> <p>2.2 AUCloud has communicated the detailed security requirements of its services within the ODCE RMADS documentation. The ODCE RMADS documentation is provided to the end client\u2019s CISO prior to their deployment and consumption of the AUCloud service, and the client remains at all times responsible for full compliance with the requirements of the security procedures contained within the ODCE RMADS documentation.  </p> <p>2.3 Each party (AUCloud and the end client) shall make the other party aware of any salient aspects of their own security policy.</p> <p>2.4 The ODCE CRISP and AUCloud Information Security Policy shall be reviewed annually as a minimum, and in the event of any security incident. Changes, if required, shall be informed to the client. It is expected that the client shall also review their security policy at least annually and any relevant changes will be informed to AUCloud promptly.  </p>"},{"location":"Platform_Overview/Security/CRISP/odce_crisp/#3-organisation-of-information-security","title":"3. Organisation of Information Security","text":"<p>3.1 AUCloud shall have designated Risk Owners and Security Officers with an overall Responsible Individual designated to own the security regime of each. The client shall have their own designated personnel in the relevant roles to own and co-ordinate their own security activities.</p> <p>3.2 Formal processes shall exist between AUCloud and its customer, suppliers and where relevant, its channel partners to co-ordinate their security activities. The client shall ensure that relevant co-ordination exists with their areas of responsibility. Liaison and co-ordination between the client and AUCloud shall be agreed as part of the formal contract using this ODCE CRISP.</p> <p>3.3 The initial configuration and composition of the overall system shall be agreed between AUCloud and the client. Any subsequent changes or additions to the system will be addressed through a formal Change Management Process and agreed with the applicable accreditation authority as applicable. AUCloud shall not make any changes to technology that it has responsibility for other than those that are known, approved and scheduled, or those considered necessary to complete emergency maintenance or address a serious security incident. The client shall ensure that any changes to their existing applications or data processing arrangements will be subject to the documented requirements of their own change management process.  </p> <p>3.4 The Protective Monitoring of the AUCloud Management Platform environment shall be implemented to identify and manage security incidents. AUCloud shall contact the relevant authorities (e.g. Australian Cyber Security Centre (ACSC) or AusCERT) in the event of any such incident as well as invoking the defined Incident Management Process. Clients shall be informed in the event of any such incidents in accordance with the agreed Incident Management Process, using the client contacts notified within the Security Incident Reporting Matrix.  </p> <p>3.5 The client shall be responsible for complying with all applicable reporting requirements with respect to their applications and data.  </p> <p>3.6 The client shall promptly inform AUCloud when they detect any Security Incidents in accordance with the Incident Management Process. This shall include proactive notifications of current ongoing security incidents, and reactive notifications for previous security incidents.</p> <p>3.7 AUCloud and the client shall agree with the relevant accreditation and certification bodies the frequency of review of any accreditation or certification status (if applicable).</p> <p>3.8 AUCloud services will be assessed for risk using the International Organisation for Standardization (ISO) 27001 standard as part of AUCloud going through ASD\u2019s Information Security Registered Assessor Program (IRAP) security assessment. This risk assessment shall be reviewed annually to ensure that the risk situation is current and valid. There shall be additional assessments in the event of any major security incident. Any changes to the risk profile shall be informed to the client. The client shall conduct their own risk assessment and shall review their own assessment at least annually in line with ISM requirements.  </p> <p>3.9 AUCloud has responsibility for ensuring that the cloud infrastructure provides the relevant level of security, including Protective Monitoring (for the AUCloud Management Platform) and Incident Management. AUCloud shall also ensure that all personnel who have access to the infrastructure have obtained and retain a minimum-security clearance of Negative Vetting Level 1 (NV1) as defined by the PSPF.</p> <p>3.10 The client shall have responsibility for ensuring that their applications and data are provided with the relevant level of security and that access to those applications and their data is restricted to those who require such access and who have completed formal employment screening/suitability checks.</p>"},{"location":"Platform_Overview/Security/CRISP/odce_crisp/#4-connectivity-options","title":"4. Connectivity Options","text":"<p>4.1 Access to the ODCE Management Portal is provided using geo-location services and restricted to Australian IP addresses. AUCloud and the client shall agree if any changes are required to this control for access beyond non-Australian IP addresses.</p> <p>4.2 AUCloud shall provide the following connectivity options for clients connecting to the AUCloud ODCE platform: </p> <p>Direct fibre connection where a client resides in the same data centre facility; Network service provider where a client has a connection within an AUCloud data centre; Virtual Private Network (VPN) connection through the client\u2019s edge services gateway. 4.3 AUCloud shall provide suitable encryption options, typically IPSec or MACsec, to clients connecting to the AUCloud ODCE platform based upon the connectivity method selected. Encryption technologies shall be implemented in line with the requirements of the ISM.</p> <p>4.4 Clients connecting to AUCloud services shall also have the option of utilising AUCloud\u2019s Protective Monitoring service for the continuous monitoring of the client\u2019s environment.</p>"},{"location":"Platform_Overview/Security/CRISP/odce_crisp/#5-asset-management","title":"5. Asset Management","text":"<p>5.1 The AUCloud infrastructure comprises several separate environments, each designed for different sectors and employing different security controls. All elements of each environment shall be inventoried and classified to meet the stated requirements of the sector and data classification. All environments shall be assessed for security control effectiveness in relation to data Confidentiality, Integrity and Availability.  </p> <p>5.2 The client shall identify all their assets to be used within and to access the AUCloud environment and will assess them to ensure their suitability with regard to data Confidentiality, Integrity and Availability.  </p> <p>5.3 AUCloud shall label and handle all management information assets that they have control of and responsibility for, in accordance with the sensitivity and/or protective marking of each asset.  </p> <p>5.4 The client shall have sole responsibility for the labelling and handling of their information assets, and any other assets associated with their applications. The client shall also be responsible for assessing and complying with their own data aggregation requirements, and for assessing if this aggregation affects their defined security levels. AUCloud assumes that clients will only deploy data that is classified as OFFICIAL or OFFICIAL: Sensitive within the ODCE.</p> <p>5.5 AUCloud shall be responsible for assessing the overall implications of aggregation of data across its cloud infrastructure.</p>"},{"location":"Platform_Overview/Security/CRISP/odce_crisp/#6-physical-environmental-security","title":"6. Physical &amp; Environmental Security","text":"<p>6.1 AUCloud shall have responsibility for ensuring that all physical and environmental controls are in place in those areas where the infrastructure, or management access to that infrastructure, is made. They are also responsible for ensuring that the relevant level of physical access controls to such areas is in place.</p> <p>6.2 The client shall have responsibility for ensuring that the relevant security and physical access controls are in place at all locations where access to their data is made from.</p> <p>6.3 AUCloud shall provide appropriate training, guidance and security controls to its personnel who are to undertake their duties within secure areas. The client shall be responsible for providing any training, guidance or security controls needed for its personnel working in secure areas where access to their applications and data is made from.</p> <p>6.4 AUCloud shall be responsible for the siting and protection of equipment within the data centre environment. The client shall be responsible for the siting and protection of equipment within their own environment(s), which is used to provide access to their applications and data.</p> <p>6.5 AUCloud shall maintain all equipment within their control. Such maintenance shall be conducted in a secure manner by personnel with a minimum-security clearance of Negative Vetting Level 1 (NV1) as defined by the PSPF. The client shall be responsible for the maintenance of the equipment they use to access the AUCloud cloud environment and for the suitability and security clearance of personnel who conduct maintenance on their equipment to ensure a minimum-security clearance of Baseline as defined by the PSPF.</p> <p>6.6 AUCloud shall ensure the security of off-site infrastructure (such as laptop computers and mobile devices) and the information that may be contained on them. Client data stored on AUCloud services shall not be stored on off-site equipment. Appropriate protection, in line with ISM requirements, will be provided for any transportable media.</p> <p>6.7 AUCloud shall ensure the secure disposal, in line with ISM requirements, of any equipment within their control that requires replacement. The client shall be responsible for the secure disposal or re-use of any equipment within their control that is used to hold or access secure data.</p> <p>6.8 AUCloud shall ensure that the appropriate physical security, in line with PSPF requirements, is applied to prevent the removal of equipment or assets within their control. The client shall be responsible for the physical security of their equipment and information assets. </p>"},{"location":"Platform_Overview/Security/CRISP/odce_crisp/#7-communication-operations-management","title":"7. Communication &amp; Operations Management","text":"<p>7.1 AUCloud shall produce specific procedures for the function of the Management Platforms that supports the ODCE, which shall be combined into an overall AUCloud Standard Operating Procedures (SOPs) manual.</p> <p>7.2 The client shall be responsible for the production of operating procedures for their use of the applications and data. The client shall be responsible for ensuring that such documentation is developed in line with ISM requirements. </p> <p>7.3 AUCloud shall ensure that only its personnel have access according to their role within the ODCE Management Platform and that no potential conflict exists in the allocation of these roles. The client shall be responsible for ensuring that, where appropriate, the relevant segregation of duties is enforced within their own environment.</p> <p>7.4 AUCloud shall continually manage and monitor the services provided by any third-party provider to the AUCloud ODCE Management Platforms through the Protective Monitoring system. The client shall be responsible for ensuring that any services (including Protective Monitoring thereof) provided by their third parties are regularly managed, audited and assessed.</p> <p>7.5 The services provided by AUCloud third parties shall be contractually defined. Any subsequent changes to these services shall be via Change Management. Significant changes shall be notified to and authorised by the appropriate accreditor or certification body, if applicable. The client shall be responsible for managing changes to the services provided by their third-parties and ensuring that AUCloud and, where relevant, their accreditor or certification body is informed.</p> <p>7.6 AUCloud shall monitor and manage the capacity of the AUCloud ODCE Management Platforms. The client shall be responsible for monitoring and managing the specific capacity requirements of their own systems hosted on AUCloud ODCE infrastructure.</p> <p>7.7 AUCloud shall ensure that the relevant controls against the introduction of viruses and malicious code are in place for the ODCE and the related ODCE Management Platform. The client shall be responsible for ensuring that they have appropriate and relevant controls in place to protect their environments and data from malicious code being introduced to their data. </p> <p>7.8 AUCloud shall ensure that a Protective Monitoring service is in operation to provide protection to the AUCloud ODCE Management Platforms. Clients are advised to ensure that their environments are similarly protected by an appropriate Protective Monitoring service, which aligns with the protective monitoring controls contained within the ISM.</p> <p>7.9 AUCloud shall ensure that a suite of data backup services and appropriate infrastructure are made available and supported so that clients can backup their data as required. The client shall be responsible for the selection and configuration of the data backup tools, which are required to address their specific data backup requirements.</p> <p>7.10 AUCloud shall ensure that the relevant security controls are in place on the AUCloud ODCE Management Platform networks. The client shall be responsible for ensuring that their network, up to the point of accessing the AUCloud managed networks, has the relevant security controls (a) as identified by their own risk assessment activities, and (b) which align with the client requirements documented within the security procedures of the RMADS for the AUCloud ODCE service. Additionally, the client\u2019s use of an ASD certified security gateway to access the AUCloud ODCE Management Platform shall be managed and operated strictly in accordance with the corresponding security controls as specified within the ISM.</p> <p>7.11 AUCloud shall ensure that appropriate security controls are in place to protect any media within its control, including the disposal of media that is no longer serviceable or which is no longer required, as well as the sanitisation or destruction of any data on such media. The client shall be responsible for the proper management and secure deletion of their data, which is located within the AUCloud ODCE.</p> <p>7.12 AUCloud shall ensure that appropriate information exchange policies, agreements and procedures are in place within the Management Platforms. The client shall be responsible for establishing and implementing information exchange policies, agreements and procedures with respect to their own applications and data, which align with the client requirements documented within the security procedures of the ODCE RMADS for the AUCloud ODCE.</p> <p>7.13 AUCloud shall ensure that all user activity within the ODCE Management Platforms are audited and logged. Any anomalous behaviour shall be investigated. The client shall be responsible for the audit of user activity of their applications and data.</p> <p>7.14 AUCloud shall monitor system use of the ODCE Management Platforms as part of any incident response or investigation. The client shall be responsible for monitoring system use as part of an incident response or investigation into the applications and data.</p> <p>7.15 AUCloud shall be responsible for the protection of audit logs. The client shall be responsible for the protection of audit logs under their control relating to access to and use of their data.</p> <p>7.16 AUCloud shall be responsible for the audit logs of users within the ODCE Management Platforms. The client shall be responsible for audit logs under their control, which record activities relating to users of the data.</p> <p>7.17 Any system faults within the ODCE shall be logged and, depending on the category of faults, reviewed at defined intervals by AUCloud. The client shall be responsible for logging and reviewing faults associated with their applications.</p>"},{"location":"Platform_Overview/Security/CRISP/odce_crisp/#8-access-control","title":"8. Access Control","text":"<p>8.1 AUCloud shall not access client data or applications, unless specifically requested to do so by the client, and having received prior formal written approval for this access from the client. Access to the ODCE Management Platforms shall be defined according to the function of the individual AUCloud employee. The client shall be responsible for managing and controlling access to their data.</p> <p>8.2 AUCloud shall be responsible for implementing a user registration procedure for personnel who access the ODCE Management Platform, and for undertaking reviews of the privileges and access rights of personnel who have such access. The client shall be responsible for implementing a user registration procedure for personnel who are to access their data and applications, and for undertaking regular reviews of the privileges and access rights of personnel who are to access them. Clients will also ensure that personnel authentication policy is aligned with ASD ISM best practice.</p> <p>8.3 AUCloud shall not access client data or applications, unless specifically requested to do so by the client, and having received prior formal written approval for this access from the client. The client\u2019s Protective Monitoring system shall identify any specific access to client data or applications that it has been requested to report. The client shall be responsible for identifying such activities, which are to be monitored and reported.</p> <p>8.4 AUCloud shall be responsible for ensuring that its personnel working remotely will only be able to do so in accordance with relevant ISM controls. The client shall be responsible for identifying any remote working function it may have and producing the relevant security procedures.</p> <p>8.5 AUCloud shall be responsible for ensuring that personnel accessing its ODCE Management Platforms use only accredited and/or approved technologies, which are required by the controls underpinning the ODCE Platform. The client shall be responsible for ensuring that external connectivity into their services(s) is undertaken using only accredited and/or approved technologies, which are specifically noted within the security procedures of the ODCE RMADS.</p>"},{"location":"Platform_Overview/Security/CRISP/odce_crisp/#9-information-security-incident-management","title":"9. Information Security Incident Management","text":"<p>9.1 AUCloud shall operate an Information Security Incident Management Policy, which details the management, investigation and reporting of potential or actual breaches of the Confidentiality, Integrity or Availability of a company information asset (or a client data asset where the company is engaged in a contractual agreement to protect the client data) or of a supporting asset (upon which the security of information assets depend).</p> <p>9.2 The client shall be responsible for the management and reporting of potential or actual information security breaches to their data and applications to their own relevant external bodies, aligned to the Mandatory Notifiable Data Breach legislation. The client shall be required to immediately notify AUCloud of all such incidents.</p> <p>9.3 The client shall be responsible for ensuring that their personnel details recorded within the Security Incident Reporting Matrix are regularly checked for accuracy, and for the prompt reporting to AUCloud of any personnel changes that need to be made.</p> <p>9.4 AUCloud shall operate an Information Security Incident Management Policy that details the requirement to identify, report and act upon any known or suspected weaknesses to information or supporting assets within the AUCloud ODCE Management Platforms. Such weaknesses may also be identified by periodic security assessments, including technical reviews, audits or penetration tests.</p> <p>9.5 The client shall be responsible for the identification and reporting of known or suspected weaknesses within their applications, and for promptly reporting these to AUCloud.</p> <p>9.6 AUCloud shall operate an Information Security Incident Management Policy that details the roles, responsibilities and procedures required for managing, reporting and resolving information security incidents. The client shall be responsible for defining roles and responsibilities and implementing procedures for the reporting, management and resolution of information security incidents arising within their applications and/or data.</p> <p>9.7 AUCloud shall maintain overall responsibility for the management and operation of the AUCloud ODCE Management Platforms. It shall be fully monitored and protected by a Protective Monitoring Service, which includes the collection and retention of log files and user activity data for use within any subsequent forensic investigation. The client shall be responsible for the identification of information relating to their applications and data, which needs to be retained and made available for any subsequent forensic investigation.</p>"},{"location":"Platform_Overview/Security/CRISP/odce_crisp/#10-business-continuity-management","title":"10. Business Continuity Management","text":"<p>10.1 AUCloud shall operate Business Continuity policies and procedures that ensure that the ODCE Management Platform will continue to operate in the event of an unplanned business interruption to meet the service levels contracted with its clients. These shall be validated either by the design of the ODCE and related ODCE Management Platform, or in some cases by focused testing activities. The client shall be responsible for implementing business continuity arrangements to address any unplanned business interruptions that are directly and solely attributable to a failure of their applications, and any consequential unavailability of their data.</p>"},{"location":"Platform_Overview/Security/CRISP/odce_crisp/#11-compliance","title":"11. Compliance","text":"<p>11.1 AUCloud shall identify all applicable legislation, regulation and guidance relevant to its operations, including the PSPF and ISM, and is committed to full compliance with these. The client shall be responsible for identifying and complying with all applicable legislation and regulations that are appropriate for their own business.</p> <p>11.2 AUCloud shall identify and implement controls to protect its intellectual property rights, including, but not limited to its systems, software, designs, configurations and documentation. The client shall be responsible for the appropriate protection of the intellectual property rights associated with their applications and data.</p> <p>11.3 AUCloud shall operate a Data Protection Policy and related procedures to ensure that personal information and personally identifiable information is at all times protected in accordance with the Australian Privacy Act 1988. The client shall be responsible for full compliance with the Australian Privacy Act 1988 in respect of personal data introduced into the AUCloud environment.</p> <p>11.4 The client shall remain responsible for undertaking a Business Impact Assessment, in line with PSPF requirements, of their data that is to be processed by or stored within the AUCloud ODCE service.</p> <p>11.5 AUCloud shall operate an Acceptable Use Policy, provide training to its personnel on the acceptable use of information systems, and shall retain log files and user activity data to ensure that such systems are only used for authorised purposes in an acceptable way. The client shall be responsible for ensuring that their authorised users do not misuse information processing facilities.</p> <p>11.6 AUCloud shall be responsible for ensuring that network access to its ODCE Management Platform is protected by the use of encryption technologies outlined within the ISM suitable for data classified as OFFICIAL or OFFICIAL: Sensitive. The client shall be responsible for ensuring that external connectivity into their services(s) is undertaken using similar technologies or alternative network connectivity solutions (e.g. Secure Internet Gateway, ICON) and as specifically noted within the security procedures of the ODCE RMADS.</p> <p>11.7 AUCloud shall have periodic (no less than annual) reviews of compliance with their security policies, processes and procedures as identified in the ISM. The client shall be responsible for assessing compliance with their own policies and for informing AUCloud and the accreditor of the results.</p>"},{"location":"Platform_Overview/Security/CRISP/pdce_crisp/","title":"Protected Data Community Environment CRISP","text":""},{"location":"Platform_Overview/Security/CRISP/pdce_crisp/#1-policy-overview","title":"1. Policy Overview","text":"<p>Sovereign Cloud Australia (AUCloud) provides an infrastructure to enable clients to host data and applications in a secure and resilient manner. The AUCloud platforms are designed to meet the controls of PROTECTED as documented within Australia Signals Directorate\u2019s (ASD) Information Security Manual 2017 (ISM) and will meet the accreditation and assurance requirements associated with data at these levels. The resulting Infrastructure-as-a-Service (IaaS) compute and storage services enable users (and their Chief Information Security Officers) to host their data within environments that mitigate the underlying risks associated with data that they have assessed as Unclassified with a dissemination limiting marker (DLM) or PROTECTED as per the Protective Security Policy Framework (PSPF).</p> <p>By definition, National Institute for Standards in Technology (NIST) based cloud services are designed with distinct separations of ownership of the overall environment. Essentially, AUCloud provides and owns the infrastructure that supports the applications and data, whilst the clients own and have responsibility for, their individual applications, system configurations and associated data.</p> <p>This separation of ownership also includes a separation of security ownership, accountability and responsibility. The AUCloud environment will meet the controls as specified in the Information Security Manual (ISM) as well as achieving applicable accreditations, certifications and supporting assurance validations. To meet these criteria, it is necessary to identify the overall security requirement and then to agree the ownership, accountability and responsibility boundaries between AUCloud and its clients.</p> <p>This Community Rules Information Security Policy (CRISP) is the formal, top-level security document, which identifies those aspects that are within the remit of the AUCloud Chief Information Security Officer (CISO) and Information Technology Security Advisor (ITSA) and those that are within the remit of the data-owning client\u2019s CISO and ITSA. Specific information is contained within the SyOPs sections of the appropriate RMADS documentation issued for each individual AUCloud service.</p> <p>AUCloud IaaS is provided for the benefit of Australian Government (Federal, State and Local) including related entities and charitable organisations, Critical National Industries including Banking and Finance, Communications, Energy, Health and Water services, as well as organisations providing services to or on behalf of Government and Critical National Industries</p> <p>This CRISP addresses the responsibilities and required behaviours for customers and their users of AUCloud\u2019s Community Environment that is designed to support data that customers have classified as PROTECTED in line with ASD\u2019s ISM. Acceptance of this PDCE CRISP is agreement to comply with the separation of security requirements and responsibilities.</p>"},{"location":"Platform_Overview/Security/CRISP/pdce_crisp/#2-security-policy","title":"2. Security Policy","text":"<p>2.1 The PDCE CRISP, while being the overarching security policy for the AUCloud environment, does not address individual security requirements in detail. AUCloud shall provide corresponding security documentation for the infrastructure and the client shall provide similar documentation for their individual applications and data.</p> <p>2.2 AUCloud has communicated the detailed security requirements of its services within the PDCE RMADS documentation. The PDCE RMADS documentation is provided to the end client\u2019s CISO/ITSA prior to their deployment and consumption of the AUCloud service, and the client remains at all times responsible for full compliance with the requirements of the SyOPs contained within the PDCE RMADS documentation.</p> <p>2.3 Each party (AUCloud and the end client) shall make the other party aware of any salient aspects of their own security policy.</p> <p>2.4 The PDCE CRISP and AUCloud Information Security Policy shall be reviewed annually as a minimum, and in the event of any security incident. Changes, if required, shall be informed to the client. It is expected that the client shall also review their security policy at least annually and any relevant changes will be informed to AUCloud promptly.</p>"},{"location":"Platform_Overview/Security/CRISP/pdce_crisp/#3-organisation-of-information-security","title":"3. Organisation of Information Security","text":"<p>3.1 AUCloud shall have designated Risk Owners and Security Officers with an overall Responsible Individual designated to own the security regime of each. The client shall have their own designated personnel in the relevant roles to own and co-ordinate their own security activities.</p> <p>3.2 Formal processes shall exist between AUCloud and its customer, suppliers and where relevant, its channel partners to co-ordinate their security activities. The client shall ensure that relevant co-ordination exists with their areas of responsibility. Liaison and co-ordination between the client and AUCloud shall be agreed as part of the formal contract using this PDCE CRISP.</p> <p>3.3 The initial configuration and composition of the overall system shall be agreed between AUCloud and the client. Any subsequent changes or additions to the system will be addressed through a formal Change Management Process and agreed with the applicable accreditation authority as applicable. AUCloud shall not make any changes to technology that it has responsibility for other than those that are known, approved and scheduled, or those considered necessary to complete emergency maintenance or address a serious security incident. The client shall ensure that any changes to their existing applications or data processing arrangements will be subject to the documented requirements of their own change management process.</p> <p>3.4 The Protective Monitoring of the AUCloud Management Platform environments shall be implemented to identify and manage security incidents. AUCloud shall contact the relevant authorities (e.g. Australian Cyber Security Centre (ACSC) or AusCERT) in the event of any such incident as well as invoking the defined Incident Management Process. Clients shall be informed in the event of any such incidents in accordance with the agreed Incident Management Process, and using the client contacts notified within the Security Incident Reporting Matrix.</p> <p>3.5 The client shall be responsible for complying with all applicable reporting requirements with respect to their applications and data.</p> <p>3.6 The client shall promptly inform AUCloud when they detect any Security Incidents in accordance with the Incident Management Process. This shall include proactive notifications of current ongoing security incidents, and reactive notifications for previous security incidents.</p> <p>3.7 AUCloud and the client shall agree with the relevant accreditation and certification bodies the frequency of review of any accreditation or certification status (if applicable).</p> <p>3.8 AUCloud services have been assessed for risk using the International Organisation for Standardization (ISO) 27001 standard as part of AUCloud going through ASD\u2019s Information Security Registered Assessor Program (IRAP) security assessment. This risk assessment shall be reviewed annually to ensure that the risk situation is current and valid. There shall be additional assessments in the event of any major security incident. Any changes to the risk profile shall be informed to the client. The client shall conduct their own risk assessment and shall review their own assessment at least annually, informing AUCloud of any identified changes to their own risk profile.</p> <p>3.9 AUCloud has responsibility for ensuring that the cloud infrastructure provides the relevant level of security, including Protective Monitoring (for the AUCloud Management Platform) and Incident Management. AUCloud shall also ensure that all personnel who have access to the infrastructure have obtained and retain a minimum security clearance of Negative Vetting Level 1 (NV1) as defined by the PSPF.</p> <p>3.10 The client shall have responsibility for ensuring that their applications and data are provided with the relevant level of security and that access to those applications and their data is restricted to those who require such access and who have obtained and retain a minimum security clearance of Baseline as defined by the PSPF.</p>"},{"location":"Platform_Overview/Security/CRISP/pdce_crisp/#4-connectivity-options","title":"4. Connectivity Options","text":"<p>4.1 Access to the PDCE Management Portal is provided using geo-location services and restricted to Australian IP addresses. Access to the PDCE Management Portal is explicitly restricted to Australian IP addresses and any exceptions to control must be risk assessed and agreed between AUCloud and the client.</p> <p>4.2 AUCloud shall provide the following connectivity options for clients connecting to the AUCloud PDCE platform:</p> <p>Direct fibre connection where a client resides in the same data centre facility; Network service provider where a client has a connection within an AUCloud data centre; Virtual Private Network (VPN) connection through the client\u2019s edge services gateway. 4.3 AUCloud shall provide suitable encryption options, typically IPSec or MACsec, to clients connecting to the AUCloud PDCE platform based upon the connectivity method selected. Encryption technologies shall be implemented in line with the requirements of the ISM.</p> <p>4.4 Clients connecting to AUCloud services shall provide confirmation that the client has deployed a security or protective monitoring solution in line with the requirements of the ISM. Where clients do not have a suitable solution then AUCloud\u2019s Protective Monitoring service will be utilised.</p> <p>4.5 For clients connecting to the AUCloud PDCE platform, AUCloud shall maintain a whitelist of common inbound ports that are open as standard on the platform from the internet. The whitelist policy applies where connectivity is established using internet routable addresses. All outbound ports from a client environment are open by default. AUCloud and the client shall agree if any changes are required outside of the standard whitelist.</p> <p>4.6 AUCloud shall operate enhanced network analysis and intrusion policies to ensure the protection of AUCloud platforms with security taking precedence over convenience.</p>"},{"location":"Platform_Overview/Security/CRISP/pdce_crisp/#5-asset-management","title":"5. Asset Management","text":"<p>5.1 The AUCloud infrastructure comprises a number of separate environments, each designed for different sectors and employing different security controls. All elements of each environment shall be inventoried and classified to meet the stated requirements of the sector and data classification. All environments shall be assessed for security control effectiveness in relation to data Confidentiality, Integrity and Availability.</p> <p>5.2 The client shall identify all of their assets to be used within and to access the AUCloud environment and will assess them to ensure their suitability with regard to data Confidentiality, Integrity and Availability.</p> <p>5.3 AUCloud shall label and handle all management information assets that they have control of and responsibility for, in accordance with the sensitivity and/or protective marking of each asset.</p> <p>5.4 The client shall have sole responsibility for the labelling and handling of their information assets, and any other assets associated with their applications. The client shall also be responsible for assessing and complying with their own data aggregation requirements, and for assessing if this aggregation affects their defined security levels. AUCloud assumes that clients will only deploy data that is classified as PROTECTED within the PDCE.</p> <p>5.5 AUCloud shall be responsible for assessing the overall implications of aggregation of data across its cloud infrastructure.</p>"},{"location":"Platform_Overview/Security/CRISP/pdce_crisp/#6-physical-environmental-security","title":"6. Physical &amp; Environmental Security","text":"<p>6.1 AUCloud shall have responsibility for ensuring that all physical and environmental controls are in place in those areas where the infrastructure, or management access to that infrastructure, is made. They are also responsible for ensuring that the relevant level of physical access controls to such areas is in place.</p> <p>6.2 The client shall have responsibility for ensuring that the relevant security and physical access controls are in place at all locations where access to their data is made from.</p> <p>6.3 AUCloud shall provide appropriate training, guidance and security controls to its personnel who are to undertake their duties within secure areas. The client shall be responsible for providing any training, guidance or security controls needed for its personnel working in secure areas where access to their applications and data is made from.</p> <p>6.4 AUCloud shall be responsible for the siting and protection of equipment within the data centre environment. The client shall be responsible for the siting and protection of equipment within their own environment(s), which is used to provide access to their applications and data.</p> <p>6.5 AUCloud shall maintain all equipment within their control. Such maintenance shall be conducted in a secure manner by personnel with a minimum security clearance of Negative Vetting Level 1 (NV1) as defined by the PSPF. The client shall be responsible for the maintenance of the equipment they use to access the AUCloud cloud environment and for the suitability and security clearance of personnel who conduct maintenance on their equipment to ensure a minimum security clearance of Baseline as defined by the PSPF.</p> <p>6.6 AUCloud shall ensure the security of off-site infrastructure (such as laptop computers and mobile devices) and the information that may be contained on them. Client data stored on AUCloud services shall not be stored on off-site equipment. Appropriate protection, in line with ISM requirements, will be provided for any transportable media.</p> <p>6.7 AUCloud shall ensure the secure disposal, in line with ISM requirements, of any equipment within their control that requires replacement. The client shall be responsible for the secure disposal or re-use of any equipment within their control that is used to hold or access secure data.</p> <p>6.8 AUCloud shall ensure that the appropriate physical security, in line with PSPF requirements, is applied to prevent the removal of equipment or assets within their control. The client shall be responsible for the physical security of their equipment and information assets.</p>"},{"location":"Platform_Overview/Security/CRISP/pdce_crisp/#7-communication-operations-management","title":"7. Communication &amp; Operations Management","text":"<p>7.1 AUCloud shall produce specific procedures for the function of the Management Platforms that supports the PDCE, which shall be combined into an overall AUCloud Standard Operating Procedures (SOPs) manual.</p> <p>7.2 The client shall be responsible for the production of operating procedures for their use of the applications and data. These procedures shall be made available as part of the accreditation documentation. The client shall be responsible for ensuring that such documentation is compliant with the SyOPs detailed within the PDCE RMADS of the AUCloud PDCE service.</p> <p>7.3 AUCloud shall ensure that only its personnel have access according to their role within the PDCE Management Platform and that no potential conflict exists in the allocation of these roles. The client shall be responsible for ensuring that, where appropriate, the relevant segregation of duties is enforced within their own environment.</p> <p>7.4 AUCloud shall continually manage and monitor the services provided by any third party provider to the AUCloud PDCE Management Platforms through the PDCE Protective Monitoring system. The client shall be responsible for ensuring that any services (including Protective Monitoring thereof) provided by their third parties are regularly managed, audited and assessed.</p> <p>7.5 The services provided by AUCloud third parties shall be contractually defined. Any subsequent changes to these services shall be via Change Management. Significant changes shall be notified to and authorised by the appropriate accreditor or certification body, if applicable. The client shall be responsible for managing changes to the services provided by their third-parties and ensuring that AUCloud and, where relevant, their accreditor or certification body is informed.</p> <p>7.6 AUCloud shall monitor and manage the capacity of the AUCloud PDCE Management Platforms. The client shall be responsible for monitoring and managing the specific capacity requirements of their own systems hosted on AUCloud PDCE infrastructure.</p> <p>7.7 AUCloud shall ensure that the relevant controls against the introduction of viruses and malicious code are in place for the PDCE and the related PDCE Management Platform. The client shall be responsible for ensuring that they have appropriate and relevant controls to protect their environments and data from viruses and malware in place to prevent malicious code being introduced to their data.</p> <p>7.8 AUCloud shall ensure that a Protective Monitoring service is in operation to provide protection to the AUCloud PDCE Management Platforms. Clients are advised to ensure that their environments are similarly protected by an appropriate Protective Monitoring service, which aligns with the protective monitoring controls contained within the ISM.</p> <p>7.9 AUCloud shall ensure that a suite of data backup services and appropriate infrastructure are made available and supported so that clients can backup their data as required. The client shall be responsible for the selection and configuration of the data backup tools, which are required to address their specific data backup requirements.</p> <p>7.10 AUCloud shall ensure that the relevant security controls are in place on the AUCloud PDCE Management Platform networks. The client shall be responsible for ensuring that their network, up to the point of accessing the AUCloud managed networks, has the relevant security controls (a) as identified by their own risk assessment activities, and (b) which align with the client requirements documented within the SyOPs of the RMADS for the AUCloud PDCE service. Additionally, the client\u2019s use of an ASD certified security gateway to access the AUCloud PDCE Management Platform shall be managed and operated strictly in accordance with the corresponding security controls as specified within the ISM.</p> <p>7.11 AUCloud shall ensure that appropriate security controls are in place to protect any media within its control, including the disposal of media that is no longer serviceable or which is no longer required, as well as the sanitisation or destruction of any data on such media. The client shall be responsible for the proper management and secure deletion of their data, which is located within the AUCloud PDCE.</p> <p>7.12 AUCloud shall ensure that appropriate information exchange policies, agreements and procedures are in place within the Management Platforms. The client shall be responsible for establishing and implementing information exchange policies, agreements and procedures with respect to their own applications and data, which align with the client requirements documented within the SyOPs of the PDCE RMADS for the AUCloud PDCE.</p> <p>7.13 AUCloud shall ensure that all user activity within the PDCE Management Platforms are audited and logged. Any anomalous behaviour shall be investigated. The client shall be responsible for the audit of user activity of their applications and data.</p> <p>7.14 AUCloud shall monitor system use of the PDCE Management Platforms as part of any incident response or investigation. The client shall be responsible for monitoring system use as part of an incident response or investigation into the applications and data.</p> <p>7.15 AUCloud shall be responsible for the protection of audit logs. The client shall be responsible for the protection of audit logs under their control relating to access to and use of their data.</p> <p>7.16 AUCloud shall be responsible for the audit logs of users within the PDCE Management Platforms. The client shall be responsible for audit logs under their control, which record activities relating to users of the data.</p> <p>7.17 Any system faults within the PDCE shall be logged and, depending on the category of faults, reviewed at defined intervals by AUCloud. The client shall be responsible for logging and reviewing faults associated with their applications.</p>"},{"location":"Platform_Overview/Security/CRISP/pdce_crisp/#8-access-control","title":"8. Access Control","text":"<p>8.1 AUCloud shall not access client data or applications, unless specifically requested to do so by the client, and having received prior formal written approval for this access from the client. Access to the PDCE Management Platforms shall be defined according to the function of the individual AUCloud employee. The client shall be responsible for managing and controlling access to their data.</p> <p>8.2 AUCloud shall be responsible for implementing a user registration procedure for personnel who access the PDCE Management Platform, and for undertaking reviews of the privileges and access rights of personnel who have such access. The client shall be responsible for implementing a user registration procedure for personnel who are to access their data and applications, and for undertaking regular reviews of the privileges and access rights of personnel who are to access them. Clients will also ensure that personnel authentication policy is aligned with ASD ISM best practice.</p> <p>8.3 AUCloud shall be responsible for ensuring (a) the security of unattended user equipment, (b) the security of mobile devices (such as smartphones, laptops and tablet computers) and (c) the implementation of a clear desk and clear screen policy within AUCloud offices and data centre environments. The client shall be responsible for ensuring (a) the security of unattended user equipment, (b) the security of mobile devices (such as smartphones, laptops and tablet computers) and (c) the implementation of a clear desk and clear screen policy within the environment of personnel who have access to managing and controlling their data.</p> <p>8.4 AUCloud shall not access client data or applications, unless specifically requested to do so by the client, and having received prior formal written approval for this access from the client. The client\u2019s Protective Monitoring system shall identify any specific access to client data or applications that it has been requested to report. The client shall be responsible for identifying such activities, which are to be monitored and reported.</p> <p>8.5 AUCloud shall be responsible for ensuring that its personnel working remotely will only be able to do so in accordance with relevant ISM controls. The client shall be responsible for identifying any remote working function it may have and producing the relevant security procedures.</p> <p>8.6 AUCloud shall be responsible for ensuring that personnel accessing its PDCE Management Platforms use only accredited and/or approved technologies, which are required by the controls underpinning the PDCE Platform. The client shall be responsible for ensuring that external connectivity into their services(s) is undertaken using only accredited and/or approved technologies, which are specifically noted within the SyOPs of the PDCE RMADS.</p>"},{"location":"Platform_Overview/Security/CRISP/pdce_crisp/#9-information-security-incident-management","title":"9. Information Security Incident Management","text":"<p>9.1 AUCloud shall operate an Information Security Incident Management Policy, which details the management, investigation and reporting of potential or actual breaches of the Confidentiality, Integrity or Availability of a company information asset (or a client data asset where the company is engaged in a contractual agreement to protect the client data) or of a supporting asset (upon which the security of information assets depend).</p> <p>9.2 The client shall be responsible for the management and reporting of potential or actual information security breaches to their data and applications to their own relevant external bodies, aligned to the Mandatory Notifiable Data Breach legislation. The client shall be required to immediately notify AUCloud of all such incidents.</p> <p>9.3 The client shall be responsible for ensuring that their personnel details recorded within the Security Incident Reporting Matrix are regularly checked for accuracy, and for the prompt, via changes within their portal, to AUCloud of any personnel changes that need to be made.</p> <p>9.4 AUCloud shall operate an Information Security Incident Management Policy that details the requirement to identify report and act upon any known or suspected weaknesses to information or supporting assets within the AUCloud PDCE Management Platforms. Such weaknesses may also be identified by periodic security assessments, including technical reviews, audits or penetration tests.</p> <p>9.5 The client shall be responsible for the identification and reporting of known or suspected weaknesses within their applications, and for promptly reporting these to AUCloud.</p> <p>9.6 AUCloud shall operate an Information Security Incident Management Policy that details the roles, responsibilities and procedures required for managing, reporting and resolving information security incidents. The client shall be responsible for defining roles and responsibilities and implementing procedures for the reporting, management and resolution of information security incidents arising within their applications and/or data.</p> <p>9.7 AUCloud shall maintain overall responsibility for the management and operation of the AUCloud PDCE Management Platforms. It shall be fully monitored and protected by a Protective Monitoring Service, which includes the collection and retention of log files and user activity data for use within any subsequent forensic investigation. The client shall be responsible for the identification of information relating to their applications and data, which needs to be retained and made available for any subsequent forensic investigation.</p>"},{"location":"Platform_Overview/Security/CRISP/pdce_crisp/#10-business-continuity-management","title":"10. Business Continuity Management","text":"<p>10.1 AUCloud shall operate Business Continuity policies and procedures that ensure that the PDCE Management Platform will continue to operate in the event of an unplanned business interruption to meet the service levels contracted with its clients. These shall be validated either by the design of the PDCE and related PDCE Management Platform, or in some cases by focused testing activities. The client shall be responsible for implementing business continuity arrangements to address any unplanned business interruptions that are directly and solely attributable to a failure of their applications, and any consequential unavailability of their data.</p>"},{"location":"Platform_Overview/Security/CRISP/pdce_crisp/#11-compliance","title":"11. Compliance","text":"<p>11.1 AUCloud shall identify all applicable legislation, regulation and guidance relevant to its operations, including the PSPF and ISM, and is committed to full compliance with these. The client shall be responsible for identifying and complying with all applicable legislation and regulations that are appropriate for their own business.</p> <p>11.2 AUCloud shall identify and implement controls to protect its intellectual property rights, including, but not limited to its systems, software, designs, configurations and documentation. The client shall be responsible the appropriate protection of the intellectual property rights associated with their applications and data.</p> <p>11.3 AUCloud shall operate a Data Protection Policy and related procedures to ensure that personal information and personally identifiable information is at all times protected in accordance with the Australian Privacy Act 1988. The client shall be responsible for full compliance with the Australian Privacy Act 1988 in respect of personal data introduced into the AUCloud environment.</p> <p>11.4 The client shall remain responsible for undertaking a Business Impact Assessment, in line with PSPF requirements, of their data that is to be processed by or stored within the AUCloud PDCE service.</p> <p>11.5 AUCloud shall operate an Acceptable Use Policy, provide training to its personnel on the acceptable use of information systems, and shall retain log files and user activity data to ensure that such systems are only used for authorised purposes in an acceptable way. The client shall be responsible for ensuring that their authorised users do not misuse information processing facilities.</p> <p>11.6 AUCloud shall be responsible for ensuring that network access to its PDCE Management Platform is protected by the use of encryption technologies outlined within the ISM suitable for data classified to PROTECTED. The client shall be responsible for ensuring that external connectivity into their services(s) is undertaken using similar technologies or alternative network connectivity solutions (e.g. Secure Internet Gateway, ICON) and as specifically noted within the SyOPs of the PDCE RMADS.</p> <p>11.7 AUCloud shall have periodic (no less than annual) reviews of compliance with their security policies, processes and procedures as identified in the ISM. The client shall be responsible for assessing compliance with their own policies and for informing AUCloud and the accreditor of the results.</p>"},{"location":"Platform_Overview/licensing/licensing/","title":"Software Licensing","text":""},{"location":"Platform_Overview/licensing/licensing/#overview","title":"Overview","text":"<p>AUCloud can provide licensing for a number of Microsoft; VMware; and Red Hat products when deployed within the AUCloud infrastructure. Licensing models may change depending on whether AUCloud's multi-tenant platform is used; or if a customer deploys to a dedicated environment.</p>"},{"location":"Platform_Overview/licensing/licensing/#operating-system-licence-templates","title":"Operating system licence templates","text":"<p>AUCloud provided templates for Microsoft Windows (various versions); and Red Hat Enterprise Linux by default will use AUCloud provided Licences. If you are seeking to Bring Your Own Licence (BYOL), please contact your Customer Success Manager.</p>"},{"location":"Platform_Overview/licensing/licensing/#microsoft-products-currently-supported-by-aucloud","title":"Microsoft Products currently supported by AUCloud","text":"<p>Microsoft's SPLA enables us to sell many products such as Sharepoint Server, Biztalk Server, etc. For a product not on this list please contact AUCloud Support or your sales team.</p> Name Version How Windows Server 2022 AUCloud standard template in VCD Windows Server 2019 AUCloud standard template in VCD Windows Server 2022 AUCloud standard template in VCD BYOL Windows Any Customer provided or AUCloud template, contact support for licensing SQL Server Standard Customer installed, contact support for licensing SQL Server Web Customer installed, contact support for licensing SQL Server Datacentre Customer installed, contact support for licensing"},{"location":"Platform_Overview/licensing/licensing/#microsoft-licensing-in-auclouds-multi-tenant-platform","title":"Microsoft licensing in AUCloud's multi-tenant platform","text":"<p>AUCloud licences Microsoft products using the Service Provider License Agreement (SPLA). Unfortunately, this does not provide any not for profit or charity options for licensing. However, customers can choose to bring their own licences (subject to applicability), through Microsoft's recent improvements in licensing and the Flexible Virtualisation Benefit.</p> <p>Flexible Virtualisation benefit</p> <p>Products covered by the Flexible Virtualisation Benefit The Flexible Virtualisation benefit applies to all software products that are available under subscription licenses or licenses with Software Assurance coverage. This includes server products such as Windows Server, SQL Server, Exchange Server, SharePoint Server, System Center and others. This also includes desktop products such as Windows 10/11, Office desktop applications and Microsoft 365 Apps.</p> <p>Customers are also able acquire and bring their own licences (for example Academic or Not For Profit) through other Microsoft licensing schemes such as the Enterprise Agreement or Open Value subscription. Microsoft provide specific licensing options for some industries which can be exploited.</p>"},{"location":"Platform_Overview/licensing/licensing/#byol-windows-server-licences","title":"BYOL Windows Server licences","text":"<p>In order to bring Windows servers to the AUCloud shared infrastructure.</p> <p>Minimum core licences for BYOL</p> <p>There is a Microsoft mandated minimum of 8 cores per windows VM for BYOL. Customers are advised that under 8 cores it is likely to be more cost effective provisioning licences via AUCloud</p> <ol> <li>Validate your licences (see the references below)</li> <li>Provide AUCloud Service Desk the names of the VMs (and the VDC in which they reside) to which you want to bring your own Microsoft Windows licences</li> </ol>"},{"location":"Platform_Overview/licensing/licensing/#byol-red-hat-licences","title":"BYOL Red Hat licences","text":"<p>AUCloud is a registered CCSP which enables us to provide Red Hat licences to Customers. However, we are not a 'Cloud Access' partner, so cannot support customers who wish to bring their own licences at this time.</p> <p>Please contact AUCloud Support or your sales team if you require this service and we can consider your request.</p>"},{"location":"Platform_Overview/licensing/licensing/#aucloud-hardware-dedicated-customers","title":"AUCloud Hardware dedicated customers","text":"<p>Customers can bring most Microsoft licences to dedicated hardware as, from Microsoft\u2019s perspective, the hardware is no different to the customer running it themselves.</p>"},{"location":"Platform_Overview/licensing/licensing/#microsoft-licensing-references","title":"Microsoft licensing references","text":"<ul> <li> <p>SPLA</p> </li> <li> <p>Software Assurance</p> </li> <li> <p>Microsoft Licensing Guides</p> </li> <li> <p>Flexible Virtualisation Benefit | Licensing Guide</p> </li> <li> <p>Windows Server | Licensing Guide</p> </li> <li> <p>Training | Get Licensing Ready</p> </li> <li> <p>Universal License Terms</p> </li> <li> <p>Licensing glossary</p> </li> </ul>"},{"location":"Platform_Overview/portal/","title":"Portal","text":""},{"location":"Platform_Overview/portal/#overview","title":"Overview","text":"<p>The AUCloud Portal is a secure one-stop shop for access to VMware Cloud Director and for user and account management, billing information and support.</p> <p>The portal provides configuration of user access, permissions, assurance, password management and user account unlocks.</p> <p>Billing information, invoices, purchase orders and transactions can be viewed and support tickets can be raised securely in the portal.</p> <p>API management and documentation is also available for organisations seeking to streamline their virtualisation solutions with automation technology.</p>"},{"location":"Platform_Overview/portal/api_management/","title":"API Management in the AUCloud Portal","text":""},{"location":"Platform_Overview/portal/api_management/#overview","title":"Overview","text":"<p>The AUCloud Portal is fully API driven which allows codified functionality and allows us to implement the modern, best practice approach to automation of the tasks that we do.</p> <p>AUCloud API documentation can be accessed through the AUCloud Portal. VMware Cloud Director documentation can be accessed through the URL link in the portal.</p>"},{"location":"Platform_Overview/portal/api_management/#procedure","title":"Procedure","text":"<ol> <li> <p>Click on the My Account icon and select API Management.</p> <p></p> </li> <li> <p>Select Create new api token.</p> <p></p> </li> <li> <p>Enter details for your token:</p> <ul> <li>name</li> <li>(optional) enter a description</li> <li>Expiry date and time</li> <li>click Save</li> </ul> <p></p> </li> <li> <p>Your token will be displayed (You will only be given access to your token once).</p> <p></p> </li> <li> <p>Copy your token details.</p> </li> <li> <p>Access the AUCloud API documentation by clicking on the Portal Documentation tab and click View under the relevant title.</p> <p></p> </li> <li> <p>To access the VMware Cloud Director documentation, click on VMware Cloud Director Documentation and click on the URL.</p> <p></p> </li> <li> <p>You will be redirected to the VMware site.</p> <p></p> </li> </ol>"},{"location":"Platform_Overview/portal/billing_portal/","title":"Billing Portal","text":""},{"location":"Platform_Overview/portal/billing_portal/#aucloud-billing-portal","title":"AUCloud Billing Portal","text":"<p>This guide is intended for use by administrative and financial staff responsible for the payment of invoices issued by AUCloud. Staff that require access to the Billing portal should request this access through the IT administrator responsible for the AUCloud portal management.</p>"},{"location":"Platform_Overview/portal/billing_portal/#billing-overview","title":"Billing overview","text":"<ol> <li> <p>The billing portal can be accessed by logging on to the AUCloud Portal. Log on to the portal with the credentials provided by your administrator.</p> </li> <li> <p>The billing information can be accessed by selecting the Billing tab on the ribbon bar of the dashboard.</p> <p></p> </li> <li> <p>You will first be presented with an overview of your account. The overview presents the following information:</p> <ul> <li>Unbilled: This is a real-time representation of all items for the current month. This amount is updated every 15 minutes.</li> <li>Outstanding: This represents items which have been invoiced but not yet paid.</li> <li>Overdue: These are amounts which have been invoiced but not paid within the due date of 30 days.</li> <li>Total Spend: The total spend indicates the total spend on the account since the account began.</li> <li>Total Purchase Orders: When a purchase order is received it is entered into your account. The two figures shown represent the total amount of the current purchase order and the burndown on that purchase order.</li> </ul> </li> </ol>"},{"location":"Platform_Overview/portal/billing_portal/#invoices-tab","title":"Invoices Tab","text":"<ol> <li> <p>Invoices are generated by AUCloud prior to the 15th of every month and emailed to the billing contact provided on the Purchase Order.</p> </li> <li> <p>Under the invoices tab, you can view all invoices which have been generated. The following information is displayed on the invoice line:</p> <ul> <li>Invoice Number: Clicking on the invoice number will show all details of that individual invoice.</li> <li>Reference: A reference for the invoice.</li> <li>Net Amount: The amount of the invoice prior to applying GST.</li> <li>Gross Amount: The amount of the invoice after applying GST.</li> <li>Created At: The date the invoice was created.</li> <li>Status: Shows if the invoice has been paid, is outstanding or is overdue.</li> <li>Download: Provides the option to download a PDF copy of the invoice.</li> </ul> <p></p> </li> </ol>"},{"location":"Platform_Overview/portal/billing_portal/#viewing-invoice-details","title":"Viewing Invoice details","text":"<ol> <li> <p>To view details of invoices, click on the Invoice number of the invoice you would like to view. The details of the invoice will be displayed on the screen.</p> </li> <li> <p>The information displayed on the front page of the invoices tab will be shown at the top of the invoice. Under this information you can view usage reports as attachments and view the line items associated with the invoice.</p> <p></p> </li> <li> <p>Usage reports can be downloaded for each line item by selecting the Download button next to the report. Three reports will be downloaded as .csv files as a .zip into your downloads folder. The reports are broken down into Media, vApp-templates and vms.</p> <p></p> </li> <li> <p>The media report and vApp template reports detail all the media or vApp templates downloaded, the names, time period, size of the data in Mb and the cost.</p> </li> <li> <p>The VM report details the individual VM's, the times they were turned on and off, total hours and cost. The report also details independent disks attached and any snapshots taken. An example report is below.</p> <p></p> </li> </ol>"},{"location":"Platform_Overview/portal/billing_portal/#purchase-orders","title":"Purchase Orders","text":"<ol> <li> <p>All purchase orders are entered in customer accounts in the Portal. The purchase orders tab shows the following information</p> <ul> <li>PO Number: This PO number relates to the customers purchase order.</li> <li>Description: As per the purchase order submitted by the customer.</li> <li>Allocated quota: shows the amount of the purchase order which has been used already.</li> <li>Quota: shows the total amount of the purchase order.</li> <li>Usage bar: shows the percentage of the purchaser order which has been used..</li> </ul> </li> <li> <p>If discrepancies are discovered in the purchase order, please contact AUCloud Support to have the issue fixed.</p> </li> </ol>"},{"location":"Platform_Overview/portal/billing_portal/#transactions","title":"Transactions","text":"<ol> <li> <p>The transactions tab provides a list view of all credit and debit transactions on your account.</p> <p></p> </li> <li> <p>A debit transaction will appear once an invoice is created in the portal and a credit transaction will appear after payment has been processed by our accounts department.</p> </li> </ol>"},{"location":"Platform_Overview/portal/billing_portal/#discrepancies-and-disputes","title":"Discrepancies and Disputes","text":"<p>If you believe there is an error with an invoice received, please contact AUCloud Support in the first instance so the problem can be investigated and resolved.</p>"},{"location":"Platform_Overview/portal/getting_started/","title":"Getting Started","text":""},{"location":"Platform_Overview/portal/getting_started/#logging-in-to-the-aucloud-portal","title":"Logging in to the AUCloud Portal","text":"<ol> <li> <p>Go to the appropriate URL, depending on the community where your service is located.</p> </li> <li> <p>Enter the organisational login credentials provided.</p> <p></p> </li> <li> <p>On your first login, you will be prompted to enter the memorable word provided to you. Enter only the highlighted characters from your memorable word.</p> <p></p> <p>Note</p> <p>For example, if your word is \"academic\" in the above scenario, characters 2,4 and 8 would be 'c', 'd' and 'c' respectively.</p> </li> <li> <p>The QR code will appear which needs to be scanned into a One-Time Password (OTP) Authenticator app such as Google Authenticator. The authenticator will add an account which will generate a six-digit code which will be required for subsequent logins.</p> <p> </p> </li> <li> <p>Once you have successfully logged into the portal, you will be presented with the dashboard.</p> <p></p> </li> </ol>"},{"location":"Platform_Overview/portal/getting_started/#portal-overview","title":"Portal Overview","text":"<p>After you log in, you will see the portal home page. The portal home page is made up of the toolbar, navigation panel and content area. Options available to users are dependent on the permissions set by the account administrator.</p> Icon Name Description My Account Under my account you can view your account details, change your password and log out of the platform. This is also the area to obtain tokens to access the API. Dashboard Upon first login you are presented with the Dashboard. There are currently two widgets available, however widgets can be developed based on customer requests. Announcements The announcements tab will display all released announcements. Activity The activity tab contains all the user activities that occur on the portal, Every user can see their own activity by default and administrators can see all account activity. Users The users tab is where you can view your own user account. The portal uses a role-based permissions system. If the Create New user radio button does not appear, either you do not have sufficient privileges, or your organisation has not signed the CRISP. VMware Cloud Director After your compute service and Virtual Datacentre (VDC) have been created by AUCloud you can start to build your applications. To do this, you must log in to VMware Cloud Director from the AUCloud portal. Billing The billing console provides real time information on the consumption of AUCloud services. Portal users can monitor the status of existing purchase orders, download invoices and monitor financial transactions. Assurance The Assurance tab provides links to useful documentation. It also contains the link where assurance users can view the Community Rules Information Security Policy (CRISP). Support The support tab tracks any issues or feedback you may have with your infrastructure and the virtual estate. Settings The settings tab contains sections for Security, Announcements and Contacts. It contains the minimum password requirements as set out by the Australian Government ISM."},{"location":"Platform_Overview/portal/known_limitations/","title":"Known limitations","text":""},{"location":"Platform_Overview/portal/known_limitations/#accessing-the-portal-from-within-a-nsx-t-backed-tenancy","title":"Accessing the portal from within a NSX-T backed tenancy","text":"<p>Users by default are not able to access the AUCloud portal from within an NSX-T backed Virtual Data Centre. This exclusion has been put in place to ensure interoperability of VMware Cloud Director APIs for Kubernetes services. The VMware Cloud Director API endpoints remain functional for API key and bearer token based authentication.</p>"},{"location":"Platform_Overview/portal/known_limitations/#clients-with-a-requirement-to-access-the-portal-from-within-a-tenancy","title":"Clients with a requirement to access the portal from within a tenancy","text":"<p>This exclusion can be adjusted by AUCLoud. If you have a strict requirement to access the portal from within your NSX-T backed Virtual Data Centre contact AUCloud support.</p>"},{"location":"Platform_Overview/portal/managing_user_accounts/","title":"Managing User Accounts","text":""},{"location":"Platform_Overview/portal/managing_user_accounts/#overview","title":"Overview","text":"<p>Account administrators are responsible for the management of user accounts. This guide outlines the procedures used in managing users. Users are managed from the Users tab in the ribbon bar:</p> <p></p> <p>A list of all users will be displayed including their last log on and Status.</p>"},{"location":"Platform_Overview/portal/managing_user_accounts/#creating-a-user","title":"Creating a user","text":"<ol> <li> <p>Click on the Create new user tab.</p> </li> <li> <p>Enter the user name, email and mobile number.</p> </li> <li> <p>Select 'Enable this user account'.</p> </li> <li> <p>Select Permissions boxes to grant user the required access.</p> </li> <li> <p>Enter the user Password and Password Confirmation (passwords must meet the minimum requirements outlined under the Settings tab). For new users, this password will need to be reset on first logon</p> </li> <li> <p>Enter a Memorable Word.</p> </li> <li> <p>Click Save.</p> </li> <li> <p>Provide the password and memorable word to the user.</p> <p></p> </li> </ol>"},{"location":"Platform_Overview/portal/managing_user_accounts/#view-user-details","title":"View user details","text":"<ol> <li> <p>Click on the name of the user you want to view.</p> </li> <li> <p>The user details will be displayed but cannot be edited from this page.</p> </li> <li> <p>Click Back to users to return to the Users page.</p> </li> </ol>"},{"location":"Platform_Overview/portal/managing_user_accounts/#edit-user-details","title":"Edit user details","text":"<ol> <li> <p>Click on the Edit button in the same line as the User you want to edit</p> <p></p> </li> <li> <p>Make changes to the user details and/or permissions as required.</p> </li> <li> <p>Click Save.</p> </li> </ol>"},{"location":"Platform_Overview/portal/managing_user_accounts/#user-permissions","title":"User Permissions","text":"<ol> <li> <p>User permissions are defined by the account administrator. Permissions should be set according to the user's role and requirements. Permissions can be changed at any time by the account administrator.</p> </li> <li> <p>In addition to setting the overall permissions, the account administrator can limit a user's access to individual VMware Cloud Director services.</p> </li> </ol>"},{"location":"Platform_Overview/portal/managing_user_accounts/#changing-user-passwords","title":"Changing user passwords","text":"<p>If a user has forgotten his/her password then this can be reset by the administrator by using the Edit user function. Administrative users can reset either the password, memorable word, or both at the same time</p>"},{"location":"Platform_Overview/portal/managing_user_accounts/#password-policies","title":"Password policies","text":"<p>Password Expiration</p> <p>Password expiration is set to 90 days</p> <p>Password Requirements</p> <p>ISM Compliance</p> <p>Password requirements may be updated inline with updated guidance to be compliant with the Information Security Manual, or other compliance standards. Password requirement changes will only change for new passwords and will not affect users within the current password expiry.</p> <p>Your password must meet the following conditions:</p> <ul> <li>Minimum of 14 characters in length</li> <li>Contain three of the following four character sets:</li> <li>a lower-case alphabetical character (a-z)</li> <li>a upper-case alphabetical character (A-Z)</li> <li>a numeric character (0-9)</li> <li>a special character</li> <li>Has not been used in the past 8 changes</li> </ul>"},{"location":"Platform_Overview/portal/managing_user_accounts/#user-account-locked-out","title":"User account locked out","text":"<ol> <li> <p>Users may be locked out due to too many incorrect password attempts or a period of inactivity.</p> </li> <li> <p>If a user has been locked out, navigate to the Users page and click on the name of the user who is locked out.</p> <p></p> </li> <li> <p>At the bottom of the page, check if the user has any Actions. In this example, the user has exceeded 30 days of inactivity.</p> <p></p> </li> <li> <p>To clear this action, click on Delete, then select Yes, delete this action to clear the action.</p> <p></p> </li> <li> <p>Confirm the action has been removed and advise the user their account is no longer locked out.</p> </li> </ol>"},{"location":"Platform_Overview/portal/managing_user_accounts/#user-acquires-new-mobile-phone","title":"User acquires new mobile phone","text":"<ol> <li> <p>The OTP will need to be reset if a user acquires a new mobile device.</p> </li> <li> <p>Administrators are to email AUCloud Support at support@australiacloud.com.au advising the user has a new mobile device and requires the OTP to be reset.</p> </li> <li> <p>The memorable word will need to be reset if the user does not remember the original memorable word issued. Include this detail in the email if this is the case.</p> </li> </ol>"},{"location":"Platform_Overview/portal/managing_user_accounts/#change-of-account-administrator","title":"Change of account administrator","text":"<ol> <li> <p>AUCloud will retain contact details of the account administrator to contact with any issues pertaining to the account.</p> </li> <li> <p>If there is a change in account administrator, please advise AUCloud support at support@australiacloud.com.au to ensure the correct person is contacted.</p> </li> </ol>"},{"location":"Platform_Overview/portal/managing_user_accounts/#additional-assistance","title":"Additional Assistance","text":"<ol> <li> <p>Additional assistance and/or training can be provided as required.</p> </li> <li> <p>Account administrators should contact their assigned CSM or AUCloud Support for assistance.</p> </li> </ol>"},{"location":"Platform_Overview/support/","title":"Contacting Support","text":""},{"location":"Platform_Overview/support/#aucloud-support","title":"AUCloud Support","text":"<p>Our AUCloud support team is here to ensure your services with AUCloud are always operating seamlessly. AUCloud offers support to customers between 8:00am to 6:00pm Monday to Friday AEST, with 24/7 emergency support at hand.</p> <p>If you need assistance, you can contact AUCloud Support by:</p> <ul> <li> <p>Emailing AUCloud Support at support@australiacloud.com.au</p> </li> <li> <p>Calling AUCloud Support on 1800 AUCLOUD (282 5683)</p> </li> <li> <p>Log a support ticket in the AUCloud Support Portal, new self-service capability to be launched soon.</p> </li> <li> <p>Enter a Subject and Description with as much information as possible about the issue as this will assist our teams with troubleshooting.</p> </li> <li>Attachments can be added to provide additional information.</li> </ul> <p>Note</p> <ul> <li>General users will only have visibility of tickets raised by themselves</li> <li>If you have administrator access, you will be able to view all support tickets raised by your organisation through the Account Tickets tab</li> </ul>"},{"location":"Platform_Overview/support/#247-support","title":"24/7 Support","text":"<p>If you require emergency support, you will need to do one of the following:</p> <ul> <li>Log a support ticket in the AUCloud Support Portal</li> <li>Send an email outlining the issue to support@australiacloud.com.au</li> </ul> <p>By raising one of the following this will alert our out of hours engineers to investigate the issue/error and provide an update once a solution has been established.</p> <p>Outside of the standard support hours, AUCloud offer 24/7 emergency support for Priority 1 and Priority 2 incidents.</p> <p>Emergency priority 1 and priority 2 incidents are classified by the following:</p> <p>Priority 1 incidents:</p> <ul> <li>AUCloud systems are not functioning as expected with high impact on customer operations</li> </ul> <p>Priority 2 incidents:</p> <ul> <li>AUCloud systems are partially usable with medium impact on customer operations</li> <li>Priority 1 fault to which a temporary solution has been applied by AUCloud technicians</li> </ul>"},{"location":"Platform_Overview/support/Terms_Conditions/","title":"Terms and Conditions of Usage","text":""},{"location":"Platform_Overview/support/Terms_Conditions/#aucloud-terms-and-conditions-of-usage-documents","title":"AUCloud Terms and Conditions of Usage Documents","text":"<ul> <li>Terms and Conditions of Usage</li> </ul>"},{"location":"Platform_Overview/support/aucloud_support_portal/","title":"AUCloud Self Service Support Portal Registration","text":""},{"location":"Platform_Overview/support/aucloud_support_portal/#overview","title":"Overview","text":"<p>Access the AUCloud Self-Service portal via this link</p> <ol> <li>For Username, enter your email address used for the AUCloud portal</li> <li>Complete the CAPTCHA</li> <li> <p>Click Next</p> <p></p> </li> <li> <p>Enter in the same email address</p> </li> <li> <p>Click Next </p> <p></p> </li> <li> <p>Then click done</p> <p></p> <p>An email will be sent to the email address entered in the previous step from <code>supportcommunications@australiacloud.com.au</code>. If this has not come through within 5 minutes, please check the spam or junk mail folder.</p> </li> <li> <p>Click on the link in the email.</p> <p></p> </li> <li> <p>Enter your new password following the security instructions</p> </li> <li>Retype your new password for confirmation</li> <li> <p>Click Reset Password</p> <p></p> </li> <li> <p>Once your password has been reset, click done</p> <p></p> </li> <li> <p>You will then be redirected to the login page. Enter your email address as your username and the password you just created. Click Login.</p> <p></p> </li> <li> <p>You will be prompted to set up Two-factor Authentication. Follow the instructions provided on this page to complete the setup.</p> </li> <li>Ensure you have an authentication app that supports Time Based One-Time passwords downloaded on your mobile device.</li> <li>Open the app and scan the QR code. Alternatively, you can enter the 24-digit code into the Authentication app. </li> <li>Enter in the 6-digit code generated by the Authentication app.</li> <li> <p>Click Pair Device and Login.</p> <p></p> </li> </ol> <p>You have now successfully logged into the AUCloud Self-Service Portal for the first time. If you require any further assistance please email the AUCloud Support Desk at support@australiacloud.com.au</p>"},{"location":"Platform_Overview/support/vulnerability_disclosure_policy/","title":"Vulnerability Disclosure Policy","text":""},{"location":"Platform_Overview/support/vulnerability_disclosure_policy/#1-objectives","title":"1. Objectives","text":"<p>The objective of this plan is to articulate a standardised approach to:</p> <ul> <li>Vulnerability disclosure program for the AUCloud ICT environment;</li> <li>Ensure compliance with Australian Cyber Security Centre's (ACSC) Information Security Manual (ISM), and</li> <li>Mitigate potential cyber security risks.</li> </ul>"},{"location":"Platform_Overview/support/vulnerability_disclosure_policy/#2-policy-statements","title":"2. Policy Statements","text":""},{"location":"Platform_Overview/support/vulnerability_disclosure_policy/#21-scope","title":"2.1 Scope","text":"<p>This policy applies to the AUCloud ICT environment and includes:</p> <ul> <li>the purpose of the vulnerability disclosure program.</li> <li>the types of security research that are allowed.</li> <li>the types of security research that are not allowed.</li> <li>how to report potential security vulnerabilities.</li> <li>the actions that will be taken on receiving notification of potential security vulnerabilities and indicative time frames for these actions.</li> <li>any expectations regarding the public disclosure of verified security vulnerabilities.</li> <li>any recognition finders of verified security vulnerabilities will receives.</li> </ul>"},{"location":"Platform_Overview/support/vulnerability_disclosure_policy/#22-out-of-scope","title":"2.2 Out of Scope","text":"<p>This policy does not apply to AUCloud strategic partners, customers hosting their services on AUCloud or other technologies not directly managed and controlled by AUCloud.</p> <p>Cisco, VMware and other strategic partners manage their own vulnerability disclosure program.  Vulnerabilities discovered by researchers and others within strategic partner technologies should be reported directly to the vendor.</p>"},{"location":"Platform_Overview/support/vulnerability_disclosure_policy/#3-policy-purpose","title":"3. Policy Purpose","text":"<p>The purpose of this document is to provide direction for the vulnerability disclosure for the Sovereign Cloud Australia (AUCloud) ICT environment.</p> <p>A vulnerability disclosure program (VDP) can assist AUCloud to improve the security of our services as it provides a way for security researchers, customers and members of the public to responsibly notify them of potential security vulnerabilities in a coordinated manner. </p> <p>AUCloud encourages the vulnerability assessment and testing of its environments in a controlled and non-damaging manner.</p>"},{"location":"Platform_Overview/support/vulnerability_disclosure_policy/#4-policy-exemptions","title":"4. Policy Exemptions","text":"<p>All exemptions to this document must be approved by the Chief Information Security Officer (CISO). The CISO is responsible for maintaining a record of such exemptions and any necessary corrective actions.</p>"},{"location":"Platform_Overview/support/vulnerability_disclosure_policy/#5-researcher-tester","title":"5. Researcher / Tester","text":"<p>AUCloud encourages the vulnerability assessment and testing of its environments and regularly undertakes penetration tests and vulnerability assessments of its environments.</p>"},{"location":"Platform_Overview/support/vulnerability_disclosure_policy/#51-researcher-tester-promise","title":"5.1 Researcher / Tester Promise","text":"<p>AUCloud is committed to working with security researchers to help identify and fix vulnerabilities in our systems and services. As long as you act in good faith and abide by the guidelines outlined in this policy, we will make our best effort to commit to the following:</p> <p>Provide an initial response to your vulnerability report within three business days Determine if we will accept (intend to fix) or reject (identify your report as a false positive or acceptable risk) your vulnerability report within ten business days Keep you up to date on progress towards remediation of reports we accept from you</p>"},{"location":"Platform_Overview/support/vulnerability_disclosure_policy/#6-testing-guidelines","title":"6. Testing guidelines","text":"<p>When performing security testing, please adhere to the following guidelines:</p> <ul> <li>Seek permission and advise AUCloud of your proposed testing</li> <li>Only test against your own accounts and data (e.g. create test accounts). If you identify a vulnerability that may result in access to other users' data, please check with us first before testing further.</li> <li>If you inadvertently access other users' data in your testing, please let us know, and do not store any such user data.</li> <li>Do not perform testing that results in denial of service conditions or degradation of our production services.</li> <li>Do not perform load testing that results in the degradation of our production services</li> <li>'Red teaming' or other activities including social engineering and physical security assessments are out of scope of this program: <ul> <li>Do not attempt to socially engineer AUCloud, our users or customers.</li> <li>Do not attempt to breach or compromise the physical security of our offices, buildings or data centres</li> </ul> </li> </ul> <p>AUCloud reserves the right to block or disable any attempted tests of the AUCloud environment through automated or manual incident response process. </p> <p>We're particularly interested in the following types of vulnerabilities and impacts:</p> <ul> <li>Remote code execution</li> <li>Vulnerabilities where remote execution can cause background processing (jobs) which reduces availability for customers.</li> <li>XSS resulting in access to sensitive data (e.g. session info)</li> <li>SQL injection resulting in access to sensitive data or functionality</li> <li>Business logic flaws that result in access to sensitive data or functionality</li> </ul> <p>We are less interested in the following types of vulnerabilities, which are more likely to get rejected as false positives or accepted risks:</p> <ul> <li>Lack of the X-Frame-Options header on pages without state-changing functionality</li> <li>Unverified automated scanner results</li> <li>Issues that are unlikely to be exploitable and/or that do not have realistic security impact</li> </ul>"},{"location":"Platform_Overview/support/vulnerability_disclosure_policy/#7-assets","title":"7. Assets","text":"<p>The following assets are considered in scope for assessment.  Assets not provided in this list are out of scope.</p> <ul> <li>portal.australiacloud.com.au</li> <li>api.portal.australiacloud.com.au</li> <li>eportal.australiacloud.com.au</li> <li>api.eportal.australiacloud.com.au</li> <li>enterprise.australiacloud.com.au</li> <li>api.enterprise.australiacloud.com.au</li> </ul>"},{"location":"Platform_Overview/support/vulnerability_disclosure_policy/#8-reporting","title":"8. Reporting","text":"<p>Researchers and Testers should submit reports to assurance@australiacloud.com.au.  </p> <p>Please use the following report submission form:</p> <p>Title: </p> <p>A one line description of the issue, e.g. \"XSS in mail.example.com results in session theft\"</p> <p>Summary: </p> <p>A brief description of the vulnerability and why it matters, e.g. Due to a lack of escaping, you can send an email to another user containing an XSS payload that would enable an attacker to steal another user's cookies containing session information. This would allow the attacker to login to the victim's account.</p> <p>Reproduction Steps: </p> <p>Step by step instructions on how to reproduce the vulnerability.</p> <p>Attack Scenario and Impact: </p> <p>How could this be exploited? What security impact does this issue have?</p> <p>Remediation Advice: </p> <p>Optionally, if you have any advice on how this issue could be fixed or remediated, add it here.</p>"},{"location":"Platform_Overview/support/vulnerability_disclosure_policy/#9-disclosure-of-vulnerabilities","title":"9. Disclosure of vulnerabilities","text":"<p>AUCloud will disclose the vulnerability and associated remediation to its customers and provide recognition to the researcher / tester who discovered the vulnerability.</p>"},{"location":"Platform_Services/","title":"Platform Services","text":"<p>AUCloud offers a number of platform services:</p>"},{"location":"Platform_Services/#compute","title":"Compute","text":"<p>AUCloud provides a suite of compute and compute management solutions, including:</p> <ul> <li>Virtual Machines (VMs)</li> <li>Block Storage</li> <li>Virtual networking</li> <li>API access</li> </ul>"},{"location":"Platform_Services/#object-storage","title":"Object Storage","text":"<p>S3-compatible object storage is provided for the management of buckets and objects, administration of permissions and secure programmatic access via API.</p>"},{"location":"Platform_Services/#backup","title":"Backup","text":"<p>AUCloud uses Veeam Backup and Replication to protect VCD virtual machines and  Veeam Backup for M365 for Microsoft 365 data.</p>"},{"location":"Platform_Services/#disaster-recovery-and-migration","title":"Disaster Recovery and Migration","text":"<p>AUCloud uses VMware Cloud Director Availability (VCDA), a comprehensive solution that allows migration of workloads between environments, including disaster recovery for multi-tenant cloud sites.</p>"},{"location":"Platform_Services/#sovereign-bridge","title":"Sovereign Bridge","text":"<p>AUCloud's Sovereign Bridge provides connectivity between physical and virtual resources within the data centre ecosystem throughout Australia.</p>"},{"location":"Platform_Services/#symmetric-key-agreement-platform","title":"Symmetric Key Agreement Platform","text":"<p>AUCloud's Symmetric Key Agreement Platform, developed on Arqit's QuantumCloud\u2122, provides high performance and quantum computing resistant cryptography as a service.</p>"},{"location":"Platform_Services/#kubernetes-service","title":"Kubernetes Service","text":"<p>AUCloud's Kubernetes Service, based on VMware's Tanzu Kubernetes Grid. Providing self-service Kubernetes cluster provisioning including direct integration into VMware Cloud Director's storage and networking fabrics.</p>"},{"location":"Platform_Services/reference_urls/","title":"Reference URLs","text":""},{"location":"Platform_Services/reference_urls/#portal-ui","title":"Portal UI","text":"URL Community environment Sovereignty Zone https://portal.australiacloud.com.au/login Official - https://eportal.australiacloud.com.au/login Protected - https://enterprise.australiacloud.com.au/login Enterprise -"},{"location":"Platform_Services/reference_urls/#portal-api-endpoints","title":"Portal API endpoints","text":"URL Community environment Sovereignty Zone https://api.portal.australiacloud.com.au/login Official - https://api.eportal.australiacloud.com.au/login Protected - https://api.enterprise.australiacloud.com.au/login Enterprise -"},{"location":"Platform_Services/reference_urls/#vmware-cloud-director-api-endpoints","title":"VMware Cloud Director API endpoints","text":"URL Community environment Sovereignty Zone https://api-vcd-sz101.portal.australiacloud.com.au/api Official CSZ https://api-vcd-sz201.portal.australiacloud.com.au/api Official SSZ https://api-vcd-sz101.eportal.australiacloud.com.au/api Protected CSZ https://api-vcd-sz201.eportal.australiacloud.com.au/api Protected SSZ https://api-vcd-bsz.enterprise.australiacloud.com.au/api Enterprise BSZ"},{"location":"Platform_Services/reference_urls/#veeam-m365-backup-portal","title":"Veeam M365 Backup portal","text":"URL Community environment Sovereignty Zone https://vbo-csz.australiacloud.com.au/ Official - https://evbo-csz.australiacloud.com.au/ Protected -"},{"location":"Platform_Services/reference_urls/#object-storage-api-endpoints-direct-use","title":"Object Storage API Endpoints (direct use)","text":"<p>Path based s3 access only</p> <p>The object storage endpoints in Canberra Official do not support host based addressing of s3 buckets.</p> URL Community environment Sovereignty Zone https://s3-sz101.australiacloud.com.au Official CSZ https://s3-esz101.australiacloud.com.au Protected CSZ https://s3-sz201.australiacloud.com.au Official SSZ https://s3-esz201.australiacloud.com.au Protected SSZ https://s3-bsz.enterprise.australiacloud.com.au Enterprise BSZ"},{"location":"Platform_Services/reference_urls/#object-storage-api-endpoints-via-vmware-object-storage-extension","title":"Object Storage API Endpoints (via VMware Object Storage Extension)","text":"URL Community environment Sovereignty Zone https://vos.s3-sz101.australiacloud.com.au/api/v1/s3 Official CSZ https://s3.vos.esz101.australiacloud.com.au/api/v1/s3 Protected CSZ https://s3.vos.sz201.australiacloud.com.au Official SSZ https://s3.vos.esz201.australiacloud.com.au Protected SSZ https://s3.vos.bsz.enterprise.australiacloud.com.au Enterprise BSZ"},{"location":"Platform_Services/reference_urls/#aucloud-microsoft-kms-server","title":"AUCloud Microsoft KMS Server","text":"URL IP Target 103.109.112.109 CSZ 103.2.240.109 SSZ"},{"location":"Platform_Services/reference_urls/#public-facing-repositories-and-documentation","title":"Public Facing Repositories and Documentation","text":"<ul> <li>AUCloud Technical Documentation</li> <li>ACloud Public Github Org</li> </ul>"},{"location":"Platform_Services/sovereign_bridge/","title":"Sovereign Bridge","text":""},{"location":"Platform_Services/sovereign_bridge/#overview","title":"Overview","text":"<p>AUCloud's Sovereign Bridge provides connectivity between physical and virtual resources within the data centre ecosystem throughout continental Australia.</p> <p>Features include:</p> <ul> <li>High speed, low latency, and secure connectivity between physical and virtual resources and AUCloud services.</li> <li>Reduced network costs for high-speed transfer of large volumes of data.</li> <li>Dedicated connectivity paths that deliver data quickly and securely.</li> <li>Ability to scale as needed with high performance and guaranteed quality of service.</li> </ul> <p></p> <p>A summary overview:</p> <p></p> <p>For more information, see: AUCloud Sovereign Bridge</p>"},{"location":"Platform_Services/Backup/","title":"Backup","text":""},{"location":"Platform_Services/Backup/#overview","title":"Overview","text":"<p>The following information has been taken from the Veeam Backup &amp; Replication version 11\u00a0User Guide for VMware vSphere and is intended to provide relevant information regarding backups within the AUCloud environment.</p> <p>The full copy of the Veeam documentation can be found online here\u00a0or by downloading the PDF.</p>"},{"location":"Platform_Services/Backup/#scale-out-backup-repositories","title":"Scale Out Backup Repositories","text":"<p>A scale-out backup repository is a repository system with horizontal scaling support for multi-tier storage of data. The scale-out backup repository consists of one or more backup repositories called performance extents and can be expanded with cloud-based repositories or local object repositories. All the storage devices and systems inside the scale-out backup repository are joined into a system, with their capacities summarised. The main benefits of this feature are as follows:</p> <ul> <li>It provides a convenient way of managing the backup storage.</li> <li>It provides an easy way to extend repositories when they run out of space by simply adding a new performance extent to the existing scale-out repository. You can expand the scale-out backup repository at any moment. For example, if backup data grows and the backup repository reaches the storage limit, you can add a new storage system to the scale-out backup repository. The free space on this storage system will be added to the capacity of the scale-out backup repository. As a result, you will not have to move backups to a backup repository of a larger size.</li> <li>It supports any backup target supported by Veeam: Windows or Linux servers with local or DAS storage, network shares, deduplicating storage appliances. All the features of any storage device or system are preserved.</li> <li>It allows you to set up granular performance policy. For more information, see Backup File Placement.</li> <li>It provides practically unlimited cloud-based storage capacity: you can instruct Veeam Backup &amp; Replication to offload data from extents to the cloud for long-term storage.</li> </ul> <p></p> <p>A scale-out backup repository can be used for the following types of jobs and tasks:</p> <ul> <li>Backup jobs.</li> <li>Backup copy jobs. You can copy backups that reside on scale-out backup repositories and store backup copies on scale-out backup repositories.</li> </ul> <p>Backup files stored on the scale-out repository can be used for all types of restores, replication from backup and backup copy jobs.</p>"},{"location":"Platform_Services/Backup/#backup-file-placement","title":"Backup File Placement","text":"<p>Veeam Backup &amp; Replication stores backup files on all performance extents of the scale-out backup repository. When you configure a scale-out backup repository, you must set the backup file placement policy for it. The backup file placement policy describes how backup files are distributed between extents. You can choose one of two policies:</p> <ul> <li>Data locality</li> <li>Performance</li> </ul> <p>The backup file placement policy is not strict. If the necessary extent is not accessible, Veeam Backup &amp; Replication will disregard the policy limitations and attempt to place the backup file to the extent that has enough free space for the backup file.</p> <p>For example, you have set the Performance policy for the scale-out backup repository and specified that full backup files must be stored on Extent 1 and incremental backup files must be stored on Extent 2. If before an incremental backup job session Extent 2 goes offline, the new incremental backup file will be placed to Extent 1.</p>"},{"location":"Platform_Services/Backup/#data-locality","title":"Data Locality","text":"<p>If you set the Data locality policy for a scale-out backup repository, all backup files that belong to the same backup chain are stored on the same extent of the scale-out backup repository.</p> <p></p> <p>The Data locality policy does not put any limitations to backup chains. A new backup chain may be stored on the same extent or another extent. For example, if you create an active full backup, Veeam Backup &amp; Replication may store the full backup file to another extent, and all dependent incremental backup files will be stored together with this full backup file.</p>"},{"location":"Platform_Services/Backup/#extent-selection","title":"Extent Selection","text":"<p>To select an extent for backup file placement, Veeam Backup &amp; Replication checks the following conditions:</p> <ol> <li> <p>Availability of extents on which backup files reside. If some extent with backup files from the current backup chain is not accessible, Veeam Backup &amp; Replication will trigger a full backup instead of incremental (if this option is enabled).</p> </li> <li> <p>Backup placement policy set for the scale-out backup repository.</p> </li> <li> <p>Load control settings \u2014 maximum number of tasks that the extent can process simultaneously.</p> </li> <li> <p>Amount of free space available on the extent \u2014 the backup file is placed to the extent with the most amount of free space.</p> </li> <li> <p>Availability of files from the current backup chain \u2014 extents that host incremental backup files from the current backup chain (or current VM) have a higher priority than extents that do not host such files.</p> </li> </ol>"},{"location":"Platform_Services/Backup/#capacity-tier-s3-storage","title":"Capacity Tier (S3 Storage)","text":"<p>Capacity Tier is an additional tier of storage that can be attached to a scale-out backup repository. Capacity Tier transports applicable data from the scale-out backup repository performance extents to a cloud or to S3-compatible devices for long-term storage.</p> <p>This feature is most useful if:</p> <ul> <li>You are running out of storage space.</li> <li>Your organization policies allow you to store only a certain amount of data on your extents, while the outdated data should be stored elsewhere.</li> <li>You seek to store data on several sites to ensure its safety in case of a disaster.</li> <li>The Capacity Tier consists of only one capacity extent. The capacity extent can be either cloud-based object storage repository or on-premises object storage repository.</li> <li>The capacity extent is displayed in the scale-out backup repository wizard, on the Step 5. Add Capacity Tier step. With Capacity Tier you can:</li> <li>Move inactive backup chains to object storage, as described in Moving Inactive Backup Chains to Object Storage.</li> <li>Copy new backup files as soon as these files are created, as described in Copying Backups to Object Storage.</li> <li>Download data that was moved from object storage back to the source extents, as described in Downloading Data from Object Storage.</li> </ul> <p>Note</p> <p>Pricing for Backup in the AUCloud Pricing Guide assumes data will be transferred to Capacity Tier Storage after one month by default.</p>"},{"location":"Platform_Services/Backup/#immutability","title":"Immutability","text":"<p>Veeam Backup &amp; Replication allows you to prohibit deletion of data from object storage by making it immutable. To make data immutable, Veeam Backup &amp; Replication uses the Object Lock technology provided by S3-Compatible providers. Once imposed, the object lock prohibits deletion of data from object storage until the immutability expiration date is met. The value that defines the period after which the immutability expiration date occurs is specified when adding (or editing) an S3 Compatible object storage repository.</p> <p>The following operations cannot be performed on immutable data within the object storage:</p> <ul> <li>Manual removal of data, as described in Removing Backups from Object Storage Repository.</li> <li>Removal of data by the retention policy, as described in Retention Policy.</li> <li>Removal of data using any cloud service provider tools.</li> <li>Removal of data by the cloud service provider technical support department.</li> <li>Removal of data by the Remove deleted items data after option, as described in Maintenance Settings.</li> </ul> <p>Immutable data is preserved as described in Block Generation.</p>"},{"location":"Platform_Services/Backup/#block-generation","title":"Block Generation","text":"<p>Block Generation is an additional period of 10 days that is automatically added to the immutability expiration date. This period is designed to reduce the number of the requests to the object storage in cases when the immutability period of some blocks must be extended: for instance, when the blocks are being reused. Generations may grow, which happens after you offload data starting from the 11th day and up until the end of the immutability period, thereby creating new consecutive generations the period of which is also 10 days.</p>"},{"location":"Platform_Services/Backup/#forward-incremental-backup-chain","title":"Forward Incremental Backup Chain","text":"<p>The following figure shows an example consisting of three generations; each generation has immutable blocks of data, two of which have been reused during copy.</p> <p></p> <p>As per example:</p> <p>[Generation 1]\u00a0On 01/01/2020, a Full Backup 1 consisting of blocks\u00a0A, B, C\u00a0and\u00a0D\u00a0has been offloaded to object storage. On 01/04/2020, the Full Backup 1 was succeeded by an Incremental Backup 1 consisting of blocks\u00a0E\u00a0and\u00a0F.</p> <p>After both files have been offloaded, a backup (or backup copy) job went idle for the next 7 days. In such a scenario, blocks of these files (i.e.\u00a0A, B, C, D, E\u00a0and\u00a0F) become part of the\u00a0Generation 1.</p> <p>[Generation 2]\u00a0On 01/11/2020 (11th day), a Full Backup 2 consisting of blocks\u00a0A, B, G\u00a0and\u00a0H\u00a0has been offloaded to object storage. On 01/12/2020, the Full Backup 2 was succeeded by an Incremental Backup 2 consisting of blocks\u00a0I\u00a0and\u00a0J.</p> <p>Because all these blocks (i.e.\u00a0G, H, I\u00a0and\u00a0J) have been offloaded no sooner than on the 11th day, these blocks become part of the\u00a0Generation 2.</p> <p>Blocks\u00a0A\u00a0and\u00a0B\u00a0of the Full Backup 2, however, have not been actually offloaded. Instead, these blocks have been taken from the Full Backup 1 and, therefore, have been reused.</p> <p>Such a scenario means that the\u00a0Generation 1\u00a0now has blocks\u00a0C, D, E\u00a0and\u00a0F\u00a0only (i.e., excluding reused blocks\u00a0A\u00a0and\u00a0B), all of which become mutable on 02/09/2020.</p> <p>After the Incremental Backup 2 has been offloaded on 01/12/2020, the backup (or backup copy) job went idle for the next 10 days.</p> <p>[Generation 3]\u00a0On 01/22/2020 (11th day), an Incremental Backup 3 consisting of blocks\u00a0K\u00a0and\u00a0B\u00a0has been offloaded to object storage. Blocks of this file become part of the\u00a0Generation 3\u00a0and block\u00a0B\u00a0has been reused from the Full Backup 2. Since all of the blocks that have been offloaded starting from 01/11/2020\u00a0(G, H, I, J\u00a0and\u00a0K) are of the same backup chain, these blocks now belong to the\u00a0Generation 3\u00a0altogether and can only become mutable on 03/02/2020.</p> <p>For instance, if the Incremental Backup 3 had not been offloaded on 01/20/2020, the immutability expiration window of blocks\u00a0A, B, G, H, I\u00a0and\u00a0J\u00a0would have been met on 02/21/2020, which is the date when the Full Backup 2 was offloaded plus 40 days.</p> <p>According to this example, Veeam Backup &amp; Replication continues to keep reused/dependent blocks of data locked by continuously assigning them to new generations, thereby extending the immutability expiration period.</p>"},{"location":"Platform_Services/Backup/#managing-capacity-tier-data","title":"Managing Capacity Tier Data","text":"<p>You can manage the backup data in object storage in the following ways:</p> <ul> <li>Restore data directly from object storage back to production servers.</li> <li>Download offloaded data from object storage back to the source extents.</li> <li>Manage retention policies to remove obsolete restore points from the extents and the object storage.</li> <li>Reduce the amount of operations incurred by your cloud storage provider and decrease the amount of traffic being sent over the network when moving or copying data to object storage.</li> </ul>"},{"location":"Platform_Services/Backup/#moving-inactive-backup-chains-to-object-storage","title":"Moving Inactive Backup Chains to Object Storage","text":"<p>To collect backup files that belong to inactive backup chains from the extents and move them to object storage, Veeam Backup &amp; Replication uses an offload session which is executed automatically every 4 hours.</p> <p>A complete name of each offload session is built up of the scale-out backup repository name + the Offload postfix. That is, if your scale-out backup repository name is AUCLOUD, the offload session name will be AUCLOUD Offload.</p> <p>The offload session manages the following:</p> <ul> <li>Validation Process</li> <li>Data Transfer</li> </ul> <p>Before your data can safely be moved to object storage repositories, Veeam Backup &amp; Replication performs the following mandatory verifications and required actions:</p> <ul> <li>Verifies whether data that is about to be moved belongs to an inactive backup chain. For more information, see Backup Chain Legitimacy.</li> <li>Verifies whether source extents are available and have not been put into maintenance mode. Consider that data will not be offloaded from Linux-based extents that have internet access via HTTP(S) proxy. All Linux-based extents configured in your scale-out backup repository must have direct access to the internet.</li> <li>Verifies whether an object storage repository has not been put into maintenance or seal mode. For more information, see Switching to Maintenance Mode and Switching to Seal Mode.</li> <li>Verifies whether configuration parameters that define how and when inactive backup chains must be moved to object storage are met. Such parameters are configured, as described in Add Capacity Tier.</li> <li>Builds and maintains indexes to verify whether data that is being moved is unique and has not been offloaded earlier. For more information, see Indexes.</li> <li>Synchronizes the backup chain state between the local and object storage repository to maintain retention policies. For more information, see Retention Policy.</li> </ul>"},{"location":"Platform_Services/Backup/#data-transfer","title":"Data Transfer","text":"<p>After the validation process is complete, the SOBR Offload session does the following:</p> <ul> <li>Collects backup files that have passed verification. Such verified backup files are collected from all the extents added to a scale-out backup repository.</li> <li>Extracts data blocks from these files and moves these blocks to object storage leaving the backup files only with metadata (i.e. free of data blocks). Such backup files (without data blocks) will remain on the source extents and will also be replicated to the object storage repository.</li> </ul> <p>Having a copy of such dummy files on your extents allows you to:</p> <ul> <li>Download data that was moved back to the extents, as described in Data Download.</li> <li>Restore data back to production servers, as described in Data Restore.</li> <li>Having replicated versions of dummy files in object storage repositories allows you to:</li> <li>Synchronize the backup chain state of your object storage with that of your extents, as described in Synchronizing Capacity Tier Data.</li> </ul> <p>The following figure illustrates how inactive backup chains are moved to object storage.</p> <p></p> <p>The Figure A demonstrates a pool of extents (A, B and C) that are added to a scale-out backup repository (SOBR) and an object storage repository that is added to the same SOBR.</p> <p>Suppose that the extent A has an inactive backup chain consisting of one <code>.vbk</code> file and three <code>.vib</code>  files, that is, four restore points in total. Each of these files comprises metadata (represented as green vertical blocks) and the actual blocks of data (represented as yellow squares). During the offload session, Veeam Backup &amp; Replication will collect all the orange squares \u2014 that is, the actual blocks of data \u2014 from all the backup files (<code>.vbk</code> and <code>.vib</code> ) and offload these blocks to the object storage repository represented in the Figure B.</p> <p>Each offloaded block might be of different size, which is defined during configuring storage optimization. The offloaded blocks are placed to the blocks directory in your object storage repository.</p> <p>Backup files with metadata (or dummy files) will be replicated to the object storage repository and will be placed to the <code>storages</code> directory. As per example, these files are one <code>.vbk</code> file and three <code>.vib</code>  files that are shown in the Figure B.</p> <p>Such an approach will be applied to all inactive backup chains that satisfy validation criteria.</p> <p>After offload is complete, the new Object Storage node appears in the Home view, under the Backups node and shows backups that have been moved to object storage.</p>"},{"location":"Platform_Services/Backup/#copying-backups-to-object-storage","title":"Copying Backups to Object Storage","text":"<p>Veeam Backup &amp; Replication allows you to copy backups from the extents of your scale-out backup repository to object storage as soon as these backups are created.</p> <p>To copy data to object storage, Veeam Backup &amp; Replication uses a copy session that is executed automatically upon completion of a backup (or backup copy) job that is targeted to a scale-out backup repository that was extended with object storage.</p> <p>A complete name of each copy session is built up of the backup (or backup copy) job name + the Offload postfix. That is, if your backup (or backup copy) job name is Aucloud, the copy session name will be Aucloud Offload.</p> <p>Once the backup (or backup copy) job is complete, Veeam Backup &amp; Replication initiates a new copy session which simply extracts data blocks and metadata from each new backup file (<code>.vbk</code>, <code>.vib</code> , <code>.vrb</code>) created on any of the extents of your scale-out backup repository and copies these blocks to object storage, thereby making an identical replica of your backup data.</p> <p>Having such a replica gives you the ability to quickly restore data as of the latest state in case of any unexpected failure of any of your extents, or even of the entire scale-out backup repository, as described in Restore Scenarios.</p> <p>To enable data copy, make sure to select the Copy backups to object storage as soon as they are created option, as described in Add Capacity Tier.</p>"},{"location":"Platform_Services/Backup/#combining-copy-and-move-operations","title":"Combining Copy and Move Operations","text":"<p>You can combine both the Copy backups to object storage as soon as they are created option and the Move backups to object storage as they age out of the operational restores window option. In such a scenario, a copy session will be copying newly created backups right upon creation.</p> <p>Once the backup chain becomes inactive (or sealed) and exceeds the operational restore window, data blocks will be removed from each associated backup file in such an inactive on-premises backup chain and only metadata will be preserved. Such a behavior mimics data movement, but instead of moving data that was already copied, Veeam Backup &amp; Replication simply purges associated data blocks from the extents, thereby saving traffic and reducing costs that might be incurred by your storage provider for performing read/write operations.</p> <p>The following figure shows an example in which both options are enabled, suggesting that each backup file has been copied to object storage upon its creation.</p> <p>The backup chain on the left becomes inactive after a new full backup file is created and consists of one <code>.vbk</code> file and five <code>.vib</code>  files. Since only the first four backup files (represented as grey blocks) in this inactive backup chain exceed the operational restore window, Veeam Backup &amp; Replication removes blocks of data from these four files only and leaves the other two <code>.vib</code>  files (created on Thursday and Friday) as they are until the operational restore window moves forward, and so on.</p> <p></p> <p>After copy is complete, the new Object Storage node appears in the Home view, under the Backups node and shows backups that have been copied to object storage.</p> <p>Note</p> <p>The copy is not performed in any of the following cases: - The target object storage repository is in the maintenance or seal mode. - During prohibited hours specified in the backup window configuration.</p>"},{"location":"Platform_Services/Backup/#downloading-data-from-object-storage","title":"Downloading Data from Object Storage","text":"<p>To download data from object storage back to the source extents, Veeam Backup &amp; Replication uses the SOBR Download session.</p> <p>The SOBR Download session is triggered right after you select the Copy to performance tier option; it collects offloaded blocks of data from object storage and copies them back to the on-premises extents. For more information, see Copying to Performance Tier and Downloading to Performance Tier.</p> <p>Consider the following:</p> <ul> <li>Before copying data blocks, Veeam Backup &amp; Replication verifies whether any of such blocks exist on any of the extents of your scale-out backup repository. If found, Veeam Backup &amp; Replication will use the existing blocks instead of downloading the exact same data from object storage.</li> <li>If a source extent is unable to accommodate data being copied due to lack of free storage space, Veeam Backup &amp; Replication will find another extent in the associated scale-out backup repository that has sufficient storage capacity to receive the data. If your scale-out backup repository has no extents other than the one running out of space, the copy will not be possible.</li> <li>If you have removed any of the extents from a scale-out backup repository without evacuating backup files with metadata, the copy will not be possible. Backup files with metadata are created, as described in Moving Inactive Backup Chains to Object Storage.</li> <li>The SOBR Download session results are saved to the configuration database and available for viewing, as described in Viewing Download Job Session Results.</li> </ul> <p>The following figure shows an example of replenishing on-premises storage with the data blocks being copied from the object storage repository.</p> <ul> <li>The Figure A represents an object storage repository containing blocks of data to be copied.</li> <li>The Figure B represents extents that store backup files with metadata to be replenished.</li> </ul> <p></p>"},{"location":"Platform_Services/Backup/#backup-chain-legitimacy","title":"Backup Chain Legitimacy","text":"<p>Before moving data to object storage repositories, Veeam Backup &amp; Replication scale-out repository validates the backup chain state to ensure that the restore points to be moved belong to an inactive backup chain. This does not apply to the copy policy: all newly created restore points are copied immediately.</p>"},{"location":"Platform_Services/Backup/#inactive-backup-chain-of-a-backup-job","title":"Inactive Backup Chain of a Backup Job","text":"<p>When a backup job is being executed for the first time, Veeam Backup &amp; Replication creates an initial full backup file that contains complete information about the VMs that are being backed up. Each subsequent backup job sessions initiate creation of new incremental backup files that contain only changes which have occurred since the last backup session.</p> <p>Such a chain can be considered active as there are more incremental backups have yet to be created, depending on the backup job schedule configuration. For more information, see Define Job Schedule.</p> <p>To move data to object storage repositories, an active backup chain must be reset, that is, transformed into inactive.</p> <p>To transform an active backup chain into inactive, a new Active Full (or Synthetic Full) backup file must be created for such a chain. This can be done either manually, as described in Performing Active Full Backup, or you can configure a schedule, according to which new active full backups will be created automatically, as described in Active Full Backup.</p> <p>Once a new full backup file is created and the offload session is being executed, Veeam Backup &amp; Replication collects all the restore points (full and incremental) that were created prior to the latest active full, and prepares them to be moved to the object storage repository, as described in Moving Inactive Backup Chains to Object Storage.</p> <p>The following figure shows both inactive and active backup chains created with the incremental method. The inactive backup chain consisting of one <code>.vbk</code> file and five <code>.vib</code>  files can easily be offloaded once it satisfies validation criteria, whereas the active backup chain consisting of a <code>.vbk</code> file and a <code>.vib</code>  file would continue to grow with another incremental backups until it is reset by another full backup and so on.</p> <p></p> <p>The same applies to backup chains created with the reverse-incremental method, except for in this method, all the <code>.vrb</code> files starting from the third restore point will be considered inactive automatically, as illustrated in the Figure A below. That said, you do not have to create an Active Full (nor Synthetic Full) backup manually unless you want to offload all the restore points including a <code>.vbk</code> file and the first two <code>.vrb</code> files, as illustrated in the Figure B.</p> <p>Note</p> <p>Mind that a full backup file and the first two incremental backup files (that is, two <code>.vrb</code> files that immediately follow a <code>.vbk</code> file) will never be offloaded until another full backup file is created successfully, as illustrated in the Figure B.</p> <p>Consider the following examples:</p> <ul> <li>The Figure A shows a backup chain consisting of 1 <code>.vbk</code> file and 6 <code>.vrb</code> files, of which only 4 <code>.vrb</code> files (represented as gray blocks) can be offloaded.</li> <li>The Figure B shows a backup chain consisting of 2 <code>.vbk</code> files and 7 <code>.vrb</code> files, of which only 6 <code>.vrb</code> files and a <code>.vbk</code> file (also represented as gray blocks) can be offloaded.</li> </ul> <p></p> <p>Backup chains can be of a different structure, depending on whether your backups were created using the perVM method or as a single storage; when all VMs are placed into a single file. Both structure types can be offloaded to object storage repositories as long as these types are inactive.</p> <p>For more information on how Veeam Backup &amp; Replication creates and manages backup chains, see Backup Chain.</p>"},{"location":"Platform_Services/Backup/#inactive-backup-chain-of-a-backup-copy-job","title":"Inactive Backup Chain of a Backup Copy Job","text":"<p>When offloading backup chains created by backup copy jobs, only full backup files that have a GFS flag will be moved. That said, you must select the Keep the following restore points as full backups for archival purposes check box and (optionally) combine it with the Read the entire restore point from source backup instead of synthesizing it from increments check box at the Target step of the New Backup Copy Job wizard.</p> <p>For more information on how to configure a backup copy job and how the GFS retention works, see Creating Backup Copy Jobs and GFS Retention Policy respectively.</p> <p>Consider the following figures:</p> <ul> <li>The Figure A shows a backup chain consisting of 2 <code>.vbk</code> files and 5 <code>.vib</code>  files created with the synthetic full method.</li> </ul> <p>The Weekly Full Backup file (represented as a gray block) can be offloaded to object storage since it has a GFS flag assigned to it (as per example, the flag is Weekly), whereas the second <code>.vbk</code> file cannot be offloaded until it is also assigned a GFS flag, which happens after another full backup file is created.</p> <ul> <li>The Figure B shows a backup chain consisting of 3 <code>.vbk</code> files and 11 <code>.vib</code>  files created with the active full method.</li> </ul> <p>In this figure, a Weekly Full Backup file (represented as a gray block in the middle) has a Weekly flag, therefore, this full backup file can be offloaded to object storage. The second weekly full backup file (represented as an orange block on the rightmost side) also has a Weekly flag assigned, but since this file is active and is yet to be succeeded by another incremental backups during subsequent sessions of your backup copy job, it will not be offloaded until another full backup file is created and so on.</p> <p>The first backup file (represented as a green block on the left) will never be offloaded since it does not have any GFS flag assigned.</p> <p>Note</p> <p>The following types of backup files are never offloaded from backup chains created by backup copy jobs: - Full backup files (<code>.vbk</code>) that have not been assigned any GFS flag. - Incremental backup files (<code>.vib</code>).</p> <p></p>"},{"location":"Platform_Services/Backup/#retention-policy","title":"Retention Policy","text":"<p>A retention policy defines the number of restore points to keep on your extents and is configured in the Specify Backup Storage Settings step of the backup job configuration wizard.</p> <p>The restore points that fall under the retention policy will be removed from both the extents and object storage repositories in the following manner:</p> <ul> <li>An earliest restore point will be removed from the backup chain on the associated extent.</li> <li>Data blocks that correspond to the restore point that is being removed will be purged from the object storage repository upon the next offload or copy session.</li> </ul> <p>Make sure that an object storage repository has not been put into maintenance mode, as this mode prevents synchronization of the on-premises backup chain state with that of object storage.</p> <p>For more information about the offload and copy sessions, see Moving Inactive Backup Chains to Object Storage and Copying Backups to Object Storage respectively.</p> <ul> <li>Immutable blocks of data are removed after the immutability period is over.</li> </ul> <p>When a retention policy encounters immutable copied/moved blocks of data, it removes such blocks from the associated backup files on the extents only and then updates indexes, informing Veeam Backup &amp; Replication that these blocks no longer exist and must be removed from object storage once mutable.</p> <p>For more information about immutability, see Immutability.</p> <ul> <li>Associated indexes will be updated for consistency purposes.</li> </ul>"},{"location":"Platform_Services/Backup/about_backup/","title":"About AUCloud Backup for VMware Cloud Director","text":""},{"location":"Platform_Services/Backup/about_backup/#overview","title":"Overview","text":"<p>The AUCloud backup solution for VMware Cloud Director (vCD) environments uses Veeam backup infrastructure to protect vCD\u00a0virtual machines (VMs). As such certain information been taken from the Veeam Backup &amp; Replication version 11\u00a0Enterprise Manager User Guide and is intended to provide relevant information regarding backups within the AUCloud environment.</p> <p>A full copy of the Veeam Enterprise Manager User Guide documentation can be found online\u00a0here.</p>"},{"location":"Platform_Services/Backup/about_backup/#how-it-works","title":"How it works","text":"<p>Veeam (version 11) leverages the native VMware Cloud Director authentication technology to authorise\u00a0users to log in to Enterprise Manager. The authentication process and components interactions are shown in the figure below.</p> <p></p> <p>This approach helps to streamline administration and management tasks on provider side. A tenant only needs to be configured once in VMware Cloud Director, and then any change like a new password or a 'Disable' operation will be immediately reflected in Veeam Enterprise Manager. User administration is handled at the AUCloud Portal level.</p>"},{"location":"Platform_Services/Backup/about_backup/#aucloud-tenant-user-operations-and-authentication","title":"AUCloud Tenant User Operations and Authentication","text":"<p>When a user with the required permission level logs into VMware Cloud Director and access the Managed Backups portal from the vCD menu, the user will be automatically logged into the backup portal using their VMware Cloud Director credentials. Backup enabled users can perform the following operations:</p> <ul> <li>Create new backup jobs for the objects within VMware Cloud Director, based on the pre-defined templates. Tenant users can configure essential job settings (such as VMs to backup, retention, schedule, notifications, and guest OS processing options).</li> <li>Modify or delete the jobs.</li> <li>Enable or disable the jobs.</li> <li>Start, stop, retry the jobs.</li> <li>View statistics on VMware Cloud Director backups.</li> <li>Restore VMware Cloud Director VMs to the original vApps and vApps to the original vDC.</li> <li>Perform application item restore for SQL Server and Oracle databases.</li> <li>Restore files from indexed and non-indexed VMs guest file system.</li> </ul> <p>To simplify job management for users, advanced job parameters (like backup mode and repository settings) are automatically created by AUCloud administrators.</p>"},{"location":"Platform_Services/Backup/getting_started/","title":"Self-Service Backup Portal \u2013 Getting Started","text":""},{"location":"Platform_Services/Backup/getting_started/#overview","title":"Overview","text":"<p>Once enabled, the self-service backup portal can be accessed via a plug-in through VMware Cloud Director. The self-service portal facilitates operations for VMware Cloud Director VMs protection, including VMs and files restore.\u00a0These operations do not require specific user accounts to be created. For restore operations, an administrator can access the Self-Service Backup Portal from within VMware Cloud Director.</p> <p></p>"},{"location":"Platform_Services/Backup/getting_started/#accessing-the-veeam-backup-portal","title":"Accessing the Veeam Backup portal","text":"<p>The portal can be accessed via a plug-in through VMware Cloud Director. If you would like access to back-up your VM's in your VMware Cloud Director service, please contact your Customer Success Manager or AUCloud support to request to have this feature enabled. Please provide an estimation of the storage space required (if known)</p>"},{"location":"Platform_Services/Backup/getting_started/#assigning-permissions-within-the-aucloud-portal","title":"Assigning permissions within the AUCloud Portal","text":"<ol> <li> <p>To assign permissions to a user within your tenancy navigate to the Users page</p> <p>Select Create New User or edit, to edit an existing user\u2019s permissions. Further details on how to manage user permission are contained in\u00a0Managing User Accounts. \u00a0</p> </li> <li> <p>The backup user requires Administrator access to the VMware Cloud Director service. The administrator access role provides the user with full administrator rights within the vCD tenancy. A specific backup administrator role does not currently reside within the portal access; however; this is currently in development.\u00a0</p> </li> </ol>"},{"location":"Platform_Services/Backup/getting_started/#working-with-the-portal","title":"Working with the Portal","text":"<p>Using the Self-Service Backup portal, you can perform the following operations:</p> <ul> <li> <p>Dashboard\u00a0- view statistics on VMware Cloud Director backups.</p> </li> <li> <p>Jobs\u00a0-\u00a0examine and export job sessions data, search for jobs, create new jobs and edit jobs.</p> </li> <li> <p>VMs\u00a0- search for and restore virtual machines and vApps with a single click to their original location (preserving or overwriting the production VM or vApp).</p> </li> <li> <p>Files\u00a0-\u00a0search for the files on the VM guest file system and restore the necessary files to the original location or download to the local machine.</p> </li> <li> <p>Items\u00a0-\u00a0perform application item-level restore (currently, for Microsoft SQL Server and Oracle databases).</p> </li> </ul> <p>Detailed information can be found in the following articles:</p> <ul> <li> <p>Viewing Statistics on VMware Cloud Director Backups</p> </li> <li> <p>Working with VMware Cloud Director Backup Jobs</p> </li> <li> <p>VMware Cloud Director VMs and vApps Restore</p> </li> </ul>"},{"location":"Platform_Services/Backup/restoring_vms_and_vapps/","title":"Restoring VMs and vApps","text":""},{"location":"Platform_Services/Backup/restoring_vms_and_vapps/#overview","title":"Overview","text":"<p>You can perform the following tasks using the\u00a0VMs\u00a0tab of Self-Service Backup Portal:</p> <ul> <li>Search and browse VMs and vApps</li> <li>Restore\u00a0VMs\u00a0and\u00a0vApps</li> <li>Restore virtual disks</li> <li>Delete VMs</li> <li>Restore Guest OS and Application items</li> </ul>"},{"location":"Platform_Services/Backup/restoring_vms_and_vapps/#restore-vms","title":"Restore VMs","text":"<p>VMware Cloud Director VMs can be restored to the original (production) vApp using flexible restore options.</p> <ol> <li> <p>On the\u00a0VMs\u00a0tab, select the necessary VM backup in the list of VMs. To quickly find the necessary VM, use the search field at the top of the window.</p> </li> <li> <p>Click\u00a0Restore VM\u00a0and select the option you need:</p> <ul> <li>Select\u00a0Overwrite\u00a0if you want to restore the VM from the backup to the original vApp, replacing the production VM.</li> <li>Select\u00a0Keep\u00a0if you want to keep both VMs in the original vApp. The VM from the backup will be located next to the original production VM and will have the same name with the\u00a0_restored\u00a0suffix.</li> </ul> <p></p> </li> <li> <p>Select the restore point that will be used to restore the VM.</p> </li> <li> <p>Additionally, you can select to\u00a0Power on VM after restoring\u00a0or use the\u00a0Quick rollback\u00a0option. For VMware VMs, you can also select to\u00a0Restore VM tags.</p> <p></p> </li> <li> <p>After you click\u00a0Restore, you will get a message notifying you about the operation effect: the VM from the backup will replace the production VM if it is present in the original location. Click\u00a0Proceed\u00a0or\u00a0Cancel\u00a0the operation.</p> </li> <li> <p>You can view the VM restore progress in the\u00a0Machines\u00a0tab after you click\u00a0View history.</p> <p>Warning</p> <p>Restore of a standalone VM to the original location with the\u00a0Keep\u00a0option selected will result in an unpredictable behaviour and possible failure of the restore job.</p> </li> </ol>"},{"location":"Platform_Services/Backup/restoring_vms_and_vapps/#restore-vapps","title":"Restore\u00a0vApps","text":"<p>Similar steps can be taken to restore a vApp:</p> <ol> <li> <p>On the\u00a0VMs\u00a0tab, select the necessary vApp backup. To quickly find the necessary vApp, use the search field at the top of the window.</p> </li> <li> <p>For the selected backup, click\u00a0Restore vApp\u00a0and select the option you need:</p> <ul> <li>Select\u00a0Overwrite\u00a0if you want to restore the vApp from the backup to the original vDC, replacing the production vApp.</li> <li>Select\u00a0Keep\u00a0if you want to kept the original vApp in the original vDC. The vApp from the backup will be located next to the original production vApp and will have the same name with the\u00a0_restored\u00a0suffix. Names of VMs in the vApp will remain the same.</li> </ul> <p></p> </li> <li> <p>Select the restore point that will be used to restore the vApp.</p> </li> <li> <p>Additionally, you can select to\u00a0Power on VM after restoring.</p> <p></p> </li> <li> <p>After you click\u00a0Restore, you will get a message notifying you about the operation effect \u2014 remember that with the\u00a0Overwrite\u00a0option selected, the existing vApp and all its VMs will be replaced with the vApp from the backup. Click\u00a0Proceed\u00a0or\u00a0Cancel\u00a0the operation.</p> <p>Warning</p> <p>Restore of a vApp with a standalone VM will return and ordinary and not standalone VM.</p> </li> </ol>"},{"location":"Platform_Services/Backup/restoring_vms_and_vapps/#restore-virtual-disks","title":"Restore\u00a0Virtual Disks","text":"<p>You can restore individual virtual disks from backups of VMware Cloud Director VMs:</p> <ol> <li> <p>On the\u00a0VMs\u00a0tab, select the backup of the VM whose disks you want to restore. To quickly find the necessary VM, use the search field at the top of the window.</p> </li> <li> <p>Click\u00a0Virtual Disks and simply follow the steps of the\u00a0Virtual Disk Restore\u00a0wizard.</p> <p></p> </li> </ol>"},{"location":"Platform_Services/Backup/restoring_vms_and_vapps/#delete-vms-and-vapps","title":"Delete\u00a0VMs and vApps","text":"<ol> <li> <p>Once you select a VM, click the\u00a0Delete\u00a0button. If you are sure that you want to delete the selected VM, click\u00a0Yes\u00a0from the Delete VM window.</p> <p>Note</p> <p>If the selected VM is the last one in its vApp, then it is deleted from the backup with its vApp. If this vApp is the last one in its backup, then the whole backup is deleted. In other cases, only the selected VM is deleted</p> </li> <li> <p>If you delete a vApp all of the VMs will be deleted from backup.</p> </li> <li> <p>When you remove data for deleted VMs from per-VM backup chains, it does not mark the space as available but deletes backup files since they contain data for 1 VM only.</p> </li> <li> <p>When you remove data for deleted VMs from regular backup chains, it does not free up space on the backup repository. It marks the space as available to be overwritten, and this space is overwritten during subsequent job sessions or the backup file compact operation.</p> </li> </ol>"},{"location":"Platform_Services/Backup/restoring_vms_and_vapps/#restore-guest-os-and-application-items","title":"Restore\u00a0Guest OS and Application Items","text":""},{"location":"Platform_Services/Backup/restoring_vms_and_vapps/#restore-vm-guest-os-files","title":"Restore\u00a0VM Guest OS Files","text":"<ol> <li> <p>The\u00a0Files\u00a0tab of the Self-Service Backup Portal allows users\u00a0to browse the guest OS file system in a VM backup, search for guest OS files, and restore necessary\u00a0files.</p> </li> <li> <p>To restore files from indexed and non-indexed VM guest file system, go to the\u00a0Files\u00a0tab. After you find the necessary file, you can restore it from backup with one click. You can choose to restore it to the original location or download it to the local machine.</p> <p>Note</p> <ul> <li>If you plan to restore from non-indexed VM guest, consider that mount operation will be performed using mount server assigned to the corresponding backup repository.</li> <li>For more information on how to restore files from a Linux VM, see\u00a0this web page.</li> </ul> </li> </ol>"},{"location":"Platform_Services/Backup/restoring_vms_and_vapps/#restore-application-items","title":"Restore\u00a0Application Items","text":"<ol> <li> <p>The\u00a0Items\u00a0tab of Self-Service Backup Portal allows users to perform item-level recovery from application-aware backups (currently, SQL Server databases and Oracle databases).</p> </li> <li> <p>To restore application items (SQL Server databases or Oracle databases), go to the\u00a0Items\u00a0tab and follow the steps described in the\u00a0Restore Procedure for SQL Server\u00a0databases and\u00a0Restore Procedure for Oracle\u00a0databases.</p> </li> </ol>"},{"location":"Platform_Services/Backup/statistics_on_vcd_backups/","title":"Viewing Statistics on VMware Cloud Director Backups","text":""},{"location":"Platform_Services/Backup/statistics_on_vcd_backups/#overview","title":"Overview","text":"<p>The\u00a0Dashboard\u00a0tab contains statistics on the VMware Cloud Director backup jobs created by your VMware Cloud Director organization\u00a0administrators,\u00a0including\u00a0information\u00a0on\u00a0the\u00a0VMs,\u00a0job\u00a0runs\u00a0and\u00a0backup\u00a0storage.\u00a0Views\u00a0for\u00a0the\u00a0last 24 hours and last 7 days are\u00a0available.</p> <p></p> <ol> <li> <p>The\u00a0Protected\u00a0widget reports on:</p> <ul> <li>vApps\u00a0\u2014\u00a0displays\u00a0the\u00a0number\u00a0of\u00a0vApps\u00a0for\u00a0which\u00a0restore\u00a0points\u00a0were\u00a0successfully\u00a0created\u00a0during\u00a0the specified\u00a0period.</li> <li>VMs\u00a0\u2014 displays the number of VMs for which restore points were successfully created during the specified\u00a0period.</li> <li>VMs size\u00a0\u2014 total size of source VMs successfully\u00a0processed.</li> </ul> </li> <li> <p>The\u00a0Jobs\u00a0widget reports on:</p> <ul> <li>Number of jobs created by currently logged in administrator</li> <li>Max job\u00a0duration</li> <li>Average data transfer\u00a0speed.</li> </ul> </li> <li> <p>The\u00a0Backup Storage\u00a0widget reports on status of the backup storage assigned to the organization, on the storage quota assigned, and on the storage size used. Status indicators are as follows:</p> <ul> <li>Green \u2014 more than 10% of storage space is\u00a0free.</li> <li>Yellow \u2014 less than 10% of storage space is\u00a0free.</li> <li>Red \u2013 no free space on backup storage (please contact AUCloud Support to increase storage space if required).</li> </ul> </li> <li> <p>The Last 24 hours/Last 7 days widget reports on the job session results for the corresponding period.</p> </li> <li> <p>To visualise data for on-going jobs, the\u00a0Dashboard\u00a0tab displays a graph showing time and date when jobs were performed, and the network throughput rate (in MB/s) during the job.</p> </li> </ol>"},{"location":"Platform_Services/Backup/working_with_vcd_backup_jobs/","title":"Working with VMware Cloud Director Backup Jobs","text":""},{"location":"Platform_Services/Backup/working_with_vcd_backup_jobs/#overview","title":"Overview","text":"<p>In the\u00a0Jobs\u00a0tab of the Self-Service Backup Portal, you can perform the following operations:</p> <ul> <li>Create a new VMware Cloud Director backup\u00a0job</li> <li>Start, stop or retry a\u00a0job</li> <li>Disable or enable a\u00a0job</li> <li>Edit job\u00a0settings</li> </ul>"},{"location":"Platform_Services/Backup/working_with_vcd_backup_jobs/#create-backup-jobs","title":"Create\u00a0Backup Jobs","text":"<ol> <li> <p>Go to the\u00a0Jobs\u00a0tab of the Self-Service Backup Portal and click\u00a0Create.</p> <p></p> </li> <li> <p>Specify job name, description and retention settings (how many restore points should be stored\u00a0in repository for future\u00a0restores).\\</p> <p>Note</p> <p>To keep certain full backups for archive purposes, ensure the\u00a0Keep certain full backups\u00a0checkbox has been checked and is configured by clicking\u00a0configure.</p> <p></p> <p>Note</p> <p>A scale out backup repository (SOBR) will be assigned to your vCD tenancy. The SOBR consists of a Primary Tier backup storage appliance to ingest backups and a Capacity Tier appliance (S3\u00a0based\u00a0storage used\u00a0for\u00a0longer\u00a0backup\u00a0retention\u00a0and\u00a0archive\u00a0purposes.\u00a0For\u00a0more\u00a0information\u00a0please see the AUCloud Backup overview.</p> <p></p> </li> <li> <p>Add vApps and/or VMs from the VMware Cloud Director organization\u00a0to\u00a0the job by clicking +Add\u00a0and make a\u00a0selection.</p> <p></p> </li> <li> <p>Follow the wizard to configure other settings available to you such as guest\u00a0processing, schedule, notifications on job completion (see below\u00a0images).</p> <p>Guest OS\u00a0Processing</p> <p></p> <p>Application aware backups and file exclusions</p> <p></p> <p>Scheduling options</p> <p></p> <p>Enable\u00a0notifications</p> <p></p> </li> <li> <p>The remaining settings (repository, processing mode, etc.) will be obtained from the repository set\u00a0up in your tenancy by\u00a0AUCloud.</p> </li> </ol>"},{"location":"Platform_Services/Backup/working_with_vcd_backup_jobs/#manage-backup-jobs","title":"Manage Backup Jobs","text":"<ol> <li> <p>Once a backup job has been created you can manage that job from within the portal.</p> <p></p> </li> <li> <p>To run a job, select the job from the list on the Jobs tab, then click Start.</p> <p></p> </li> <li> <p>To stop a job, select the job from the list on the Jobs tab, then click Stop.</p> <p></p> </li> <li> <p>To re-run a job that has failed, select the job from the list on the Jobs tab, then click\u00a0Retry.</p> <p></p> </li> <li> <p>To delete a job, select the job from the list on the Jobs tab, then click\u00a0Job &gt; Delete.</p> <p>Note</p> <p>After\u00a0deletion, this job will be removed from configuration and no longer appear in web portal and in Veeam Backup Management Console._</p> <p></p> </li> <li> <p>Additional backup job management options include:</p> <ul> <li>Edit job\u00a0settings</li> <li>Enabling and disabling selected\u00a0jobs</li> <li>Performing a Active Full\u00a0backup</li> </ul> </li> </ol>"},{"location":"Platform_Services/Backup/working_with_vcd_backup_jobs/#considerations-and-limitations","title":"Considerations and Limitations","text":"<ol> <li> <p>Job cloning is not available.</p> </li> <li> <p>The following limitations apply to VM backups and subsequent restores via the Self-Service Backup Portal:</p> <ul> <li>You create a backup job that will process a VM added explicitly (that is, not as a part of a\u00a0vApp container). This job runs, creating several restore points.</li> <li>When you restore this VM to the original location via the Self-Service Backup Portal, the VM identifier changes in VMware Cloud Director hierarchy. Due to this reason, the backup job is unable to locate this VM. To rectify, you need to edit job settings, adding this VM anew. To ensure that\u00a0job configuration will store this VM with the new metadata (not the old one from VMware Cloud Director hierarchy cache), you should first click Refresh in the Add Objects window.</li> <li>At the next job run, a new full backup will be created for this VM. However, if you try to perform file-level restore via the Self-Service Backup Portal from the restore points created initially for that VM (in step 2), the restore operation will fail, as that VM identifier does not\u00a0exist.</li> </ul> <p></p> <p></p> </li> </ol>"},{"location":"Platform_Services/Compute/","title":"Compute","text":""},{"location":"Platform_Services/Compute/#compute-solutions","title":"Compute Solutions:","text":"<p>Catalog: Use our public catalog to find standard VM sizes and operating systems for your VMware Cloud Director deployment. You can also create your own catalogs with specific applications or gold images for faster VM deployment.</p> <p>Gateway: The NSX-V edge gateway connects an organization's virtual data center (VDC) network with an external network.</p> <p>VDC Networks: A VDC network allows VMs to communicate and access external networks. It can also have multiple networks and vApp networks for added control. An organization VDC network enables VMs to communicate and access external networks.</p> <p>SDDC: Access the SDDC from the ESG using a dedicated connection. It has a firewall and NSX-T Logical Load-Balancer for high availability and traffic distribution.</p> <p>Using the API: The API allows you to connect to the AUCloud platform via PowerCLI and to use Terraform against AUCloud's implementation of VMware Cloud Director </p> <p>Working with Virtual Machines:</p> <ul> <li>create a vApp or Virtual Machine</li> <li>move apps</li> <li>increase or add HDD</li> <li>customize settings</li> <li>resize disk</li> <li>view and update VM settings</li> <li>view storage profile usage</li> <li>work with OVF files</li> </ul>"},{"location":"Platform_Services/Compute/VMware_Cloud_Director/","title":"VMware Cloud Director","text":""},{"location":"Platform_Services/Compute/VMware_Cloud_Director/#overview","title":"Overview","text":"<p>VMware Cloud Director (VCD) is a platform that helps manage and deliver software-defined data center (SDDC) services to customers. It creates a layer of abstraction between the physical infrastructure of the cloud and the applications that run on it, allowing for the management and delivery of multiple types of cloud services.</p> <p>VCD includes a web-based user interface for managing the cloud environment and tools for automating tasks such as provisioning and scaling resources. It also includes features for billing and metering usage, and for monitoring and troubleshooting the cloud environment.</p> <p>VMware Cloud Director is designed to be secure, with a number of security measures in place to protect data and resources. Here are a few examples of how VMware Cloud Director helps to secure the environment:</p> <ul> <li> <p>Role-based access control: VMware Cloud Director allows defining roles and permissions for users, so access to resources and actions can be strictly controlled.</p> </li> <li> <p>Network isolation: VMware Cloud Director uses network isolation to segment networks and limit access to certain resources, helping to prevent unauthorised access or communication between different groups of users or resources.</p> </li> <li> <p>Data encryption: VMware Cloud Director supports data encryption at rest and in transit, helping to protect data from unauthorised access or tampering.</p> </li> <li> <p>Security patches and updates: VMware Cloud Director is regularly updated with security patches and other updates to help keep the environment secure.</p> </li> <li> <p>Compliance: VMware Cloud Director is compliant with various industry standards and regulations, helping to ensure that an environment meets necessary security requirements.</p> </li> </ul>"},{"location":"Platform_Services/Compute/Catalogs/how_to_create_a_catalog/","title":"How to create a catalog","text":""},{"location":"Platform_Services/Compute/Catalogs/how_to_create_a_catalog/#overview","title":"Overview","text":"<p>AUCloud provides a public catalog for you to use that contains standard virtual machine (VM) sizes and operating systems. The public catalog is a good place to start when you first deploy VMs into VMware Cloud Director. However, you may want to create your own catalogs, containing specific applications or gold images, which you can then use to deploy VMs quickly.</p>"},{"location":"Platform_Services/Compute/Catalogs/how_to_create_a_catalog/#create-an-empty-catalog","title":"Create\u00a0an empty catalog","text":"<ol> <li> <p>In VMware Cloud Director, click\u00a0Libraries\u00a0from the top menu bar.</p> <p></p> </li> <li> <p>In the left navigation panel, click\u00a0Catalogs.</p> <p> </p> </li> <li> <p>To create a new catalog, click\u00a0New.</p> <p></p> </li> <li> <p>In the\u00a0Create Catalog\u00a0dialog box,\u00a0Name\u00a0the catalog and give it a\u00a0Description\u00a0if needed.</p> </li> <li> <p>To specify a storage policy for the catalog, select the\u00a0Pre-provision on specific storage policy\u00a0option then select the desired\u00a0Storage Policy. The storage policy is dependent on what is preferred at the time your Org VDC is created. Contact AUCloud for more information on different storage policies.</p> <p></p> </li> <li> <p>To finish, click\u00a0OK.</p> </li> <li> <p>To make the catalog visible to others within your organisation, click the ellipsis and select\u00a0Share.</p> <p> </p> </li> <li> <p>In the\u00a0Share with Users and Groups\u00a0dialog box, select:</p> <ul> <li>Share with All Users and Groups\u00a0to add everyone in the organisation; or</li> <li>Share with specific users or groups\u00a0to add individual users or groups of users.</li> </ul> <p>Note</p> <p>You can give users different access levels:\u00a0Read Only,\u00a0Full Control\u00a0or\u00a0Change. Change allows users to change permissions._</p> <p></p> </li> <li> <p>When you have added all the people you want to access the catalog, click\u00a0OK.</p> </li> <li> <p>To finish, click\u00a0Save.</p> </li> </ol>"},{"location":"Platform_Services/Compute/Catalogs/how_to_create_a_catalog/#populating-an-empty-catalog","title":"Populating an empty catalog","text":"<p>There are two ways to populate a catalog:</p> <p>a. Upload\u00a0an OVF package; or</p> <p>b. Create a template from an existing vApp</p>"},{"location":"Platform_Services/Compute/Catalogs/how_to_create_a_catalog/#uploading-an-ovf-package","title":"Uploading an OVF package","text":"<ol> <li> <p>In the\u00a0Libraries\u00a0page, in the left navigation panel, select\u00a0vApp Templates.</p> <p> </p> </li> <li> <p>Click New\u00a0to open an OVF upload window.</p> <p></p> </li> <li> <p>In the\u00a0Create vApp template from OVF\u00a0dialog box, select the source of the OVF - either enter a\u00a0URL\u00a0or\u00a0Browse\u00a0for a local file.</p> <p> </p> </li> <li> <p>Click\u00a0Next then review the details of the OVF template and then click\u00a0Next.</p> </li> <li> <p>Enter a\u00a0Name\u00a0and\u00a0Description\u00a0for the template and from the\u00a0Catalog\u00a0list, select the catalog in which you want to put the OVF. Click\u00a0Next\u00a0to continue.</p> <p></p> </li> <li> <p>Review the details of the vApp template and\u00a0click\u00a0Finish\u00a0to deploy.</p> <p>Note</p> <p>Depending on template size and network speed, the upload may take some time._</p> </li> </ol>"},{"location":"Platform_Services/Compute/Catalogs/how_to_create_a_catalog/#create-a-template-from-an-existing-vapp","title":"Create a template from\u00a0an existing vApp","text":"<ol> <li> <p>In VMware Cloud Director, click\u00a0Datacenters\u00a0from the top\u00a0menu.</p> <p> </p> </li> <li> <p>Select the VDC where the vApp is located.</p> </li> <li> <p>In the left navigation panel, click\u00a0vApps.</p> <p> </p> </li> <li> <p>In the card for the vApp that you want to add to the catalog, select\u00a0Actions\u00a0then\u00a0Create Template.</p> <p></p> <p>Note</p> <p>You can add both running and stopped vApps to the catalog, although it is worth noting that creating a catalog image from a running vApp could affect performance.</p> </li> <li> <p>You can now choose the catalog you want to add the vApp to, give the vApp a new name, assign a storage lease, and define whether vApps deployed using this template are identical or customisable.</p> <p>You can also overwrite an existing catalog item. If the catalog you are adding the vApp to is published externally,\u00a0a warning will appear.</p> <p></p> </li> <li> <p>To finish, click\u00a0OK.</p> <p>A status bar will appear on top with the message:\u00a0Please wait. You can close the window and check the progress by expanding the\u00a0Recent Tasks\u00a0section at the bottom of the VMware Cloud Director interface.</p> </li> </ol>"},{"location":"Platform_Services/Compute/Catalogs/how_to_share_catalog_library_between_aucloud_sov_zone/","title":"How to share catalog library between AUCloud Sovereignty Zones","text":""},{"location":"Platform_Services/Compute/Catalogs/how_to_share_catalog_library_between_aucloud_sov_zone/#overview","title":"Overview","text":"<p>You can share catalog library between AUCloud Sovereignty Zones (*SZ) by performing Catalog publishing/subscription.</p> <p>Follow the below steps if you require access to a catalog created in CSZ (Canberra) when in SSZ (Sydney), or vice versa.</p>"},{"location":"Platform_Services/Compute/Catalogs/how_to_share_catalog_library_between_aucloud_sov_zone/#share-catalog-library-between-aucloud-sovereignty-zones-eg-csz-to-ssz","title":"Share catalog library between AUCloud Sovereignty Zones (e.g. CSZ to SSZ)","text":"<ol> <li> <p>Log in to the environment where the catalog you want to share is stored (e.g. CSZ)</p> </li> <li> <p>Navigate to\u00a0Libraries,\u00a0then select\u00a0Catalogs.</p> <p></p> </li> <li> <p>Click the ellipsis\u00a0next to the catalog that you wish to share and select\u00a0Publish settings.</p> </li> <li> <p>A new pop up window will appear, then\u00a0tick\u00a0Enable Publishing.</p> <p>Note</p> <p>To enable password protection on your catalog, enter a\u00a0password and type the same password again to confirm\u00a0then click on\u00a0Save.</p> <p></p> </li> <li> <p>Once the publishing settings is saved, it\u00a0will return to the Catalogs page again.</p> </li> <li> <p>Click the ellipsis\u00a0next to the catalog that you wish to share and select\u00a0Publish settings.</p> <p>Note</p> <p>This time it will show the subscription URL. Highlight the URL and hit\u00a0Ctrl+C\u00a0on your keyboard to copy the URL details somewhere safe i.e. notepad.</p> <p></p> </li> <li> <p>Then login to the other environment where you want to share this catalog to (e.g. SSZ).</p> </li> <li> <p>Navigate to\u00a0Libraries,\u00a0then select\u00a0Catalogs &gt; New.</p> <p></p> </li> <li> <p>Then perform the following:</p> <ul> <li>enter the catalog name,</li> <li>enable\u00a0subscribe to an external catalog\u00a0option,</li> <li>enter the subscription\u00a0url (by pasting the url copied earlier on step 6),</li> <li>enter\u00a0the password that was set earlier (Step 4), and</li> <li>click\u00a0OK.</li> </ul> <p></p> </li> <li> <p>Once the new catalog is created with subscription to the catalog\u00a0(e.g. from CSZ), it will start performing synchronisation of the catalog items between Sovereignty Zones (e.g. CSZ to SSZ).  </p> <p></p> </li> </ol> <p>Once the sync task is complete,\u00a0the vApp templates/media from the new catalog can be utilised.</p>"},{"location":"Platform_Services/Compute/Getting_Started/getting_started_with_vcd/","title":"Getting Started with VMware Cloud Director","text":""},{"location":"Platform_Services/Compute/Getting_Started/getting_started_with_vcd/#overview","title":"Overview","text":"<p>This guide leads you through the three basic steps for using VMware Cloud Director to quickly build a simple virtual machine (VM) and connect it to the internet.</p> <p>The three steps covered in this guide are:</p> <ol> <li> <p>Create a network (to move requests around your VMs).</p> </li> <li> <p>Configure the edge gateway (in this guide we focus on the firewall and NAT configuration).</p> </li> <li> <p>Create a virtual machine.</p> </li> </ol> <p>If you follow these steps, you can have a VM up and running with a connection to the internet in about 20 to 25 minutes.</p>"},{"location":"Platform_Services/Compute/Getting_Started/getting_started_with_vcd/#create-a-network","title":"Create a network","text":"<p>Before you can start building VMs in your VDC, you need to create the network that connects the VMs to each other and the outside world.</p> <p>First, you need to create a network that can connect to external networks outside your VDC (including the internet). This is called an external routed network. You can find more information about routed networks in How to create a routed VDC network.</p> <ol> <li> <p>Log in to the AUCloud Portal.</p> <p>For more detailed instructions, see the Getting Started Guide for the AUCloud Portal</p> </li> <li> <p>Select your account.</p> </li> <li> <p>In the Portal navigation panel, expand VMware Cloud Director and then select the compute service in which you want to create your VM.</p> <p></p> </li> <li> <p>On the VMware Cloud Director tab, enter your Portal password and click Confirm.</p> <p></p> </li> <li> <p>In the VMware Cloud Director dashboard, select your VDC.</p> </li> <li> <p>In the left navigation panel, select Networks.</p> <p></p> </li> <li> <p>To create a new network, click the New button.</p> <p></p> </li> <li> <p>Select Routed as the network type as in this example you want your VM to connect to the internet.</p> <p></p> </li> <li> <p>Click Next.</p> </li> <li> <p>When you connect a network to the outside world, it's important that you control exactly what can access your environment via that network. VMware Cloud Director uses edge gateways to do this.</p> <p>In the Edge Connection page, select the edge that you want your new network to use.</p> <p></p> </li> <li> <p>In the General page, give the network a Name and Description.</p> </li> <li> <p>In the Gateway CIDR field, enter the details for the gateway address.</p> </li> <li> <p>You can make your network available to other VDCs within the same region so that VMs can communicate with each other, regardless of which VDC they are in. Select Shared to enable this feature.</p> <p></p> </li> <li> <p>Click Next.</p> </li> <li> <p>A VM needs an IP address to identify it on the network.</p> <p>In the Static IP Pools page, identify the range of IP addresses that VMs connecting to this network can use then click Add. For example, if your Gateway CIDR is 192.168.1.0/24, you can use the 192.168.1.10-192.168.1.100 range for your static IP pool, giving 91 usable internal IP addresses.</p> <p></p> </li> <li> <p>Click Next.</p> </li> <li> <p>In the DNS page, enter your DNS information.</p> <p></p> </li> <li> <p>Click Next.</p> </li> <li> <p>In the Ready to Complete page, review your selections then click Finish.</p> <p></p> </li> </ol>"},{"location":"Platform_Services/Compute/Getting_Started/getting_started_with_vcd/#configure-the-edge-gateway","title":"Configure the edge gateway","text":"<p>The edge gateway is possibly the most complex part of the VDC because of its high level of functionality. The following steps show you how to quickly configure the edge gateway to enable you to access the internet from a VM.</p> <ol> <li> <p>In the VMware Cloud Director Virtual Datacenters dashboard, select your VDC.</p> </li> <li> <p>This time you're working with the edge gateway, so in the left navigation panel, click Edges.</p> <p></p> </li> <li> <p>Select the edge gateway you want to work with and click the Services button.</p> <p></p> </li> <li> <p>Each tab in the Edge Gateway dialog box provides access to a different service provided by the edge gateway. The main tabs are:</p> <p></p> </li> <li> <p>In the VMware Cloud Director Virtual Datacenters dashboard, select your VDC.</p> </li> <li> <p>This time you're working with the edge gateway, so in the left navigation panel, click Edges.</p> <p></p> </li> <li> <p>Select the edge gateway you want to work with and click the Services button.</p> <p></p> </li> <li> <p>Each tab in the Edge Gateway dialog box provides access to a different service provided by the edge gateway. The main tabs are:</p> <p></p> </li> <li> <p>Firewall - As well as a physical firewall, you can control which networks and ports can communicate through the edge gateway. You'll set up some firewall rules later in this exercise.</p> </li> <li>DHCP - The edge gateway can act as a DHCP server for VMs connected to Org networks connected to an edge. The DHCP tab shows DHCP information for any VDC networks that have been configured with DHCP, and so acts as a centralised view. For more information, see How to create a DHCP pool.</li> <li>NAT - Network address translation, both in (DNAT) and out (SNAT) of the edge gateway. You'll set up some NAT rules later in this exercise.</li> <li>Routing - You can provide static routes from the edge gateway to other networks, for example networks in other VDCs in your compute service. For more information, see How to create a static route.</li> <li>Load Balancer - The edge gateway provides simple HTTP and HTTPS load balancing using round robin. For more information, see How to configure a load balancer.</li> <li>VPN - IPsec site to site VPN is available on the edge gateway. You can configure an IPsec VPN within VMware Cloud Director, but you may need to perform additional configuration through the API. For more information, see How to configure IPsec VPN.</li> </ol> <p>To access the internet from a VM, you'll need to create firewall rules to determine who can access your network and NAT rules to route traffic within your network.</p>"},{"location":"Platform_Services/Compute/Getting_Started/getting_started_with_vcd/#creating-firewall-rules","title":"Creating firewall rules","text":"<p>Let's start with firewall rules:</p> <ol> <li> <p>In the Edge Gateway dialog box, select the Firewall tab.</p> </li> <li> <p>Make sure the Enabled option is selected.</p> <p></p> </li> <li> <p>Click the + button to add a new row to the firewall rules table.</p> <p></p> </li> <li> <p>Edit the values in the row for the New Rule using the settings below:</p> <ul> <li>Name - HTTPS outbound</li> <li>Source - internal Click + (Add object) button, select Internal, click the right arrow button, then click Keep.</li> <li>Destination - external click + (Add object) button, select External, click the right arrow button, then click Keep.</li> <li>Service - Click the + button and enter the following values in the Add Service dialog box</li> <li>Protocol - TCP</li> <li>Source Port - any</li> <li>Destination Port - 443</li> </ul> <p></p> <ul> <li>Click Keep when you're done.</li> <li>Action - Accept</li> </ul> <p>These settings allow traffic from the VMs (Source = internal) to reach destinations outside your VDC (Destination = external) on port 443 (HTTPS). You'll need to repeat these steps for ports 80 (HTTP) and 53 (DNS).</p> <p>You can also allow traffic to reach your VMs from outside your VDC by swapping the Source and Destination values. However, because this opens up your firewall to a lot of traffic, we recommend that you first complete this guide to get comfortable with general networking concepts, and then take a look at the information in How to create firewall rules where you can find out how to lock the firewall down.</p> <p></p> </li> <li> <p>Click Save changes.</p> <p></p> </li> </ol>"},{"location":"Platform_Services/Compute/Getting_Started/getting_started_with_vcd/#creating-nat-rules","title":"Creating NAT rules","text":"<p>Now that you've set up the firewall rules, you can create NAT rules:</p> <ol> <li> <p>In the Edge Gateways dialog box, select the NAT tab.</p> <p></p> </li> <li> <p>In the NAT44 Rules section, click the SNAT Rule button to create a source NAT (SNAT) rule to translate internal IP addresses into something that the external network can understand.</p> <p></p> </li> <li> <p>In the Add SNAT Rule dialog box, from the Applied on list, choose the edge gateway to which you want to apply the SNAT rule.</p> </li> <li> <p>In the Original Source IP/Range field, enter the range of addresses you created when you created the network in the previous exercise.</p> </li> <li> <p>In the Translated Source IP/Range field, enter one or more of the external IP addresses provided to you by AUCloud.</p> <p>If you are not sure what your IP addresses are, see How to find your allocated external IP addresses.</p> <p></p> </li> <li> <p>When you're done, click Keep and then Save changes.</p> <p></p> </li> </ol> <p>You can also add destination NAT (DNAT) rules to translate external IP addresses to route traffic to the appropriate internal addresses. However, because the firewall only provides outbound access to the internet, we do not need to add DNAT rules at the moment.</p> <p>You can find more information about setting up NAT rules in How to create NAT rules.</p>"},{"location":"Platform_Services/Compute/Getting_Started/getting_started_with_vcd/#create-a-virtual-machine","title":"Create a virtual machine","text":"<p>Now that you've laid the groundwork, it's time to create your VM. The best way to do this is to create a virtual application (vApp). You can think of a vApp as a container for your VMs; it enables you to group related VMs together to manage them in one place. See How to create a vApp to find out more.</p> <ol> <li> <p>In the VMWare Cloud Director Virtual Datacenters dashboard, select your VDC.</p> </li> <li> <p>In the left navigation panel, click vApps.</p> <p></p> </li> <li> <p>In this exercise, you'll create the vApp from scratch, so click New vApp.</p> <p></p> </li> <li> <p>In the New vApp dialog box, give the vApp a Name and Description.</p> </li> <li> <p>Click Add Virtual Machine.</p> <p></p> </li> <li> <p>In the New VM dialog box, you can create your VM. Enter a Name, Computer Name and Description for the VM.</p> </li> <li> <p>The easiest way to create a VM is to use a pre-built template from a catalog, so from the Type radio buttons, select From Template.</p> </li> <li> <p>From the list of Templates, select the one you want to use.</p> </li> <li> <p>Click *OK.</p> </li> <li> <p>Back in the New vApp dialog box, you can add more VMs if you want, but for now click Create to create the vApp and the single VM.</p> </li> <li> <p>There are some more configuration tasks to complete for your new VM, so in the left navigation panel, select Virtual Machines to list all the VMs in the VDC.</p> <p></p> </li> <li> <p>In the card for your new VM, click Details.</p> </li> <li> <p>In the General section, you can click edit and change the VM name in the Name field but keep the default Storage Policy option.</p> <p></p> </li> <li> <p>Under the Hardware section, click NICs, then click Edit and select the externally routed Network you created in the first exercise.</p> </li> <li> <p>From the IP Mode list, choose Static - IP Pool to use the IP pool you defined earlier when you created your network.</p> <p></p> </li> <li> <p>You do not need to change anything in the other sections, so click Save.</p> </li> <li> <p>If your VM is not already powered on, in the card for the VM, select Actions, Power then Power On, Force re-customization.</p> <p></p> </li> <li> <p>Click the Actions &gt; VM Console, Launch Web Console and go through the setup procedure.</p> </li> <li> <p>To confirm that you have connectivity to the internet and have an assigned IP address:</p> </li> <li> <p>Type <code>ipconfig</code> into the Command Prompt. If you've configured the networking correctly, your VM will return an IP address.</p> </li> <li> <p>Open an internet browser page and navigate to an external web page</p> </li> <li> <p>Ping the IP address of your DNS (for example, 8.8.8.8) through the command line.</p> </li> </ol>"},{"location":"Platform_Services/Compute/Getting_Started/use_case/","title":"Use Case - Create a Web Server to communicate with the internet","text":""},{"location":"Platform_Services/Compute/Getting_Started/use_case/#introduction","title":"Introduction","text":"<p>This use case is a walk-through of a general process for deploying a web and application server through VMware Cloud Director.</p>"},{"location":"Platform_Services/Compute/Getting_Started/use_case/#build-virtual-machines","title":"Build Virtual Machines","text":"<p>The first step is to build the required virtual machines (VMs).</p> <p>VMs can be created as standalone or within a vApp. In this example we will create the VM from scratch inside a vApp which allow you to combine multiple VMs into a single management unit.</p> <p>Create a New Standalone Virtual Machine</p> <p>Additional information on how to import a saved vApp from an imported OVF</p>"},{"location":"Platform_Services/Compute/Getting_Started/use_case/#import-ovf","title":"Import OVF","text":"<p>Create a vApp Template from an OVF File</p> <p></p> <p>Example only. vApp content and IP addresses are variable. IPs can be assigned in several different ways.</p>"},{"location":"Platform_Services/Compute/Getting_Started/use_case/#create-an-internal-network","title":"Create an Internal Network","text":"<p>An ORG vDC network is required to allow your VMs to communicate with each other and external networks.</p>"},{"location":"Platform_Services/Compute/Getting_Started/use_case/#build-an-org-vdc-network","title":"Build an ORG vDC network","text":"<p>Add a Routed Organization Virtual Data Center Network</p> <p></p>"},{"location":"Platform_Services/Compute/Getting_Started/use_case/#connect-network-to-vapp-and-vm","title":"Connect Network to vApp and VM","text":""},{"location":"Platform_Services/Compute/Getting_Started/use_case/#connect-vapp-to-network","title":"Connect vApp to network","text":"<p>Add a Network to a vApp</p>"},{"location":"Platform_Services/Compute/Getting_Started/use_case/#connect-the-vm-primary-nic-to-the-network","title":"Connect the VM Primary NIC to the network","text":"<p>Change the Hardware Properties of a Virtual Machine</p> <p></p>"},{"location":"Platform_Services/Compute/Getting_Started/use_case/#configure-firewall-nat-rules-on-edge-services-gateway","title":"Configure Firewall NAT rules on Edge Services Gateway","text":""},{"location":"Platform_Services/Compute/Getting_Started/use_case/#configure-firewall","title":"Configure firewall","text":"<p>Add an NSX-T Data Center Edge Gateway Firewall Rule</p> <p>Note</p> <p>Locate your public IP address by clicking on Edges, navigating to General \u2192 Configuration \u2192 Gateway Interfaces tab. The public IP is located in the Primary IP column.</p>"},{"location":"Platform_Services/Compute/Getting_Started/use_case/#configure-nat","title":"Configure NAT","text":"<p>Add an SNAT or a DNAT Rule to an Edge Gateway</p> <p></p>"},{"location":"Platform_Services/Compute/Getting_Started/use_case/#about-the-esg","title":"About the ESG","text":"<p>How the Edge Services Gateway works</p> <p>Turn on VMs and force re-customisation to complete</p>"},{"location":"Platform_Services/Compute/NSX-T_Networks/create_a_routed_vdc_network/","title":"Create a Routed VDC Network","text":""},{"location":"Platform_Services/Compute/NSX-T_Networks/create_a_routed_vdc_network/#overview","title":"Overview","text":"<p>An organisation virtual data centre network enables its virtual machines (VMs) to communicate with each other or to provide access to external networks. A single VDC can have multiple networks.</p> <p>There are two network flavours, isolated and routed:</p> <ul> <li>An isolated (internally connected) network is one that only VMs within the VDC can connect to. Creation of isolated networks is documented in Create an Isolated VDC Network.</li> <li>A routed network (externally connected) provides access to machines and networks outside the VDC via the edge gateway. You can have up to nine usable routed networks per VDC. This guide describes how to create a routed VDC network.</li> </ul> <p>Additional information can be viewed on VMware Docs - Add a Routed Organization Virtual Data Center Network.</p>"},{"location":"Platform_Services/Compute/NSX-T_Networks/create_a_routed_vdc_network/#creating-a-routed-vdc-network","title":"Creating a Routed VDC Network","text":"<p>To create a Routed VDC Network, use the following steps:</p> <ol> <li> <p>In the VMware Cloud Director Virtual Datacenters dashboard, select the VDC in which you want to create the network.</p> </li> <li> <p>In the left navigation panel, select Networks.</p> <p></p> </li> <li> <p>Click NEW.</p> <p></p> </li> <li> <p>In the Scope page of the New Organization VDC Network dialog box, select Current Organization Virtual Data Center then click Next.</p> <p></p> </li> <li> <p>In the Network Type page of the New Organization VDC Network dialog box, select Routed then click Next.</p> <p></p> </li> <li> <p>In the Edge Connection page, select the edge gateway that you want your network to connect to then click Next.</p> <p></p> </li> <li> <p>In the General page, enter a Name and Description for the network. In the Gateway CIDR field, the gateway address for the network, then click Next.</p> <p></p> </li> <li> <p>In the Static IP Pools field, enter a range of addresses to be consumed by the VMs connecting to the network, then click Add.</p> <p>Note</p> <ul> <li>As an example, if you give the gateway address as 192.168.0.1/24, you may then want to create a Static IP Pool of 192.168.0.10-192.168.0.100. This will give you a pool of 91 IP addresses to assign to machines within your network. You can always increase this later if needed.</li> <li>You can add multiple IP pools.</li> </ul> <p></p> </li> <li> <p>When you're done, click Next.</p> </li> <li> <p>In the DNS page, enter DNS information if possible then click Next.</p> <p></p> </li> <li> <p>If a Segment Profile Template is required, choose the template, and click Next.</p> </li> <li> <p>Verify Details and click Finish.</p> </li> </ol>"},{"location":"Platform_Services/Compute/NSX-T_Networks/create_an_isolated_vdc_network/","title":"Create an Isolated VDC Network","text":""},{"location":"Platform_Services/Compute/NSX-T_Networks/create_an_isolated_vdc_network/#overview","title":"Overview","text":"<p>An organisation virtual data centre network enables its virtual machines (VMs) to communicate with each other or to provide access to external networks. A single VDC can have multiple networks.</p> <p>There are two network flavours, isolated and routed:</p> <ul> <li>An isolated (internally connected) network is one that only VMs within the VDC can connect to. This guide describes how to create an isolated VDC network.</li> <li>A routed network (externally connected) provides access to machines and networks outside the VDC via the edge gateway. You can have up to nine usable routed networks per VDC. Creation of routed networks is described in How to create a routed VDC Network.</li> </ul> <p>Additional information can be viewed on VMware Docs - Add an Isolated Organization Virtual Data Center Network.</p>"},{"location":"Platform_Services/Compute/NSX-T_Networks/create_an_isolated_vdc_network/#creating-an-isolated-vdc-network","title":"Creating an Isolated VDC Network","text":"<p>To create an Isolated VDC Network, use the following steps:</p> <ol> <li> <p>In the VMware Cloud Director Virtual Datacenters dashboard, select the VDC in which you want to create the network.</p> </li> <li> <p>In the left navigation panel, select Networks.</p> <p></p> </li> <li> <p>Click NEW.</p> <p></p> </li> <li> <p>In the Scope page of the New Organization VDC Network dialog box, select Current Organization Virtual Data Center then click Next.</p> <p></p> </li> <li> <p>In the Network Type page of the New Organization VDC Network dialog box, select Isolated then click Next.</p> <p></p> </li> <li> <p>In the General page, enter a Name and Description for the network. In the Gateway CIDR field, the gateway address for the network, then click Next.</p> <p></p> </li> <li> <p>In the Static IP Pools field, enter a range of addresses to be consumed by the VMs connecting to the network, then click Add.</p> <p>Note</p> <ul> <li>As an example, if you give the gateway address as 192.168.0.1/24, you may then want to create a Static IP Pool of 192.168.0.10-192.168.0.100. This will give you a pool of 91 IP addresses to assign to machines within your network. You can always increase this later if needed.</li> <li>You can add multiple IP pools.</li> </ul> <p></p> </li> <li> <p>When you're done, click Next.</p> </li> <li> <p>In the DNS page, enter DNS information if possible then click Next.</p> <p></p> </li> <li> <p>If a Segment Profile Template is required, choose the template, and click Next.</p> </li> <li> <p>Verify Details and click Finish.</p> </li> </ol>"},{"location":"Platform_Services/Compute/NSX-T_Networks/edge_services_gateway/","title":"Edge Services Gateway","text":""},{"location":"Platform_Services/Compute/NSX-T_Networks/edge_services_gateway/#overview","title":"Overview","text":"<p>The ESG included as part of a Virtual Organisation (vOrg) provides connectivity between internal and external Organisation VDC Networks. It is a virtual appliance that provides multiple features, including:</p> <ul> <li>Dynamic Host Configuration Protocol (DHCP)</li> <li>Virtual Private Network (VPN)</li> <li>Network Address Translation (NAT)</li> <li>Firewall</li> <li>Load Balancing</li> </ul> <p>The following diagram shows the ESG acting as a router and a Firewall. Internal networks cannot communicate with external (public) networks unless the ESG has been correctly configured:</p> <p></p> <p>Additional information on the Edge Services Gateway can be viewed on VMware Docs - Managing NSX-T Data Center Edge Gateways.</p>"},{"location":"Platform_Services/Compute/NSX-T_Networks/edge_services_gateway/#creating-virtual-network-infrastructure","title":"Creating Virtual Network Infrastructure","text":"<p>Virtual compute and networking infrastructure must be created before ESG configuration.</p> <p>Further information on creating Networks inside the VDC are located:</p> <ul> <li>How to create a routed VDC Network</li> <li> <p>How to create an isolated VDC Network</p> <p></p> </li> </ul>"},{"location":"Platform_Services/Compute/NSX-T_Networks/edge_services_gateway/#working-with-ip-address-groups","title":"Working with IP Address Groups","text":"<p>IP address group (IP Set) is a way to group a list of IP addresses or a range of IP addresses. You can use IP address groups while defining Edge Firewall Rules and distributed Firewall Rules.</p> <p>IP Sets are a group of objects to which the Firewall Rules apply. Combing multiple objects into IP Sets helps reduce the total number of Firewall Rules to be created.</p> <p>Additional information can be viewed on VMware Docs - Add an IP Set to an NSX-T Data Center Edge Gateway.</p> <p>To setup an IP set use the following steps:</p> <ol> <li> <p>In the VMware Cloud Director Virtual Datacenters dashboard, select the VDC in which you want to create the IP Set.</p> </li> <li> <p>In the left navigation panel, click Edges.</p> <p></p> </li> <li> <p>Select the ESG for configuration, and a new menu will appear.</p> <p></p> </li> <li> <p>You can also select the ESG, via the Networking Tab on the top navigation menu, then selecting Edge Gateways, and choosing the Edge Gateway.</p> <p></p> </li> <li> <p>From the menu bar on the left under Security, select IP Sets, then select New.</p> <p></p> </li> <li> <p>Enter a Name, optionally a description, and IP Address information in the following format:</p> <ul> <li>IPv4 IP Address</li> <li>IPv6 IP Address</li> <li>IP Range, or CIDR</li> </ul> </li> <li> <p>When complete, click Add, after all addresses are added, click Save.</p> <p></p> </li> <li> <p>Repeat the above steps to create as many IP Sets as required.</p> </li> </ol>"},{"location":"Platform_Services/Compute/NSX-T_Networks/edge_services_gateway/#application-port-profiles","title":"Application Port Profiles","text":"<p>Application port profiles include a combination of a protocol and a port, or a group of ports, that is used for firewall and NAT services on the edge gateway.</p> <p>In addition to the default port profiles that are pre-configured for NSX-T Data Center, you can create custom application port profiles.</p> <p>When you create a custom application port profile on an edge gateway, it becomes visible to all the other NSX-T Data Center edge gateways that are in the same organization VDC.</p> <p>To create custom Application Port Profiles, use the following steps:</p> <ol> <li> <p>In the VMware Cloud Director Virtual Datacenters dashboard, select the VDC in which you want to create the Application Port Profile.</p> </li> <li> <p>In the left navigation panel, click Edges.</p> <p></p> </li> <li> <p>Select the ESG for configuration, and a new menu will appear.</p> <p></p> </li> <li> <p>You can also select the ESG, via the Networking Tab on the top navigation menu, then selecting Edge Gateways, and choosing the Edge Gateway.</p> <p></p> </li> <li> <p>From the menu bar on the left under Security, select Application Port Profiles, under Custom Applications select New.</p> <p></p> </li> <li> <p>Enter a Name, optionally a Description.</p> </li> <li> <p>Choose Protocol and enter the required Ports.</p> </li> <li> <p>Click Add Port Profile to add more ports as required.</p> </li> <li> <p>When complete, click Save.</p> <p></p> </li> </ol>"},{"location":"Platform_Services/Compute/NSX-T_Networks/edge_services_gateway/#firewall-rules","title":"Firewall Rules","text":"<p>VMware Cloud Director provides a fully featured Layer 3 Firewall (Edge Services Gateway) to control transit from inside to outside security boundary, and within the various virtual datacenters (VDC) networks you create.</p> <p>Additional information can be viewed on VMware Docs - Add an NSX-T Data Center Edge Gateway Firewall Rule.</p> <p>When creating Firewall Rules, IP Sets are required, information on IP Sets is located above.</p> <p>When creating Firewall Rules, Application Port Profiles may be required, information on Application Port Profiles is located above.</p> <p>To create Firewall rules, use the following steps:</p> <ol> <li> <p>In the VMware Cloud Director Virtual Datacenters dashboard, select the VDC that contains the Edge Services Gateway in which you want to create the Firewall Rules.</p> </li> <li> <p>In the left navigation panel, click Edges.</p> <p></p> </li> <li> <p>Select the ESG for configuration, and a new menu will appear.</p> <p></p> </li> <li> <p>You can also select the ESG, via the Networking Tab on the top navigation menu, then selecting Edge Gateways, and choosing the Edge Gateway.</p> <p></p> </li> <li> <p>From the menu bar on the left under Services, select Firewall, then select Edit Rules.</p> <p></p> <p>Note</p> <p>For the first created Firewall Rule, New on Top will be the only available option.</p> </li> <li> <p>For the new Firewall Rule, specify a Name.</p> </li> <li> <p>Under applications, click the pencil, enable Choose a specific application, choose what is required, and click Save.</p> <p> </p> </li> <li> <p>Under Source and Destination, click the pencil, choose the IP Set created above, or enable Any, and click Keep.</p> <p> </p> </li> <li> <p>Under Action, chose one of the following:</p> <ul> <li>Allow</li> <li>Drop</li> <li>Reject</li> </ul> <p></p> </li> <li> <p>Under IP Protocol, chose one of the following:</p> <ul> <li>IPv4</li> <li>IPv6</li> <li>IPv4 and IPv6</li> </ul> <p></p> </li> <li> <p>Enable Logging if required.</p> </li> <li> <p>Write a Comment if required.</p> </li> <li> <p>Repeat above steps for multiple Firewall Rules, when complete, click Save.</p> </li> </ol>"},{"location":"Platform_Services/Compute/NSX-T_Networks/edge_services_gateway/#how-to-find-your-allocated-external-ip-address","title":"How to find your allocated external IP Address","text":"<p>To route traffic to your external network (for example internet) and configure settings such as NAT rules, you need to know your external IP addresses. AUCloud standard IP address allocation is 2 Public IP addresses per Org vDC.</p> <p>To find your allocated IP, use the following steps:</p> <ol> <li> <p>In the VMware Cloud Director Virtual Datacenters dashboard, select the VDC that contains the Edge Services Gateway in which you want to find the external IP Addresses.</p> </li> <li> <p>In the left navigation panel, click Edges.</p> <p></p> </li> <li> <p>Select the ESG for configuration, and a new menu will appear.</p> </li> <li> <p>You can also select the ESG, via the Networking Tab on the top navigation menu, then selecting Edge Gateways, and choosing the Edge Gateway.</p> <p></p> </li> <li> <p>From the menu bar on the left under IP Management, select IP Allocations.</p> </li> <li> <p>The Allocated IP will be listed under IP Range.</p> <p></p> </li> </ol>"},{"location":"Platform_Services/Compute/NSX-T_Networks/edge_services_gateway/#nat-rules","title":"NAT Rules","text":"<p>Network Address Translation (NAT) allows the source or destination IP address to be changed to enable traffic to transition through a router or gateway.</p> <p>You can use three types of NAT within your Edge Services Gateway (ESG):</p> <ul> <li>Destination NAT (DNAT) - changes the destination IP of the packet</li> <li>Source NAT (SNAT) - changes the source IP of the packet</li> <li>Reflexive (stateless NAT) - source packets undergo destination address rewriting, and destination packets undergo source address rewriting</li> </ul> <p>There are two types of NAT within your Edge Services Gateway (ESG):</p> <ul> <li>SNAT (required for outbound traffic)</li> <li>DNAT (required for inbound traffic)</li> </ul> <p>For a virtual machine (VM) to access an external network resource from its virtual data centre (VDC), the IP address of its network needs translation to the public internet IP addresses provided by AUCloud. (SNAT rule)</p> <p>Note</p> <p>For both DNAT and SNAT:</p> <ul> <li>The NAT rule will be applied to the ESG, rather than to the internal VDC network.</li> <li>Firewall rules permitting the associated traffic will also need to be created.</li> </ul> <p>Additional information can be viewed on VMware Docs - Add an SNAT or a DNAT Rule to an NSX-T Edge Gateway.</p> <p>To add NAT rules, use the following steps:</p> <ol> <li> <p>In the Cloud Director Virtual Datacenters dashboard, select the VDC that contains the Edge Services Gateway in which you want to create the NAT Rules.</p> </li> <li> <p>In the left navigation panel, click Edges.</p> <p></p> </li> <li> <p>Select the ESG for configuration, and a new menu will appear.</p> </li> <li> <p>You can also select the ESG, via the Networking Tab on the top navigation menu, then selecting Edge Gateways, and choosing the Edge Gateway.</p> <p></p> </li> <li> <p>From the menu bar on the left under Services, select NAT, then select New.</p> <p></p> </li> <li> <p>For the new NAT Rule, specify a Name, add a description if required and chose the required Interface Type.</p> <p></p> </li> <li> <p>Enter the External IP and Internal IP. Enter an External Port if required, if an Application is required, use the Pencil Icon.</p> <p></p> </li> <li> <p>Click Save once information has been filled out, repeat if further NAT Rules are required.</p> </li> </ol>"},{"location":"Platform_Services/Compute/NSX-T_Networks/edge_services_gateway/#dnat-rule-configuration","title":"DNAT Rule Configuration","text":"<p>When configuring a DNAT rule, you must also navigate to the advanced settings and change the firewall match to \"Match External Address\" in order for the external IP address to be translated to the internal IP.</p> <p></p>"},{"location":"Platform_Services/Compute/NSX-T_Networks/edge_services_gateway/#static-routes","title":"Static Routes","text":"<p>Static routing allows you to configure your Edge Services Gateway (ESG) with knowledge of other networks which are not directly connected to it. It is particularly useful if you need to:</p> <ul> <li>route between virtual data centres (VDCs) in the same virtual organisation (vOrg), or</li> <li>route traffic to vApp networks.</li> </ul> <p>For example, you may have a vApp network 192.168.8.0/24 routed to a VDC network called Front End Network. You could create a static route to enable traffic to get to the outside IP of the vApp edge at 192.168.4.33 (a NAT will exist there).</p> <p>Additional information can be viewed on VMware Docs - Configure Static Routing on an NSX-T Data Center Edge Gateway.</p> <p>To create a Static Route, use the following steps:</p> <ol> <li> <p>In the VMware Cloud Director Virtual Datacenters dashboard, select the VDC that contains the Edge Services Gateway in which you want to create Static Routes.</p> </li> <li> <p>In the left navigation panel, click Edges.</p> <p></p> </li> <li> <p>Select the ESG for configuration, and a new menu will appear.</p> </li> <li> <p>You can also select the ESG, via the Networking Tab on the top navigation menu, then selecting Edge Gateways, and choosing the Edge Gateway.</p> <p></p> </li> <li> <p>From the menu bar on the left under Routing, select Static Routes, then select New.</p> <p></p> </li> <li> <p>On the General tab, enter a Name, a Description if required, and a Network.</p> <p></p> </li> <li> <p>On the Next Hops tab, enter an IP Address, alter Admin Distance if required, and chose a Network via Scope if required. Click Save once complete.</p> <p></p> </li> </ol>"},{"location":"Platform_Services/Compute/NSX-T_Networks/edge_services_gateway/#creating-a-dhcp-pool","title":"Creating a DHCP Pool","text":"<p>With virtual data centre (VDC) networks, you have the option of creating an IP pool of addresses to be assigned automatically or manually (static IP pool). These addresses are injected into virtual machines (VMs) via VMware Tools during Guest Customisation. They appear in the usual places in Windows and Linux where you would interrogate IP settings and show as static addresses.</p> <p>In some situations, you may require true DHCP functionality in your VMs to show IP addresses as dynamically defined. As with an IP pool, you are defining a non-overlapping range of IP addresses to use on the network.</p> <p>Prerequisites:</p> <p>Network created and joined to the ESG:</p> <ul> <li>How to create an Isolated VDC Network - TODO link</li> <li>How to create a routed VDC Network - TODO link</li> </ul> <p>To create a DHCP Pool, use the following steps:</p> <ol> <li> <p>In the VMware Cloud Director Virtual Datacenters dashboard, select the VDC that contains the Networks in which you want to create a DHCP Pools.</p> </li> <li> <p>In the left navigation panel, click Networks.</p> <p></p> </li> <li> <p>Chose the required Network.</p> </li> <li> <p>You can also select the Network, via the Networking Tab on the top navigation menu, then selecting Networks, and choosing the Network.</p> <p></p> </li> <li> <p>Under IP Management, click DHCP.</p> </li> <li> <p>If DHCP is not enabled, click Activate.</p> <p></p> </li> <li> <p>On the General Settings tab:</p> <ul> <li>the Subnet will be the Network chosen above.</li> <li>for DHCP Mode, chose Network for Isolated Networks, or Gateway/Relay for Routed Networks.</li> <li>Listener IP Address will be set automatically.</li> <li> <p>Adjust the Lease Time if required and click Next.</p> <p></p> </li> </ul> </li> <li> <p>On the DHCP Pools tab:</p> <ul> <li>Enter an IP Range as required.</li> <li>If further DHCP Pools are required, click Add.</li> <li> <p>When complete, click Next.</p> <p></p> </li> </ul> </li> <li> <p>On the DNS through DHCP tab:</p> <ul> <li>Enter DNS Server 1 and DNS Server 2 as required.</li> <li> <p>When complete, click Next.</p> <p></p> </li> </ul> </li> <li> <p>On the Review and Complete Tab:</p> <ul> <li>Verify all settings.</li> <li>When Complete, click Finish.</li> </ul> </li> <li> <p>Repeat if further DHCP Pools are required for the same, or different networks.</p> </li> </ol>"},{"location":"Platform_Services/Compute/NSX-T_Networks/edge_services_gateway/#configuring-an-ipsec-vpn","title":"Configuring an IPSec VPN","text":"<p>VMware Cloud Director supports the following types of site-to-site VPN:</p> <ul> <li>Another edge gateway in the same organisation</li> <li>An edge gateway in another organisation</li> <li>A remote network offering IPsec VPN endpoint capability</li> </ul> <p>Depending on the type of connection required, you will need to:</p> <ul> <li>complete IP addressing for both ends together with a shared secret, and</li> <li>indicate which virtual data centre (VDC) networks can connect to the VPN link.</li> </ul> <p>Note</p> <p>The Edge Services Gateway (ESG) supports site-to-site VPN only and does not support VPN client or SSL VPN. If a VPN client is required, you will need to deploy a solution for the remote access VPN concentrator such as a Palo Alto, F5 or Fortinet.</p> <p>Additional information can be viewed on VMware Docs - Configure NSX-T Policy-Based IPSec VPN.</p> <p>Prerequisites:</p> <ul> <li>Locate external IP addresses to use as your tunnel endpoint address, documented above.</li> </ul> <p>To configure an IPSec VPN, use the following steps:</p> <ol> <li> <p>In the VMware Cloud Director Virtual Datacenters dashboard, select the VDC that contains the Edge Services Gateway in which you want to create the IPSec VPN.</p> </li> <li> <p>In the left navigation panel, click Edges.</p> <p></p> </li> <li> <p>Select the ESG for configuration, and a new menu will appear.</p> </li> <li> <p>You can also select the ESG, via the Networking Tab on the top navigation menu, then selecting Edge Gateways, and choosing the Edge Gateway.</p> <p></p> </li> <li> <p>From the menu bar on the left under Services, select IPSec VPN and click New.</p> <p></p> </li> <li> <p>On the General Settings page, enter a Name, a Description if required, enable Logging if required, and click Next.</p> <p></p> <p>Note</p> <p>The Security Profile cannot be edited until the IPSec VPN has been successfully created.</p> </li> <li> <p>On the Peer Authentication Mode page, for the Authentication Mode, chose either a Pre-Shared Key or a Certificate.</p> <ul> <li> <p>Pre-Shared Key - enter a Pre-Shared key and click Next.</p> <p></p> </li> <li> <p>Certificate - chose an uploaded Server Certificate and CA Certificate and click Next.</p> <p></p> </li> </ul> </li> <li> <p>On the Endpoint Configuration page, enter required details, information on configurable fields can be viewed below. </p> <p></p> </li> <li> <p>Once complete, click Next.</p> </li> <li> <p>On the Ready to Complete page, review the settings, and click Finish, if the tunnel fails to create, review the settings and try again.</p> <p></p> </li> </ol>"},{"location":"Platform_Services/Compute/NSX-T_Networks/edge_services_gateway/#customising-security-profile","title":"Customising Security Profile","text":"<p>If the Default Security Profile needs to be edited after the IPSec VPN has been created, use the following steps:</p> <ol> <li> <p>On the ESG, under Services, Click IPSec VPN, you should see the newly created IPSec VPN.</p> </li> <li> <p>Click the IPSec VPN, and click Security Profile Customization.</p> <p></p> </li> <li> <p>Editing the required settings using IPSec VPN Configurable Options below.</p> </li> <li> <p>When complete, click Save.</p> <p></p> </li> </ol>"},{"location":"Platform_Services/Compute/NSX-T_Networks/edge_services_gateway/#creating-a-second-vpn-gateway","title":"Creating a second VPN Gateway","text":"<p>You now need to create the endpoint of the VPN tunnel. If this is a different VDC or vOrg, go through the steps described above again to create the tunnel. When completed, you can change your firewall settings and validate the connection. Refer to Firewall rules above, and Validating the tunnel [below.]#validating-the-tunnel</p> <p>Note</p> <p>If you are connecting to an external datacenter, you will need to set up the tunnel on that premises. This is outside of the scope of this article and will depend on your specific on-premises network configuration.</p>"},{"location":"Platform_Services/Compute/NSX-T_Networks/edge_services_gateway/#configure-the-esg-firewall","title":"Configure the ESG Firewall","text":"<p>When the VPN tunnel is up and running, you will need to create firewall rules on the ESG for any traffic passing over the tunnel, refer to Firewall Rules above.</p> <p>Note</p> <ul> <li>You need to create a firewall rule for both directions - from datacenter to VDC and from VDC to datacenter.</li> <li>For datacenter to VDC, set:<ul> <li>Source as the source IP range for your external VDC/datacenter network</li> <li>Destination as the destination IP range for your VDC network</li> </ul> </li> <li>For VDC to datacenter, set:<ul> <li>Source as the source IP range for your VDC network</li> <li>Destination as the destination IP range for your datacenter/VDC network</li> </ul> </li> </ul>"},{"location":"Platform_Services/Compute/NSX-T_Networks/edge_services_gateway/#configure-the-external-datacenter-gateway-firewall","title":"Configure the external datacenter gateway firewall","text":"<p>When the VPN tunnel is up and running, you may need to create firewall rules and routes on your on-premises gateway or other internal firewall for traffic passing over the tunnel.</p> <p>This is outside of the scope of this article and will depend on your specific on-premises network configuration.</p>"},{"location":"Platform_Services/Compute/NSX-T_Networks/edge_services_gateway/#validating-the-tunnel","title":"Validating the tunnel","text":"<p>When both ends of the IPSec tunnel are configured, the connection should start without any issues.</p> <p>To verify the tunnel status in VMware Cloud Director, use the following steps:</p> <ol> <li> <p>On the ESG, under Services, click IPSec VPN, you should see the newly created IPSec VPN.</p> </li> <li> <p>Click the IPSec VPN, and click View Statistics.</p> <p></p> </li> <li> <p>On the \"IPSec VPN\" Statistics page, you will be able to view the status, and fail reason. There is advanced traffic statistics under Traffic and Errors. When done, click Ok.</p> <p></p> </li> </ol>"},{"location":"Platform_Services/Compute/NSX-T_Networks/edge_services_gateway/#ipsec-vpn-configurable-options","title":"IPSec VPN Configurable Options","text":"<p>The following tables will outline the configurable options when creating or configuring an IPSec VPN.</p> <p>Additional information can be viewed on VMware Docs - Customize the Security Profile of an IPSec VPN Tunnel.</p>"},{"location":"Platform_Services/Compute/NSX-T_Networks/edge_services_gateway/#endpoint-configuration","title":"Endpoint Configuration","text":"Heading Field Description Local Endpoint IP Address The external IP of your ESG refer to How to find your allocated external IP Address above. Networks The organisation networks that can access the VPN (separate multiple local subnets with commas). Must be entered in CIDR format. Remote Endpoint IP Address The external IP of your remote site or on-premises firewall or edge where VPN is being set up. Networks This is the subnet on your on-premises network that you want to make accessible from your AUCloud VDC. Remote ID Unique identifier, will default to the Remote Endpoint IP Address."},{"location":"Platform_Services/Compute/NSX-T_Networks/edge_services_gateway/#security-profile","title":"Security Profile","text":"Heading Field Description IKE Profiles Version The IKE Version. Encryption Supported encryption algorithm to use during the Internet Key Exchange (IKE) negotiation. Digest Secure hashing algorithm to use during the IKE negotiation. Diffie-Hellman Group Cryptography scheme that allows the peer site and the edge gateway to establish a shared secret over an insecure communications channel. Associated Life Time (Optional) number of seconds before the IPSec tunnel needs to reestablish. Tunnel Configuration Enable Perfect Forward Secrecy Enable this if your on-premises/remote site has this capability. Defragmentation Policy Helps to handle defragmentation bits present in the inner packet. Copy - Copies the defragmentation bit from the inner IP packet to the outer packet. Clear - Ignores the defragmentation bit present in the inner packet. Encryption Supported encryption algorithm to use during the Internet Key Exchange (IKE) negotiation. Digest Secure hashing algorithm to use during the IKE negotiation. Diffie-Hellman Group Cryptography scheme that allows the peer site and the edge gateway to establish a shared secret over an insecure communications channel. Associated Life Time (Optional) number of seconds before the IPSec tunnel needs to reestablish. DPD Configuration Probe Interval (Optional) default number of seconds for dead peer detection."},{"location":"Platform_Services/Compute/NSX-T_Networks/edge_services_gateway/#configure-a-load-balancer","title":"Configure a Load Balancer","text":"<p>As an Organisation Administrator, by configuring virtual services which distribute traffic across multiple server pools, you can balance the workloads in your datacenters that are backed by NSX-T Data Center.</p> <p>VMware Cloud Director supports L4 and L7 load balancing that you can configure on an NSX-T Data Center edge gateway.</p> <p>Level 4 load balancing (L4) directs traffic based on data from network and transport layer protocols, such as IP address and TCP port.</p> <p>Level 7 load balancing (L7) distributes traffic based on attributes such as HTTP header, uniform resource identifier, SSL session ID, and HTML form data.</p> <p>Additional information can be viewed on VMware Docs - Working with NSX Advanced Load Balancing.</p> <p>To enable a load balancer, use the following steps:</p> <ol> <li> <p>In the VMware Cloud Director Virtual Datacenters dashboard, select the VDC that contains the Edge Services Gateway in which you want to create a Load Balancer.</p> </li> <li> <p>In the left navigation panel, click Edges.</p> <p></p> </li> <li> <p>Select the ESG for configuration, and a new menu will appear.</p> <p></p> </li> <li> <p>You can also select the ESG, via the Networking Tab on the top navigation menu, then selecting Edge Gateways, and choosing the Edge Gateway.</p> <p></p> </li> <li> <p>From the menu bar on the left under Load Balancer, select General Settings, then select Edit.</p> <p></p> </li> <li> <p>On the Edit General Settings page under Load Balancer State, toggle the Active slider to Green.</p> </li> <li> <p>If prompted for a Feature Set, choose one of the following:</p> <ul> <li>Standard - The standard feature set provides the load balancing features included in VMware NSX Advanced Load Balancer Basic Edition.</li> <li>Premium - The premium feature set provides access to some Premium features, such as, for example, additional load balancing pool algorithm types and pool persistence profiles, virtual service analytics, pool analytics, multiple virtual service ports, and additional virtual service application profile types. </li> </ul> </li> <li> <p>Under Service Network, enter the following:</p> <ul> <li> <p>IPv4 Network, IPv6 Network or both.</p> </li> <li> <p>Use the default IPv4 Network by leaving Use Default check box ticked.</p> </li> </ul> </li> <li> <p>Click Save.</p> <p></p> </li> <li> <p>Once enabled, you will notice on the left menu bar under Load Balancer, that additional sub-headings have appeared.</p> <p></p> </li> </ol>"},{"location":"Platform_Services/Compute/NSX-T_Networks/edge_services_gateway/#creating-a-service-engine-group","title":"Creating a Service Engine Group","text":"<p>The load balancing compute infrastructure provided by NSX Advanced Load Balancer is organized into service engine groups.</p> <p>A system administrator can assign one or more service engine groups to an NSX-T Data Center ESG.</p> <p>Additional information can be viewed on VMware Docs - Assign a Service Engine Group to an NSX-T Data Center Edge Gateway.</p> <p>To create a Service Engine Group, use the following steps:</p> <ol> <li> <p>Under Load Balancer, select Service Engine Groups, and click Add.</p> <p></p> </li> <li> <p>Select an available service engine group from the list.</p> </li> <li> <p>Enter a number for the Maximum Allowed Virtual Services that can be placed on the ESG.</p> </li> <li> <p>Enter a number for the Reserved Virtual Services available to the ESG.</p> </li> <li> <p>When done, click Save.</p> <p></p> </li> </ol>"},{"location":"Platform_Services/Compute/NSX-T_Networks/edge_services_gateway/#configuring-a-load-balancer-pool","title":"Configuring a Load Balancer Pool","text":"<p>A server pool is a group of one or more servers that you configure to run the same application and to provide high availability.</p> <p>Additional information can be viewed on VMware Docs - Add a Load Balancer Server Pool.</p> <p>To configure a Load Balancer Pool, use the following steps:</p> <ol> <li> <p>Under Load Balancer, select Pools, and click Add.</p> <p></p> </li> <li> <p>Under the General Settings tab, enter a Name and a Description if required.</p> </li> <li> <p>Configure settings as required:</p> <ul> <li>Load Balancer Algorithm - Least Connections/Round Robin/Consistent Hash</li> <li>State - Enable/Disable Load Balancer Pool</li> <li>Default Server Port - Destination server port</li> <li>Graceful Disable Timeout - Maximum time to gracefully disable a member</li> <li>Persistence - Persistence profile for Load Balancer Pool</li> <li> <p>Active Health Monitor - Select a value - HTTP/HTTPS/TCP/UDP/Ping </p> <p></p> </li> </ul> </li> <li> <p>On the Members tab, click Add.</p> <ul> <li>Enter IP Address for the pool member</li> <li>Toggle on the State to enable the pool member</li> <li>(Optional) add a custom port for the pool member</li> <li> <p>Enter a Ratio for the pool member. A member with 2, gets twice as much traffic as a member with 1.</p> <p></p> </li> </ul> </li> <li> <p>On the SSL Settings tab:</p> <ul> <li>Enable SSL if required with the toggle</li> <li> <p>Enable Common Name Check if required and enter up to 10 domain names.</p> <p></p> </li> </ul> </li> <li> <p>Click Save when complete.</p> </li> </ol>"},{"location":"Platform_Services/Compute/NSX-T_Networks/edge_services_gateway/#creating-a-virtual-service","title":"Creating a Virtual Service","text":"<p>A virtual service listens for traffic to an IP address, processes client requests, and directs valid requests to a member of the load balancer server pool.</p> <p>Additional information can be viewed on VMware Docs - Create a Virtual Service.</p> <p>To create a Virtual Service, use the following steps:</p> <ol> <li> <p>Under Load Balancer, select Virtual Services, and click Add.</p> <p></p> </li> <li> <p>On the Add Virtual Service page, enter a Name and a Description if required.</p> <ul> <li>Ensure Enabled is toggled on.</li> <li>Select the Service Engine Group created earlier</li> <li>Select the Load Balancer Pool created earlier</li> <li>Enter a Virtual IP Address for the virtual service, it can be IPv4, IPv6 or both</li> <li>Select a Service Type and Port</li> <li> <p>Once complete, click Save</p> <p></p> </li> </ul> </li> </ol>"},{"location":"Platform_Services/Compute/NSX-T_Networks/edge_services_gateway/#add-a-certificate-to-the-edge-services-gateway","title":"Add a certificate to the Edge Services Gateway","text":"<p>In the VMware Cloud Director certificates library, you can import certificates used when creating entities that you must secure, such as servers, edge gateways, and so on.</p> <p>The certificate library contains information about single certificates, certificate chains, private keys, certificate expiration dates, the entities that the certificates secure, and so on.</p> <p>Additional information can be viewed on VMware Docs - Managing Certificates.</p> <p>You can import certificates of servers that VMware Cloud Director communicates with, such as vCenter Server, NSX Manager, and so on.</p> <p>Additional information can be viewed on VMware Docs - Import Trusted Certificates.</p> <p>To import a Trusted Certificate, use the following steps:</p> <ol> <li> <p>In the VMware Cloud Director Virtual Datacenters dashboard, select the VDC.</p> </li> <li> <p>On the top navigation menu, select the Administration tab.</p> </li> <li> <p>On the left navigation menu, under Certificate Management, select Trusted Certificates, and click Import.</p> <p></p> </li> <li> <p>On the Import Certificates page, browse for the .PEM certificate, by clicking Select File.</p> <p></p> </li> <li> <p>Once uploaded, enter a Friendly Name if required, and click Import.</p> <ul> <li>The Certificate details can be viewed by clicking the arrow to the left of the certificate.</li> </ul> <p></p> </li> </ol>"},{"location":"Platform_Services/Compute/NSX-T_Networks/vapp_networks/","title":"vApp Networks","text":""},{"location":"Platform_Services/Compute/NSX-T_Networks/vapp_networks/#overview","title":"Overview","text":"<p>In addition to virtual data centre (VDC) networking, you can create individual vApp networks to have even greater control over your network infrastructure.</p> <p>vApp networks enable you to create smaller networks within individual vApps that have a vApp edge, like the edge gateway on your VDC. </p> <p>Although a vApp edge is not as feature rich as a VDC edge, it enables you to create firewall and NAT rules to separate your VDC networks from your vApp virtual machines (VMs). This means you can create some quite complex networks to satisfy application needs.</p> <p>Additional information can be viewed on VMware Docs - Add a Network to a vApp.</p> <p>The vApp network diagram below shows the vApp edge:</p> <p></p>"},{"location":"Platform_Services/Compute/NSX-T_Networks/vapp_networks/#vapp-network-prerequisites","title":"vApp Network Prerequisites","text":"<ul> <li>Edge Services Gateway (ESG) inside Organisation VDC</li> <li>Routed Network attached to ESG - see Create a Routed VDC Network for information.</li> </ul>"},{"location":"Platform_Services/Compute/NSX-T_Networks/vapp_networks/#creating-a-vapp-network","title":"Creating a vApp Network","text":"<ol> <li> <p>In the VMware Cloud Director Virtual Datacenters dashboard, select the VDC that contains your vApp.</p> </li> <li> <p>In the left navigation panel, select vApps.</p> <p></p> </li> <li> <p>Select your vApp, select Networks, then New.</p> </li> <li> <p>Chose Routed.</p> <p></p> </li> <li> <p>Connect vApp Network to VDC Network Connection. Enter a Name and Description if required for the network. In the Address and DNS section, fill out the fields as required for your network.</p> </li> <li> <p>When you're done, click Add.</p> <p></p> </li> </ol>"},{"location":"Platform_Services/Compute/NSX-T_Networks/vapp_networks/#connecting-a-virtual-machine-to-a-vapp-network","title":"Connecting a Virtual Machine to a vApp Network","text":"<p>If your vApp is already populated with VMs that are connected to a VDC network, you may want to move them over to the vApp network.</p> <p>To change the Virtual Machine network to a vApp Network, use the following steps:</p> <ol> <li> <p>In the VMware Cloud Director Virtual Datacenters dashboard, select the VDC that contains your vApp.</p> </li> <li> <p>In the left navigation panel, select vApps.</p> <p></p> </li> <li> <p>Select your vApp, then Virtual Machines.</p> <p></p> </li> <li> <p>Click each VM, under Hardware and in the NICs section, click Edit.</p> <p></p> </li> <li> <p>Select the vApp network from the Network list and ensure the NIC is 'connected'.</p> <p></p> </li> <li> <p>If you want to dual-home your Virtual Machine, click the NEW button to add a second network.</p> </li> <li> <p>When you're done, click Save.</p> </li> <li> <p>Repeat for the remainder of the Virtual Machines that are required to join the vApp Network.</p> </li> </ol>"},{"location":"Platform_Services/Compute/NSX-T_Networks/vapp_networks/#viewing-and-adjusting-vapp-network-settings","title":"Viewing and Adjusting vApp Network Settings","text":"<p>When you've created your vApp Network and assigned Virtual Machines to it, you may want to review the vApp Network settings and adjust them if needed.</p> <p>To edit the Network Settings of a vApp, use the following steps:</p> <ol> <li> <p>In the VMware Cloud Director Virtual Datacenters dashboard, select the VDC that contains your vApp.</p> </li> <li> <p>In the left navigation panel, select vApps.</p> <p> </p> </li> <li> <p>Select your vApp, select Networks, then select the vApp Network to view the Network Settings.</p> </li> <li> <p>The General tab displays the general network settings.</p> </li> <li> <p>The IP Management heading lists the IP Settings for the network including, Static Pools, DNS, DHCP and IP Allocations. Click Edit on each heading to adjust these settings.</p> <p></p> </li> <li> <p>The Services heading enables you to set up Firewall and NAT rules for the vApp Network. For more information, see vApp Network Firewall and NAT Rules below.</p> </li> <li> <p>The Routing heading enables you to create static routes for the vApp Network. For more information, see vApp Network Routing below.</p> </li> </ol>"},{"location":"Platform_Services/Compute/NSX-T_Networks/vapp_networks/#vapp-network-firewall-and-nat-rules","title":"vApp Network Firewall and NAT Rules","text":"<p>For the vApp Network, there will be a rule in place to allow any traffic to traverse the Firewall. You can amend or delete this rule or create new rules.</p>"},{"location":"Platform_Services/Compute/NSX-T_Networks/vapp_networks/#vapp-network-firewall-rules","title":"vApp Network Firewall Rules","text":"<p>To create a vApp Network Firewall Rule, use the following steps:</p> <ol> <li> <p>In the VMware Cloud Director Virtual Datacenters dashboard, select the VDC that contains your vApp.</p> </li> <li> <p>In the left navigation panel, select vApps.</p> <p> </p> </li> <li> <p>Select your vApp, select Networks, then select the vApp Network to view the Network Settings.</p> </li> <li> <p>Under the Services heading, select Edit.</p> <p> </p> </li> <li> <p>On the Firewall tab, click Add, specify the details for the rule then click Save.</p> <p> </p> </li> </ol>"},{"location":"Platform_Services/Compute/NSX-T_Networks/vapp_networks/#vapp-nat-rules","title":"vApp NAT Rules","text":"<p>NAT rules, enabled by default, enable mapping between internal Virtual Machines interfaces and external IP Addresses.</p> <p>Additional information can be viewed on VMware Docs - Add a Port Forwarding Rule to a vApp Network and Add an IP Translation Rule to a vApp Network.</p> <p>To edit the mapping rules for a Virtual Machine, use the following steps:</p> <ol> <li> <p>In the VMware Cloud Director Virtual Datacenters dashboard, select the VDC that contains your vApp.</p> </li> <li> <p>In the left navigation panel, select vApps.</p> <p> </p> </li> <li> <p>Select your vApp, select Networks, then select the vApp Network to view the Network Settings.</p> </li> <li> <p>Under the Services heading, select Edit.</p> <p></p> </li> <li> <p>On the NAT tab, click Add.</p> </li> <li> <p>In the VM Interface field, click the edit (pencil) icon, then select the VM interface for which you want to add the NAT rule.</p> </li> <li> <p>From the Mapping Mode list, select the mapping mode.</p> <p>Note</p> <p>The default mapping is Automatic. You can change this to Manual, in which case, enter an External IP address to which the Virtual machine can map.</p> </li> <li> <p>When you're done, click Save.</p> <p></p> </li> <li> <p>The External IP Address will be on the same subnet as the VDC network, that connects to the vApp Edge.</p> </li> </ol>"},{"location":"Platform_Services/Compute/NSX-T_Networks/vapp_networks/#vapp-network-routing","title":"vApp Network Routing","text":"<p>Static Routing at the vApp Network level allows traffic to route between different vApp Networks, across the VDC Networks.</p> <p>The prerequisites for Static Routing are as follows:</p> <ul> <li>Static Routing must be enabled for the VDC network you're connecting to, see Static Routes.</li> <li>The two vApp Networks must be routed to the same VDC Network.</li> <li>The vApp Networks must be in vApps that have been started at least once.</li> </ul> <p>Additional information can be viewed on VMware Docs - Add Static Routing for a vApp Network and Configure Static Routing for a vApp Network.</p> <p>To add a Static Route, use the following steps:</p> <ol> <li> <p>In the VMware Cloud Director Virtual Datacenters dashboard, select the VDC that contains your vApp.</p> </li> <li> <p>In the left navigation panel, select vApps.</p> <p> </p> </li> <li> <p>Select your vApp, select Networks, then select the vApp Network to view the Network Settings.</p> </li> <li> <p>Under the Routing heading, select Add.</p> <p> </p> </li> <li> <p>In the Add Static Route dialog box, enter a Name for the Static Route.</p> </li> <li> <p>Enter the following details:</p> <ul> <li>Network CIDR - The address of the first vApp Network to which you're adding a static route</li> <li>Next Hop IP - The external IP address of that vApp Network's router.</li> <li> <p>When you're done, click Save.</p> <p> </p> </li> </ul> </li> <li> <p>Repeat for the second vApp Network.</p> </li> </ol> <p>The table below provides examples of the settings needs to create a Static Route between two vApps:</p> <p>Network Information</p> Network Name Network Specification Router External IP Address vApp Network 1 192.168.1.0/24 192.168.0.100 vApp Network 2 192.168.2.0/24 192.168.0.101 VDC Network Shared 192.168.0.0/24 N/A <p>Static Routing Settings</p> Static Route to Network Route Name Network Next Hop IP Address vApp Network 1 to-vapp1 192.168.1.0/24 192.168.0.100 vApp Network 2 to-vapp2 192.168.2.0/24 192.168.0.101"},{"location":"Platform_Services/Compute/NSX-V%20to%20NSX-T%20Migration/","title":"NSX-V to NSX-T Migration Overview","text":""},{"location":"Platform_Services/Compute/NSX-V%20to%20NSX-T%20Migration/#overview","title":"Overview","text":"<p>As part of a refresh of the various infrastructure services that underpin the AUCloud platform, networking services will be migrated from NSX-V to NSX-T.</p> <p>NSX-T is VMware's next generation Software Defined Networking (SDN) solution, built from the ground up as an improvement on NSX-V. As such, NSX-T is an entirely new SDN platform, better suited to the requirements of large scale cloud networks. NSX-T also provides the ability to offer additional services, such as Kubernetes Cluster Management, as well as continual support and updates from VMware.</p> <p>As it was built from the ground up as a new platform, NSX-T changes both the user interface and operation of several configuration options in VMware Cloud Director (vCD).</p> <p>To assist with the migration to NSX-T, this section provides information on each of these changes, as well as where to find additional details.</p>"},{"location":"Platform_Services/Compute/NSX-V%20to%20NSX-T%20Migration/#next-steps","title":"Next Steps","text":"<p>With the migration of networking services to NSX-T, there will be noticeable changes to the VMWare Cloud Director (vCD) user interface and API, as well as changes to the provided load balancing functionality. The manner in which the Edge Gateway operates will also change.</p> <p>To prepare for the migration, consult the changes to each specific service using the links below:</p> <ul> <li>Edge Gateway</li> <li>Firewall Rules</li> <li>NAT</li> <li>VPN</li> <li>Load Balancer</li> </ul>"},{"location":"Platform_Services/Compute/NSX-V%20to%20NSX-T%20Migration/VPN/","title":"IPSec VPN","text":""},{"location":"Platform_Services/Compute/NSX-V%20to%20NSX-T%20Migration/VPN/#overview","title":"Overview","text":"<p>IPSec VPN services provided by NSX-T function in much the same manner as with NSX-V. However how they are displayed and configured is different. This includes changes to the options available for encryption and integrity verification.</p> <p>To assist with the migration to NSX-T, such differences are presented and compared.</p> <p>Note</p><p>For readers unfamiliar with IPSec VPN operation, it is recommended to first read this guide.</p>"},{"location":"Platform_Services/Compute/NSX-V%20to%20NSX-T%20Migration/VPN/#nsx-v","title":"NSX-V","text":"<p>Under NSX-V, IPSec VPN configuration is provided under the SERVICES option of Edge Gateway configuration.</p> <p></p> <p>Several options are provided for IPSec VPN configuration, including:</p> <ol> <li>Global configuration, where pre-shared keys or certificates used for peer authentication are configured.</li> <li>IPSec VPN Sites, where the endpoints and the specific IPSec VPN settings are configured.</li> </ol> <p>The most important IPsec VPN configuration options exist under IPSec VPN Sites:</p> <p></p> <p>When defining an IPSec VPN, four options are available for the encryption algorithm:</p> <ol> <li>AES</li> <li>AES-256</li> <li>AES-GCM</li> <li>3DES (Deprecated)</li> </ol> <p>Note</p><p>The 3DES option is deprecated and should not be used other than for compatibility purposes, e.g. the peer endpoint supports only this option.</p> <p>There are also two options available to define the integrity hash algorithm:</p> <ol> <li>SHA1</li> <li>SHA-256</li> </ol> <p>Note</p><p>SHA1 is considered deprecated and should not be used other than for compatibility purposes, e.g. the peer endpoint supports only this option.</p> <p>Example Screenshots:</p> <p></p> <p></p>"},{"location":"Platform_Services/Compute/NSX-V%20to%20NSX-T%20Migration/VPN/#nsx-t","title":"NSX-T","text":"<p>Under NSX-T, IPSec VPN configuration is available from the Edge Gateway menu, under IPSec VPN:</p> <p></p> <p>When creating an IPSec VPN, the NEW option is selected, resulting in the Add IPSec VPN Tunnel screen:</p> <p></p> <p>As highlighted, only a default option for security profile settings is available. The security profile can be customised to match required settings, but this must be completed after the IPSec VPN tunnel is first created.</p> <p>Peer authentication must be configured, using either a pre-shared key or a certificate, under Peer Authentication Mode. Certificates cannot be uploaded in this step and must be uploaded to vCD separately, before VPN configuration has commenced.</p> <p>Note</p><p>To upload a Certificate for use with an IPSec VPN, follow the procedure documented here.</p> <p>Local and remote VPN endpoints must also be configured, along with the traffic to be protected by the VPN, e.g. the networks that exist on both the local and remote side of the VPN tunnel.</p> <p>Once the configuration has been completed and saved, the IPSec VPN tunnel can be selected using the appropriate radio button. The SECURITY PROFILE CUSTOMISATION option will then become available. This is where the required encryption and authentication parameters are configured.</p> <p></p> <p>From this option, custom encryption and integrity digest algorithms can be selected to match the required IPSec VPN settings.</p> <p>NSX-T provides additional encryption algorithms, including:</p> <ol> <li>AES 128</li> <li>AES 256</li> <li>AES GCM 128</li> <li>AES GCM 192</li> <li>AES GCM 256</li> </ol> <p>Note</p><p>The 3DES option is no longer supported with NSX-T.</p> <p>NSX-T also provides additional digest algorithms for verifying integrity, including:</p> <ol> <li>SHA1</li> <li>SHA2 - 256</li> <li>SHA2 - 384</li> <li>SHA2 - 512</li> </ol> <p>Note</p><p>If a GCM encryption algorithm is selected then the digest algorithm option is disabled and cannot be selected. This is due to GCM algorithms providing built-in integrity checking and as such a separate digest algorithm is not required.</p> <p>Note</p><p>SHA1 is considered deprecated and should not be used other than for compatibility purposes, e.g. the peer endpoint supports only this option.</p>"},{"location":"Platform_Services/Compute/NSX-V%20to%20NSX-T%20Migration/VPN/#next-steps","title":"Next Steps","text":"<p>Familiarise with the updated NSX-T user interface and IPSec VPN configuration options.</p> <p>Determine the impact of the migration to NSX-T on any existing IPSec VPN connections.</p> <p>Consult the VMware Documentation for additional information.</p>"},{"location":"Platform_Services/Compute/NSX-V%20to%20NSX-T%20Migration/edge_gateway/","title":"Edge Gateway","text":""},{"location":"Platform_Services/Compute/NSX-V%20to%20NSX-T%20Migration/edge_gateway/#overview","title":"Overview","text":"<p>The function of the Edge Gateway changes with the migration to NSX-T, alongside noticeable differences to the VMware Cloud Director (vCD) user interface.</p> <p>To assist with the migration to NSX-T, this page will present and compare these differences.</p>"},{"location":"Platform_Services/Compute/NSX-V%20to%20NSX-T%20Migration/edge_gateway/#nsx-v","title":"NSX-V","text":"<p>Under NSX-V an Edge Gateway is deployed as a virtual appliance. This means that each new Edge Gateway requires a new virtual machine, limiting the potential scale of the solution. The NSX-V Edge Gateway provides services such as routing, North-South Firewall Rules, NAT, IPSec VPN and Load Balancer.  </p> <p>In the vCD user interface, the following screen is presented when an NSX-V Edge Gateway is selected:</p> <p></p> <p>The SERVICES option, when selected, opens a new screen with various options for the configuration of Services, such as Firewall Rules, NAT, IPSec VPN and Load Balancer.</p> <p></p>"},{"location":"Platform_Services/Compute/NSX-V%20to%20NSX-T%20Migration/edge_gateway/#nsx-t","title":"NSX-T","text":"<p>Under NSX-T the Edge Gateway itself is run as a service available from a pool of such services, deployed on a virtual appliance known as an Edge Transport Node. Edge Gateways no longer require separate virtual machines and are deployed from resources available on existing Edge Transport Nodes. This increases the potential scale of the solution and allows for additional features to be made available.</p> <p>With NSX-T, once an Edge Gateway is selected in the vCD user interface, there is no longer a specific SERVICES option: instead all services available for configuration are provided in an Edge Gateway menu on the left hand side of the screen.</p> <p></p> <p>Each service can be selected individually for configuration from this menu, including Firewall Rules, NAT, IPSec VPN and Load Balancer. It is important to note that while Load Balancing is available for configuration under the Edge Gateway menu, this service is not provided directly by the Edge Gateway itself. For more information see the Load Balancer Page.</p>"},{"location":"Platform_Services/Compute/NSX-V%20to%20NSX-T%20Migration/edge_gateway/#next-steps","title":"Next Steps","text":"<p>Familiarise with the migrated Edge Gateway user interface.</p> <p>Consult the changes for each specific Edge Gateway service using the links below:</p> <ul> <li>Firewall Rules</li> <li>NAT</li> <li>VPN</li> <li>Load Balancer</li> </ul>"},{"location":"Platform_Services/Compute/NSX-V%20to%20NSX-T%20Migration/firewall_rules/","title":"Firewall Rules","text":""},{"location":"Platform_Services/Compute/NSX-V%20to%20NSX-T%20Migration/firewall_rules/#overview","title":"Overview","text":"<p>Firewall Rules in NSX-T function in much the same manner as with NSX-V (e.g. sources are permitted access to various destinations based on protocol (e.g. TCP or UDP) and port number). However how Firewall Rules are displayed and configured differs from that of NSX-V.</p> <p>To assist with the migration to NSX-T, such differences are presented and compared.</p>"},{"location":"Platform_Services/Compute/NSX-V%20to%20NSX-T%20Migration/firewall_rules/#nsx-v","title":"NSX-V","text":"<p>With NSX-V, Firewall Rules are available from the SERVICES option and can be added, modified, rearranged or deleted on the screen shown below:</p> <p></p> <p>Several options are available for defining the Source or Destination for Firewall Rules, including; IP address, Gateway Interfaces, Virtual Machines, Org VDC Networks, IP Sets and Security Groups.</p> <p></p> <p>Source and Destination protocol (e.g. TCP or UDP) and port are set from the Firewall configuration screen under the Service field. Specific source or destination port numbers can be entered directly:</p> <p></p>"},{"location":"Platform_Services/Compute/NSX-V%20to%20NSX-T%20Migration/firewall_rules/#nsx-t","title":"NSX-T","text":"<p>With NSX-T Firewall Rule configuration is available from the Edge Gateway menu, under the Firewall option.</p> <p></p> <p>To add or modify Firewall Rules the EDIT RULES option is used.</p> <p>Options for defining the Source and Destination are limited to IP Sets and Static Groups.</p> <p></p> <p>Static Groups can be used to reference an Org VDC Network and will include all virtual machines connected to that Org VDC Network. However there is no option to associate a single virtual machine by itself with a Static Group.</p> <p>Example Screenshots:</p> <p></p> <p></p> <p>Source and Destination protocol (e.g. TCP or UDP) and port are set from the firewall configuration screen, under the Applications field.</p> <p></p> <p>VMware provide a large number of pre-defined applications for many well-known protocols and ports, including DNS, HTTP, HTTPS and SSH, among many others.</p> <p>If the appropriate protocol and port can not be found among those pre-defined, then custom Application Port Profiles must be created. These cannot be created directly under firewall configuration, but must be configured by selecting the Application Port Profiles option, under Security:</p> <p></p> <p>Note</p><p>Additional information on custom Application Port Profiles can be found in the VMware Documentation.</p>"},{"location":"Platform_Services/Compute/NSX-V%20to%20NSX-T%20Migration/firewall_rules/#next-steps","title":"Next Steps","text":"<p>Familiarise with the updated display and configuration of Firewall Rules.</p> <p>For additional information on the configuration of firewall rules with NSX-T, consult the VMware Documentation.</p>"},{"location":"Platform_Services/Compute/NSX-V%20to%20NSX-T%20Migration/load_balancer/","title":"Load Balancer","text":""},{"location":"Platform_Services/Compute/NSX-V%20to%20NSX-T%20Migration/load_balancer/#overview","title":"Overview","text":"<p>NSX-V provides load balancing directly on the Edge Gateway, while NSX-T provides load balancing through a separate system, namely VMware NSX Advanced Load Balancer (ALB). While ALB still connects via the Edge Gateway it is not deployed as a service on the Edge Gateway. This is an important distinction as it affects the operation of load balancing with NSX-T.</p> <p>With this change the user interface for load balancing has been updated significantly.</p> <p>To assist with the migration to NSX-T, these changes are presented and compared.</p>"},{"location":"Platform_Services/Compute/NSX-V%20to%20NSX-T%20Migration/load_balancer/#what-is-alb","title":"What is ALB?","text":"<p>VMware NSX Advanced Load Balancer (ALB) is a software defined load balancing solution that operates with two discrete components; the controller and the service engine.</p> <p>The controller is where all load balancing configuration is made, via a REST API connection with VMware Cloud Director (vCD).</p> <p>The service engines are where the load balancing function is implemented; it is the service engine that connects to the Edge Gateway in order to expose the load balanced service for consumption.</p> <p>As part of the changes on migration to NSX-T, ALB service engine groups are made available. Virtual Services configured will then be implemented on a high availability pair of service engines, deployed in a group.</p> <p></p> <p>Note</p> <p>For more information on the ALB architecture, consult the Documentation.</p> <p>Initially shared service engine groups, where the resources of service engines are shared among multiple tenancies, are provided. Security and isolation is maintained through separation mechanisms such as Virtual Routing Domains (VRF). This ensures that one tenants load balanced service cannot access or affect the load balanced services of any other tenant, through the shared service engines themselves. This ensures that the appropriate security controls, such as Firewall Rules, are not bypassed.</p> <p>Dedicated service engine groups, where the resources of service engines are dedicated to a single tenancy are available at an additional cost. Multiple service engine groups can be setup per tenancy, allowing the use of both shared and dedicated service engine groups within a single tenancy, as requirements dictate.</p> <p>Service engine groups available to the tenancy are setup by AUCloud administrators as part of on-boarding and on-going operations. These do not need to be configured by tenants and are made available automatically.</p>"},{"location":"Platform_Services/Compute/NSX-V%20to%20NSX-T%20Migration/load_balancer/#nsx-v","title":"NSX-V","text":"<p>Under NSX-V, the load balancing function is provided as a service that runs directly on the Edge Gateway and is accessed from the Edge Gateway SERVICES option.</p> <p></p> <p>Under the Load Balancer tab, several distinct options are available:</p> <ol> <li>Global configuration for enabling or disabling the load balancer</li> <li>Application Profiles for uploading certificates and the configuration of application processing</li> <li>Service Monitoring for the configuration of health monitors to monitor the state of load balanced pools</li> <li>Pools for the configuration of the real servers behind the load balanced service</li> <li>Application Rules for the configuration of application processing rules in the form of scripts</li> <li>Virtual Services for the configuration of Virtual IP addresses and application services</li> </ol> <p>Secure Certificates used in processing HTTPS applications can be uploaded directly under the Application Profiles option.</p>"},{"location":"Platform_Services/Compute/NSX-V%20to%20NSX-T%20Migration/load_balancer/#nsx-t","title":"NSX-T","text":"<p>Under NSX-T, the load balancing function is provided by a component that is separate and distinct from the Edge Gateway, namely VMware NSX Advanced Load Balancer (ALB).</p> <p>The configuration of load balancing is provided on the Edge Gateway configuration menu, under Load Balancer. It must be noted that although load balancing is configured under the Edge Gateway menu, the function itself is not provided by the Edge Gateway, but by ALB.</p> <p></p> <p>Of the four options presented, only Pools and Virtual Services are available for configuration.</p> <p>The Pools option is where the configuration of the real servers behind the load balanced Virtual Service are configured.</p> <p>The ADD option is used to configure a new Pool. To modify or delete an existing pool, select the appropriate radio button and select either the EDIT or DELETE option.</p> <p></p> <p>Adding a new pool is achieved from the Add Load Balancer Pool screen, where settings such as server port, load balancing algorithm, health monitor and pool members are available:</p> <p></p> <p></p> <p>Note</p> <p>When a new pool is added, but has not been associated with a Virtual Service it will appear with a Status of Unknown. This is due to ALB not deploying a pool on a service engine, until it is associated with a Virtual Service.</p> <p>The Virtual Services option is where the virtual load balanced IP address and application settings are configured.</p> <p>The ADD option is used to configure a new Virtual Service. To modify or delete an existing pool, select the appropriate radio button and select either the EDIT or DELETE option.</p> <p></p> <p>Adding a Virtual Service is achieved from the Add Virtual Service screen, where settings such as server port, Virtual IP, Service, Service Port and Load Balancer Pool are configured:</p> <p></p> <p>If a secure certificate is required for processing HTTPS traffic, this must be added separately before being selected during Virtual Service configuration.</p> <p></p> <p>Note</p><p>To upload a HTTPS Certificate follow the procedure documented here.</p> <p>The Service Engine group is an important setting that differs from what is offered with NSX-V. It must be set to one of the service engine groups made available, as explained in the What is ALB? section.</p>"},{"location":"Platform_Services/Compute/NSX-V%20to%20NSX-T%20Migration/load_balancer/#next-steps","title":"Next Steps","text":"<p>Familiarise with the updated NSX-T user interface and Load Balancer configuration options.</p> <p>Additional information on VMware NSX Advanced Load Balancer can be found here and here.</p>"},{"location":"Platform_Services/Compute/NSX-V%20to%20NSX-T%20Migration/nat/","title":"NAT","text":""},{"location":"Platform_Services/Compute/NSX-V%20to%20NSX-T%20Migration/nat/#overview","title":"Overview","text":"<p>NAT services provided by NSX-T function in much the same manner as with NSX-V. However how NAT services are displayed and configured is different. This includes options for additional types of NAT service and for determining how Firewall Rules are applied during the NAT process.</p> <p>To assist with the migration to NSX-T, such changes are presented and compared.</p>"},{"location":"Platform_Services/Compute/NSX-V%20to%20NSX-T%20Migration/nat/#nsx-v","title":"NSX-V","text":"<p>The configuration of NAT rules under NSX-V is available from the Edge Gateway SERVICES option, as shown below:</p> <p></p> <p>As highlighted above there are two types of NAT rules available; Destination NAT (DNAT) and Source NAT (SNAT).</p> <p>An SNAT is used to translate the source IP address of packets sent from an organisation VDC network out to an external network.</p> <p>A DNAT is used to translate the IP address and, optionally, the port of packets received by an organisation VDC network, that are coming from an external network.</p>"},{"location":"Platform_Services/Compute/NSX-V%20to%20NSX-T%20Migration/nat/#nsx-t","title":"NSX-T","text":"<p>With NSX-T, NAT configuration is available from the NAT option, under the Edge Gateway menu, as shown below.</p> <p></p> <p>A NAT rule can be added using the NEW option; An existing rule can be modified or deleted by selecting the appropriate radio button and using one of the EDIT or DELETE options:</p> <p></p> <p>There are five types of NAT rules available with NSX-T:</p> <ul> <li>Source NAT (SNAT)</li> <li>Destination NAT (DNAT)</li> <li>No Source NAT (No SNAT)</li> <li>No Destination NAT (No DNAT)</li> <li>Reflexive</li> </ul> <p></p> <p>The SNAT and DNAT options are the same as in NSX-V and are not discussed further.</p> <p>The No SNAT option disables source address translation for particular sources. This can be useful in scenarios where certain sources within a particular range must not be translated, while all other sources within the same range require translation. In this case the appropriate No SNAT rule would be placed above the appropriate SNAT rule.</p> <p>Similarly the No DNAT option disables destination address translation for particular destinations.</p> <p>Reflexive is used to translate a single internal IP address to a single translated IP address, in a one-to-one mapping. Reflexive NAT is stateless and as such cannot be associated with specific TCP or UDP ports; all other types of NAT are stateful.</p> <p>NSX-T also provides an Advanced Settings option for NAT configuration. This includes an option to determine how Firewall Rules are applied during the NAT process.</p> <p></p> <p>Three options are available:</p> <ol> <li>Match Internal Address, which applies Firewall Rules to the internal address of a NAT rule</li> <li>Match External Address, which applies Firewall Rules to the external address of a NAT rule</li> <li>Bypass, which bypasses the firewall entirely</li> </ol> <p>To further explain the options above, imagine that an SNAT rule is configured to translate an internal source IP subnet of 10.10.10.0/24 to an external source IP address of 103.74.200.10. In the case of the Match Internal Address option, a firewall rule permitting a source of 10.10.10.0/24 would be required. In the case of the Match External Address option, a firewall rule permitting a source of 103.74.200.10 would be required.</p> <p>Now imagine that a DNAT rule is configured to translate an external destination IP address of 103.74.200.11 to an internal destination IP address of 10.10.20.20. In the case of the Match Internal Address option, a firewall rule permitting a destination of 10.10.20.20 would be required. In the case of the Match External Address option, a firewall rule permitting a destination of 103.74.200.11 would be required.</p> <p>Finally the Bypass option does not require the configuration of a matching firewall rule as the firewall is bypassed entirely.</p> <p>Note</p> <p>The Bypass option should only be used under rare circumstances as it disables the standard security function provided by the firewall. Only use this option temporarily and when troubleshooting NAT related issues.</p> <p>Note</p> <p>If no option is selected for the Firewall Match, the default setting of Match Internal Address is applied. It is important to consider if this default setting will match existing firewall policy. If firewall policy is based on matching External IP addresses, this default must be modified.</p>"},{"location":"Platform_Services/Compute/NSX-V%20to%20NSX-T%20Migration/nat/#next-steps","title":"Next Steps","text":"<p>Familiarise with the updated display and configuration of NAT rules provided by NSX-T, and determine the impact of any changes upon the NAT configuration within your tenancy.</p> <p>For additional information on the configuration of NAT rules in NSX-T consult the VMware Documentation.</p>"},{"location":"Platform_Services/Compute/NSX-V_Networks/configuration_of_logging_on_the_ESG/","title":"Configuration of logging on the ESG","text":"<ol> <li> <p>In the VMware Cloud Director\u00a0Virtual Datacenters\u00a0dashboard, select the VDC you want to work with.</p> </li> <li> <p>In the left navigation panel, click\u00a0Edges.</p> <p></p> </li> <li> <p>Select the ESG for configuration,\u00a0and click\u00a0Services.</p> <p></p> </li> <li> <p>Navigate to Edge Settings and select EDIT SYSLOG SERVER.</p> </li> <li> <p>In the resultant window, enter the IP address of a host running software which can receive syslog messages (<code>Kiwi Syslog</code>, <code>Rsyslog</code>, <code>syslog-ng</code> etc).</p> <p></p> </li> <li> <p>Once this has been configured, the ESG will generate syslog messages in response to certain actions defined by the user. These messages will be transmitted using UDP on port 514. Example logging actions include:</p> </li> <li> <p>Firewall rule hits</p> <p></p> </li> <li> <p>NAT rule hits</p> <p></p> </li> <li> <p>Load balancer actions</p> <p></p> </li> </ol>"},{"location":"Platform_Services/Compute/NSX-V_Networks/how_the_nsx-v_edge_service_gateway_works/","title":"How the NSX-V Edge Services Gateway works","text":""},{"location":"Platform_Services/Compute/NSX-V_Networks/how_the_nsx-v_edge_service_gateway_works/#overview","title":"Overview","text":"<p>This is a description\u00a0of the essential configuration required to successfully provide network connectivity for your virtual estate.\u00a0This will address both the why and the how from a high-level perspective.</p>"},{"location":"Platform_Services/Compute/NSX-V_Networks/how_the_nsx-v_edge_service_gateway_works/#what-is-an-edge-services-gateway-esg","title":"What is an\u00a0Edge Services Gateway (ESG)?","text":"<p>The ESG\u00a0included as part of a Virtual Organisation (vOrg) provides connectivity between internal and external Organization VDC networks. It\u00a0is a virtual appliance that provides multiple features, including:</p> <ul> <li>Dynamic Host Configuration Protocol (DHCP)</li> <li>Virtual Private Network (VPN)</li> <li>Network Address Translation (NAT)</li> <li>static and dynamic routing</li> <li>load balancing; and</li> <li>firewalling</li> </ul> <p>Correctly configuring the VMware Cloud Director interface is as much a matter of knowing why you are doing this as of how to apply the changes.</p>"},{"location":"Platform_Services/Compute/NSX-V_Networks/how_the_nsx-v_edge_service_gateway_works/#edge-services-gateway-operation","title":"Edge Services Gateway Operation","text":"<p> Image 1: ESG schematic (simple)</p> <p>In this image, the ESG functions as a router and a firewall. Internal networks cannot communicate with external (public) networks unless the ESG has been correctly configured.</p>"},{"location":"Platform_Services/Compute/NSX-V_Networks/how_the_nsx-v_edge_service_gateway_works/#creating-virtual-network-infrastructure","title":"Creating Virtual Network Infrastructure","text":"<p>Virtual compute and networking infrastructure must be created before ESG configuration.</p> <p> Image 2: Connecting to an Edge Services Gateway</p>"},{"location":"Platform_Services/Compute/NSX-V_Networks/how_the_nsx-v_edge_service_gateway_works/#creating-routed-networks","title":"Creating Routed Networks","text":"<p>Routed vDC networks are routed through the ESG and do not necessarily need to communicate with public networks.</p> <p> Image 3: Network configuration</p>"},{"location":"Platform_Services/Compute/NSX-V_Networks/how_the_nsx-v_edge_service_gateway_works/#firewall-rules","title":"Firewall Rules","text":"<p>By default, the ESG will deny all traffic attempting to traverse it. This includes traffic to and from the internet as well as hosts on different routed networks. An effective firewall policy is required to enable the successful operation of hosted applications.</p> <p> Image 4: Firewall rules</p>"},{"location":"Platform_Services/Compute/NSX-V_Networks/how_the_nsx-v_edge_service_gateway_works/#network-address-translation-nat-rules","title":"Network Address Translation (NAT) Rules","text":"<p> Image 5: Router and NAT function, simple schematic  </p> <p>Communication over the internet requires that the two endpoints utilise a publicly routable IP address. These addresses are assigned to your ESG and can be found in the Edge Gateway Settings.</p> <p>The process of converting your virtual machines addresses to these publicly routable addresses is known as NAT.</p> <p> Image 6: NAT rule configuration</p> <p>NAT establishes precise controls for Source and Destination IP addresses, and port translation.</p> <p>Source NAT (SNAT), allows your hosted virtual machines (VM) to initiate communications with networks outside of your estate. This is achieved by translating the source address as it leaves your ESG. The ESG automatically un-translates the return traffic by modifying the destination address to the original source address. This bidirectional flow is depicted below.</p> <p> Image 7: Network Address Translation, detailed schematic</p> <p>Destination NAT (DNAT)\u00a0allows hosts outside of your network to initiate communication to your hosted VM. This process is like SNAT, except the destination address is the first one modified and just like SNAT the response traffic is automatically converted to the original source.</p> <p> Image 8: Edge Services Gateway configuration viewed in VMware Cloud Director</p> <p>Note</p> <p>When supplementing NAT with the firewall, the firewall rules will always reference the pre-NAT addresses. \u00a0</p>"},{"location":"Platform_Services/Compute/NSX-V_Networks/how_the_nsx-v_edge_service_gateway_works/#default-rules-on-the-esg","title":"Default Rules on the ESG","text":"<ul> <li>Internal High: which allows communication between your vOrg and the AUCloud perimeter firewall.</li> <li>Default Policy: set to deny all.</li> </ul>"},{"location":"Platform_Services/Compute/NSX-V_Networks/how_to_add_a_certificate/","title":"How to add a certificate to the Edge Services Gateway","text":""},{"location":"Platform_Services/Compute/NSX-V_Networks/how_to_add_a_certificate/#overview","title":"Overview","text":"<p>The Edge Services Gateway (ESG) requires certificates when configuring some\u00a0services,\u00a0most commonly when configuring TLS load balancer capability.</p> <p>There are two methods to upload certificates (PEM format only)\u00a0into the ESG:</p> <ul> <li>Upload an issued Certificate and Private Key; or</li> <li> <p>Generate\u00a0a CSR directly from the ESG to get a certificate issued and signed by a Public/Private Certificate Authority.</p> <p>Note</p> <p>There is no method to export the certificate or the private key from the ESG once it is uploaded. Therefore, creating the CSR from the ESG will not provide the ability to download the certificate and private key. AUCloud recommends generating the CSR via an alternate method to the ESG so that the certificate and private key can be saved in an appropriate secure vault in case it needs to be accessed in the future.</p> <p>For both certificate upload methods, there is a specific way in which the Service Certificate needs to be uploaded to include the Intermediate Certificate as outlined in the VMware KB here. As explained, if the certificate is uploaded without the Intermediate Certificate then the ESG will not send the Intermediate Certificate as part of the TLS handshake and in most cases will cause certificate chain trust warnings in the browser.</p> </li> </ul>"},{"location":"Platform_Services/Compute/NSX-V_Networks/how_to_add_a_certificate/#upload-an-issued-certificate-and-private-key","title":"Upload\u00a0an issued Certificate and Private Key","text":"<ol> <li> <p>In the relevant Org vDC, navigate to\u00a0Networking\u00a0&gt;\u00a0Edges.</p> <p></p> </li> <li> <p>Select the ESG, and click Services.</p> <p></p> </li> <li> <p>Select the\u00a0Certificates\u00a0tab, and click +Service Certificate.</p> <p></p> </li> <li> <p>In the\u00a0Service Certificate\u00a0field, either copy in the PEM formatted certificate or choose to upload from file:</p> <p>Warning</p> <p>As discussed at the start of the procedure, if the Intermediate Certificate needs to be sent as part of the TLS handshake then it needs to be added as part of this process. If this is required but not performed, then the certificate will need to be deleted and the upload process performed again as discussed in the VMware KB here</p> <p>An example of a PEM formatted Service and Intermediate Certificate would look like this: </p> </li> <li> <p>In the\u00a0Private Key Passphrase\u00a0field, either copy in the PEM formatted RSA private key or choose to upload from file.</p> </li> <li> <p>To finish, click\u00a0KEEP </p> <p> </p> </li> <li> <p>The certificate will now be listed in the\u00a0SSL Certificates\u00a0list as type\u00a0Service Certificate. If an Intermediate Certificate was also included, it will display as a separate certificate as type\u00a0CA Certificate.  </p> <p> </p> </li> <li> <p>You can now reference this certificate in ESG configuration, particularly in Load Balancer Application Profiles.</p> </li> </ol>"},{"location":"Platform_Services/Compute/NSX-V_Networks/how_to_add_a_certificate/#generate-a-csr-directly-from-the-esg-to-get-a-certificate-issued-and-signed-by-a-publicprivate-certificate-authority","title":"Generate\u00a0a CSR directly from the ESG to get a certificate issued and signed by a Public/Private Certificate Authority","text":"<ol> <li> <p>In the relevant Org vDC navigate to\u00a0Networking\u00a0&gt;\u00a0Edges.</p> <p></p> </li> <li> <p>Select the ESG, and click\u00a0Services.</p> <p></p> </li> <li> <p>Select the\u00a0Certificates\u00a0tab, and click +CSR.</p> <p></p> </li> <li> <p>Fill out all the Certificate Fields with the desired certificate information.  </p> <p> </p> <p>Tip</p> <p>The use of the Common Name (CN) in certificates has been deemed obsolete for sometime and since roughly 2016, major browsers ceased to support certificates that only had a Common Name (CN) without a valid subject alternative name (SAN). So for the majority of browsers, certificates that do not have a valid SAN will display a certificate warning.</p> <p>The ESG CSR generation process does not provide the ability to include a SAN attribute as part of the creation. Therefore this certificate attribute will need to be included as part of the CA signing process on the CA server. Otherwise, the certificate will not include a SAN and will not be valid as discussed above.</p> <p>An example of a valid SAN attribute in a certificate looks like this:  </p> <p> </p> </li> <li> <p>Once all fields have been defined, click\u00a0KEEP.</p> </li> <li> <p>A new entry will appear in the\u00a0SSL Certificates\u00a0List with type\u00a0CSR. Select the certificate and the CSR will be available in PEM format. Copy the PEM Formatted Data to get signed by the certificate authority.</p> <p> </p> </li> <li> <p>Once the certificate has been issued by the CA, navigate back to the ESG\u00a0Certificates\u00a0Tab.  </p> </li> <li> <p>Select the CSR entry for which the issued certificate is associated and click\u00a0+Signed Certificate Generated for CSR. </p> </li> <li> <p>In the Signed Certificate field, either copy in the PEM formatted certificate or choose to upload from file:</p> <p>Warning</p> <p>As discussed at the start of the procedure, if the Intermediate CA needs to be sent as part of the TLS handshake then it needs to be added as part of this process. If this is required but not performed, then the certificate will need to be deleted and a new CSR generated and signed by the CA as discussed in the VMware KB here</p> <p>An example of a PEM formatted Service and Intermediate Certificate would look like this:  </p> <p></p> </li> <li> <p>Once the PEM formatted data has been entered, click\u00a0KEEP.</p> </li> <li> <p>The certificate will now be listed in the\u00a0SSL Certificates\u00a0list as type\u00a0Service Certificate. If an Intermediate Certificate was also included\u00a0it will display as a separate certificate as type\u00a0CA Certificate.  </p> <p></p> </li> <li> <p>You can now reference this certificate in Load Balancer Application Profiles.</p> </li> </ol>"},{"location":"Platform_Services/Compute/NSX-V_Networks/how_to_configure_a_load_balancer/","title":"How to configure a load balancer","text":""},{"location":"Platform_Services/Compute/NSX-V_Networks/how_to_configure_a_load_balancer/#overview","title":"Overview","text":"<p>One of the functions of the Edge Services Gateway (ESG) is to act as a basic Layer 3 load balancer, distributing IP traffic to a pool of servers while appearing as a single virtual server. The load balancing methods offered are round-robin, IP hash, URI, HTTP header or least connected.</p> <p>Note</p> <p>The ESG load balancer is quite basic. If you have more complex requirements, you will need to provide your own third-party virtual load balancer.</p>"},{"location":"Platform_Services/Compute/NSX-V_Networks/how_to_configure_a_load_balancer/#configure-a-load-balancer","title":"Configure\u00a0a load balancer","text":"<p>To configure a load balancer:</p> <ol> <li> <p>In the VMware Cloud Director\u00a0Virtual Datacenters\u00a0dashboard, select the VDC that contains the ESG which requires load balancer configuration.</p> </li> <li> <p>In the left navigation panel, click\u00a0Edges.</p> <p></p> </li> <li> <p>Select the ESG for configuration,\u00a0and click\u00a0Services.</p> <p></p> </li> <li> <p>Select the\u00a0Load Balancer\u00a0tab.</p> <p> </p> </li> <li> <p>On the\u00a0Global Configuration\u00a0tab, enable the\u00a0Enabled\u00a0option.</p> </li> <li> <p>If you have a syslog server configured, enable the\u00a0Enable Logging\u00a0option.</p> </li> <li> <p>To finish, click\u00a0Save changes.</p> </li> </ol>"},{"location":"Platform_Services/Compute/NSX-V_Networks/how_to_configure_a_load_balancer/#configure-a-pool-server","title":"Configure\u00a0a pool server","text":"<p>Pool servers are the real servers that will be masked by the load balancer.</p> <ol> <li> <p>Select the\u00a0Pools\u00a0tab.</p> <p></p> </li> <li> <p>Click the\u00a0+\u00a0button.</p> <p></p> </li> <li> <p>In the\u00a0Add Pool\u00a0dialog box, enter a\u00a0Name\u00a0and\u00a0Description. The pool name should not include any spaces.</p> </li> <li> <p>From the\u00a0Algorithm\u00a0list, select the load balancing algorithm to use.</p> </li> <li> <p>From the\u00a0Monitors\u00a0list, select the monitors policy.</p> </li> <li> <p>Enable the\u00a0Transparent\u00a0option if you want IP addresses to be transparent.</p> <p> </p> </li> <li> <p>In the\u00a0Members\u00a0section, click\u00a0+.</p> <p> </p> </li> <li> <p>In the\u00a0Add Member\u00a0dialog box, in the\u00a0Name\u00a0field, enter the server\u00a0Name,\u00a0IP Address,\u00a0Port\u00a0and\u00a0Weight. To finish,\u00a0click\u00a0Keep.</p> <p> </p> </li> <li> <p>Add more pool members as required and when completed, click\u00a0Keep.</p> </li> <li> <p>To view the status of pool members, click\u00a0Show Pool Statistics.</p> </li> </ol>"},{"location":"Platform_Services/Compute/NSX-V_Networks/how_to_configure_a_load_balancer/#configure-a-virtual-server","title":"Configure\u00a0a virtual server","text":"<p>A virtual server masks the pool of real servers and presents a single IP address.</p> <ol> <li> <p>Select the\u00a0Virtual Servers\u00a0tab.</p> <p></p> </li> <li> <p>Click the\u00a0+\u00a0button.</p> <p></p> </li> <li> <p>In the\u00a0Add Virtual Server\u00a0dialog box, enable the\u00a0Enable Virtual Server\u00a0option.</p> </li> <li> <p>Enter a\u00a0Name\u00a0for the virtual server, assign it a virtual\u00a0IP Address, and assign it to the server pool you want to mask. You can also choose which services you want to apply to the virtual server. To\u00a0finish, click\u00a0Keep.</p> <p></p> </li> </ol>"},{"location":"Platform_Services/Compute/NSX-V_Networks/how_to_configure_a_load_balancer/#next-steps","title":"Next steps","text":"<p>In this article you have learned how to configure a load balancer. For other ESG configuration tasks, see:</p> <ul> <li>How to create firewall rules</li> <li>How to create a DHCP pool</li> <li>How to configure IPsec VPN</li> <li>How to create a static route</li> <li>How to create NAT rules</li> </ul>"},{"location":"Platform_Services/Compute/NSX-V_Networks/how_to_configure_ipsec_vpn/","title":"How to configure IPSec VPN","text":""},{"location":"Platform_Services/Compute/NSX-V_Networks/how_to_configure_ipsec_vpn/#overview","title":"Overview","text":"<p>VMware Cloud Director supports the following types of site-to-site VPN:</p> <ul> <li>Another edge gateway in the same organisation</li> <li>An edge gateway in another organisation</li> <li>A remote network offering IPsec VPN endpoint capability</li> </ul> <p>Depending on the type of connection required, you will need to:</p> <ul> <li>complete IP addressing for both ends\u00a0together with a shared secret, and</li> <li>indicate which virtual data centre (VDC) networks can connect to the VPN link.</li> </ul> <p>Note</p> <p>The Edge Services Gateway (ESG) supports site-to-site VPN only and does not support VPN client or SSL VPN. If a VPN client is required, you will need to deploy a solution for the remote access VPN concentrator such as a Palo Alto, F5 or Fortinet.</p>"},{"location":"Platform_Services/Compute/NSX-V_Networks/how_to_configure_ipsec_vpn/#pre-requisite","title":"Pre-requisite","text":"<ul> <li>Locate external IP addresses\u00a0to use as your tunnel endpoint address (refer to How to find your allocated external IP addresses)</li> </ul>"},{"location":"Platform_Services/Compute/NSX-V_Networks/how_to_configure_ipsec_vpn/#configure-ipsec-vpn-settings-settings","title":"Configure IPsec VPN settings\u00a0settings","text":"<ol> <li> <p>On the\u00a0Edges\u00a0page, select the ESG for configuration,\u00a0and click\u00a0Services.</p> <p></p> </li> <li> <p>Select the\u00a0VPN\u00a0tab, then the\u00a0IPsec VPN\u00a0tab.</p> <p> </p> </li> <li> <p>On the\u00a0Activation Status\u00a0tab, enable the\u00a0IPsec VPN Service Status\u00a0option.</p> <p> </p> </li> <li> <p>Select the\u00a0IPsec VPN Sites\u00a0tab.</p> </li> <li> <p>Click the\u00a0+\u00a0icon.</p> </li> <li> <p>In the\u00a0Add IPsec VPN\u00a0dialog box, enable the\u00a0Enabled\u00a0option.</p> </li> <li> <p>Complete the configuration as follows:</p> Field Description Enable perfect forward secrecy (PFS) Select this if your on-premises/remote site has that capability. Name\u00a0(Optional) Enter a name for the connection. Local ID Enter the external IP address of the local ESG instance, which is the public IP address of the ESG. The IP address is the one used for the peer ID in the IPsec VPN configuration on the remote site. Local Endpoint The external IP of your ESG (refer to How to find your allocated external IP addresses). Local Subnets Enter the organisation networks that can access the VPN (separate multiple local subnets with commas). Must be entered in CIDR format. Peer ID Enter a peer ID to uniquely identify the peer site. The peer ID is an identifier that uniquely identifies the remote device that terminates the VPN connection, typically its public IP address. Peer Endpoint The external IP of your remote site or on-premises firewall or edge where VPN is being set up. Peer Subnets This is the subnet on your on-premises network that you want to make accessible from your AUCloud VDC. For example, if your on-premises networks sit inside the\u00a0<code>10.20.0.0/16</code>\u00a0range, you could enter\u00a0<code>10.20.0.0/16</code>\u00a0here or limit your entry to a smaller subnet of that, for example\u00a0<code>10.20.0.0/25</code>. Encryption Algorithm Select the most secure protocol that is supported by your on-premises gateway. We suggest the best encryption algorithm to use would be AES-GCM Authentication Select the authentication method that is supported by your on-premises gateway. If you want to use certificates, then you need to configure those first on the\u00a0Certificates\u00a0tab. Pre-Shared Key The shared secret used to authenticate and encrypt the connection. It must be an alphanumeric string between 32 and 128 characters that includes at least one uppercase letter, one lowercase letter and one number. This must be the same on both sites. Diffie-Hellmann Group We recommend setting this to DH14 or higher if your on-premises environment can support it. Ideally, DH15 or DH16 are most secure. Digest Algorithm SHA256 is the more secure one IKE Options IKEv2 is a newer protocol but you can use either <p></p> </li> <li> <p>To Finish, click\u00a0Keep\u00a0to create the edge end of the VPN tunnel then click\u00a0Save changes.  </p> </li> </ol>"},{"location":"Platform_Services/Compute/NSX-V_Networks/how_to_configure_ipsec_vpn/#create-the-second-vpn-gateway","title":"Create\u00a0the second VPN gateway","text":"<p>You now need to create the endpoint of the VPN tunnel. If this is a different VDC\u00a0or vOrg, go through the steps described above again to create the tunnel. When completed, you can change your firewall settings and validate the connection (see steps for 'Configure the ESG firewall' and 'Validating the tunnel'\u00a0below).</p> <p>Note</p> <p>If you are connecting to an external data centre, you will need to set up the tunnel on that premises.</p>"},{"location":"Platform_Services/Compute/NSX-V_Networks/how_to_configure_ipsec_vpn/#creating-an-external-data-centre-vpn-gateway","title":"Creating an external data centre VPN gateway","text":"<p>Although we cannot\u00a0provide specific instructions on setting up an external data centre gateway to connect to the edge gateway, we have provided information about some configuration requirements below.</p>"},{"location":"Platform_Services/Compute/NSX-V_Networks/how_to_configure_ipsec_vpn/#ike-phase-1-and-phase-2","title":"IKE Phase 1 and Phase 2","text":"<p>IKE is a standard method for arranging secure, authenticated communications.</p>"},{"location":"Platform_Services/Compute/NSX-V_Networks/how_to_configure_ipsec_vpn/#phase-1-parameters","title":"Phase 1 parameters","text":"<p>Phase 1 sets up mutual authentication of the peers, negotiates cryptographic parameters, and creates session keys. The supported Phase 1 parameters are:</p> <ul> <li>Main mode</li> <li>AES/AES256/AES-GCM (user configurable)</li> <li>Diffie-Hellman Group</li> <li>Pre-shared secret (user configurable)</li> <li>SA lifetime of 28800 seconds (eight hours) with no kbytes re-keying</li> <li>ISAKMP aggressive mode disabled</li> </ul>"},{"location":"Platform_Services/Compute/NSX-V_Networks/how_to_configure_ipsec_vpn/#phase-2-parameters","title":"Phase 2 parameters","text":"<p>IKE Phase 2 negotiates an IPSec tunnel by creating keying material for the IPSec tunnel to use (either by using the IKE phase\u00a01 keys as a base or by performing a new key exchange). The supported IKE Phase 2 parameters are:</p> <ul> <li>AES/AES256/AES-GCM (Will match the Phase 1 setting)</li> <li>ESP tunnel mode</li> <li>Diffie-Hellman Group</li> <li>Perfect forward secrecy for re-keying (only if it was turned on in both endpoints)</li> <li>SA lifetime of 3600 seconds (one hour) with no kbytes re-keying</li> <li>Selectors for all IP protocols, all ports, between the two networks, using IPv4 subnets</li> </ul>"},{"location":"Platform_Services/Compute/NSX-V_Networks/how_to_configure_ipsec_vpn/#configure-the-esg-firewall","title":"Configure\u00a0the ESG firewall","text":"<p>When the VPN tunnel is up and running, you will\u00a0need to create firewall rules on the ESG for any traffic passing over the tunnel, refer to\u00a0How to create firewall rules.</p> <p>Key points to note:</p> <ul> <li>You need to create a firewall rule for both directions -\u00a0from data centre to VDC and from VDC to data centre.</li> <li>For data centre to VDC, set:     \u00a0 \u00a0 \u2022\u00a0 Source as the source IP range for your external VDC/data centre network     \u00a0 \u00a0 \u2022\u00a0 Destination as the destination IP range for your VDC network</li> <li>For VDC to data centre, set:     \u00a0 \u00a0 \u2022\u00a0 Source as the source IP range for your VDC network     \u00a0 \u00a0 \u2022\u00a0 Destination as the destination IP range for your data centre/VDC network</li> </ul>"},{"location":"Platform_Services/Compute/NSX-V_Networks/how_to_configure_ipsec_vpn/#configure-the-external-data-centre-gateway-firewall","title":"Configure\u00a0the external data centre gateway firewall","text":"<p>When the VPN tunnel is up and running, you may need to create firewall rules and routes on your on-premises gateway or other internal firewall for traffic passing over the tunnel. This is outside of the scope of this article and will depend on your specific premises network configuration.</p>"},{"location":"Platform_Services/Compute/NSX-V_Networks/how_to_configure_ipsec_vpn/#validating-the-tunnel","title":"Validating the tunnel","text":"<p>When\u00a0both ends of the IPSec tunnel are configured, the connection should start without any issues.</p> <p>To verify the tunnel status in VMware Cloud Director:</p> <ol> <li>On the\u00a0Edges\u00a0page, select the edge that you want to configure and click\u00a0Configure Services.</li> <li>Select the\u00a0Statistics\u00a0tab and then the\u00a0IPsec VPN\u00a0tab.</li> <li>For each configured tunnel, if a tick is visible then\u00a0the tunnel is up and running, and operational. If any other status is shown, you will need to review your configuration and any firewall rules.</li> <li>You should now be able to send traffic via the VPN.</li> </ol>"},{"location":"Platform_Services/Compute/NSX-V_Networks/how_to_configure_ipsec_vpn/#next-steps","title":"Next steps","text":"<p>In this article you have learned how to configure IPsec VPN. For other ESG configuration tasks, see:</p> <ul> <li>How to create firewall rules</li> <li>How to create a DHCP pool</li> <li>How to configure a load balancer</li> <li>How to create a static route</li> <li>How to create NAT rules</li> </ul>"},{"location":"Platform_Services/Compute/NSX-V_Networks/how_to_create_NAT_rules/","title":"How to create NAT rules","text":""},{"location":"Platform_Services/Compute/NSX-V_Networks/how_to_create_NAT_rules/#overview","title":"Overview","text":"<p>Network Address Translation (NAT) allows the source or destination IP address to be changed to enable traffic to transition through a router or gateway.</p> <p>You can use three types of NAT within your Edge Services Gateway (ESG):</p> <ul> <li>Destination NAT (DNAT)\u00a0- changes the destination IP of the packet,</li> <li>Source NAT (SNAT)\u00a0- changes the source IP of the packet; and</li> <li>NAT64\u00a0- allows access from IPv6 networks to IPv4.</li> </ul> <p>For a virtual machine (VM) to access an external network resource from its virtual data centre (VDC), the IP address of its network needs translation to the public internet IP addresses provided by AUCloud.</p> <p>Note for both DNAT and SNAT:</p> <ul> <li>The NAT rule will be applied to the ESG, rather than to the internal VDC network.</li> <li>The firewall needs to be open for NAT rules.</li> </ul>"},{"location":"Platform_Services/Compute/NSX-V_Networks/how_to_create_NAT_rules/#create-a-dnat-rule","title":"Create\u00a0a DNAT rule","text":"<p>DNAT changes the destination IP address of a packet and performs the reverse function for any replies. You can use DNAT to publish a service located in a private network on a public IP address.</p> <ol> <li> <p>In the VMware Cloud Director\u00a0Virtual Datacenters\u00a0dashboard, select the VDC that contains the ESG that requires\u00a0the DNAT rule.</p> </li> <li> <p>In the left navigation panel, click\u00a0Edges.</p> <p></p> </li> <li> <p>Select the ESG for configuration,\u00a0and click Services.</p> <p></p> </li> <li> <p>Select the\u00a0NAT\u00a0tab.</p> <p></p> </li> <li> <p>In the\u00a0NAT44 Rules\u00a0section, click\u00a0+DNAT Rule.</p> <p></p> </li> <li> <p>In the\u00a0Add DNAT Rule\u00a0dialog box, from the\u00a0Applied On\u00a0list, select the interface on which to apply the rule. Unless you have special requirements, this will be the external network (usually named <code>nti\\*</code> or <code>nft\\*</code>).</p> </li> <li> <p>Enter an\u00a0Original IP/Range\u00a0and a\u00a0Translated IP/Range.</p> </li> <li> <p>Select the\u00a0Protocol,\u00a0Original Port\u00a0and\u00a0Translated Port.</p> </li> <li> <p>Make sure the\u00a0Enabled\u00a0option is selected.</p> </li> <li> <p>If you have a syslog server configured, select the\u00a0Enable logging\u00a0option.</p> <p></p> </li> <li> <p>To finish, click\u00a0Keep\u00a0then\u00a0Save changes.</p> </li> </ol>"},{"location":"Platform_Services/Compute/NSX-V_Networks/how_to_create_NAT_rules/#create-a-snat-rule","title":"Create\u00a0a\u00a0SNAT rule","text":"<p>SNAT changes the source IP address of a packet and performs the reverse function for any replies.\u00a0When connecting to an external network, such as the internet, to access services (for example, DNS), you need to define a\u00a0SNAT rule to translate your internal address into something available on the external network (for example, PSN, internet).</p> <ol> <li> <p>In the VMware Cloud Director\u00a0Virtual Datacenters\u00a0dashboard, select the VDC that contains the ESG that requires the SNAT rule.</p> </li> <li> <p>In the left navigation panel, click\u00a0Edges.</p> <p></p> </li> <li> <p>Select the ESG for configuration,\u00a0and click Services.</p> <p></p> </li> <li> <p>Select the\u00a0NAT\u00a0tab.</p> <p></p> </li> <li> <p>In the\u00a0NAT44 Rules\u00a0section, click\u00a0+ SNAT Rule.</p> <p></p> </li> <li> <p>In the\u00a0Add SNAT Rule\u00a0dialog box, from the\u00a0Applied On\u00a0list, select the interface on which to apply the rule. Unless you have special requirements, this will be the external network (usually named <code>nti\\*</code> or <code>nft\\*</code>).</p> </li> <li> <p>Enter an\u00a0Original Source IP/Range\u00a0and a\u00a0Translated Source IP/Range.</p> </li> <li> <p>Make sure the\u00a0Enabled\u00a0option is selected.</p> </li> <li> <p>If you have a syslog server configured, select the\u00a0Enable logging\u00a0option.</p> <p></p> </li> <li> <p>To finish, click\u00a0Keep\u00a0then\u00a0Save changes.</p> </li> </ol>"},{"location":"Platform_Services/Compute/NSX-V_Networks/how_to_create_NAT_rules/#next-steps","title":"Next steps","text":"<p>In this article, you have\u00a0learned how to create DNAT and SNAT rules. For other ESG configuration tasks, see:</p> <ul> <li>How to create firewall rules</li> <li>How to create a DHCP pool</li> <li>How to configure IPsec VPN</li> <li>How to configure a load balancer</li> <li>How to create a static route</li> </ul>"},{"location":"Platform_Services/Compute/NSX-V_Networks/how_to_create_a_dhcp_pool/","title":"How to create a DHCP pool","text":""},{"location":"Platform_Services/Compute/NSX-V_Networks/how_to_create_a_dhcp_pool/#overview","title":"Overview","text":"<p>With virtual data centre\u00a0(VDC) networks, you have the option of creating an IP pool of addresses to be assigned automatically or manually (a.k.a. static IP pool). These addresses are injected into virtual machines (VMs) via VMware Tools during Guest Customisation. They appear in the usual places in Windows and Linux where you would interrogate IP settings, and show as static addresses.</p> <p>In some situations, you may require true DHCP functionality in your VMs to show\u00a0IP addresses as dynamically defined. As with an IP pool, you are defining a non-overlapping range of IP addresses to use on the network.</p>"},{"location":"Platform_Services/Compute/NSX-V_Networks/how_to_create_a_dhcp_pool/#create-a-dhcp-pool-for-an-advanced-gateway","title":"Create\u00a0a DHCP pool for an advanced gateway","text":"<p>To create a DHCP pool:</p> <ol> <li> <p>In the VMware Cloud Director\u00a0Virtual Datacenters\u00a0dashboard, select the VDC that contains the Edge Services Gateway (ESG) that requires\u00a0the DHCP pool.</p> </li> <li> <p>In the left navigation panel, click\u00a0Edges.</p> <p></p> </li> <li> <p>Select the ESG for configuration, and click\u00a0Services.</p> <p></p> </li> <li> <p>Select the\u00a0DHCP\u00a0tab.</p> <p> </p> </li> <li> <p>In the\u00a0Pools\u00a0tab, click the +\u00a0button.</p> <p> </p> </li> <li> <p>Select the network to which you want to apply the DHCP pool, then define an IP range for the pool. You can leave the lease times as default or change them.</p> <p> </p> </li> <li> <p>To finish, click\u00a0Keep.</p> </li> </ol>"},{"location":"Platform_Services/Compute/NSX-V_Networks/how_to_create_a_dhcp_pool/#next-steps","title":"Next steps","text":"<p>In this article you have learned how to create a DHCP pool. For other ESG configuration tasks, see:</p> <ul> <li>How to create firewall rules</li> <li>How to configure IPsec VPN</li> <li>How to configure a load balancer</li> <li>How to create a static route</li> <li>How to create NAT rules</li> </ul>"},{"location":"Platform_Services/Compute/NSX-V_Networks/how_to_create_a_routed_vdc_network/","title":"How to create a routed VDC network","text":""},{"location":"Platform_Services/Compute/NSX-V_Networks/how_to_create_a_routed_vdc_network/#overview","title":"Overview","text":"<p>An organisation virtual data centre network enables its virtual machines (VMs) to communicate with each other or to provide access to external networks. A single VDC can have multiple networks.</p> <p>There are two network flavours, isolated and routed:</p> <ul> <li>An isolated (internally connected) network is one that only VMs within the VDC can connect to. Creation of isolated networks is described in How to create an isolated VDC network.</li> <li>A routed network (externally connected) provides access to machines and networks outside the VDC via the edge gateway. You can have up to nine usable routed networks per VDC. This guide describes how to create a routed VDC network.</li> </ul>"},{"location":"Platform_Services/Compute/NSX-V_Networks/how_to_create_a_routed_vdc_network/#creating-a-routed-vdc-network","title":"Creating a routed VDC network","text":"<ol> <li> <p>In the VMware Cloud Director Virtual Datacentres dashboard, select the VDC in which you want to create the network.</p> </li> <li> <p>In the left navigation panel, select Networks.</p> </li> <li> <p>Click New.</p> <p></p> </li> <li> <p>In the Network Type page of the New Organization VDC Network dialog box, select Routed then click Next.</p> <p></p> </li> <li> <p>On the Edge Connection page, select the edge gateway that you want your network to connect to then click Next.</p> <p></p> </li> <li> <p>In the General page, enter a Name and Description for the network.</p> </li> <li> <p>In the Gateway CIDR field, the gateway address for the network.</p> </li> <li> <p>Select the Shared option to make the network available to other VDCs within the same region.</p> <p></p> </li> <li> <p>Click Next.</p> </li> <li> <p>In the Static IP Pools field, enter a range of addresses to be consumed by the VMs connecting to the network, then click Add.</p> <p>As an example, if you give the gateway address as <code>192.168.1.1/24</code>, you may then want to create a Static IP Pool of <code>192.168.1.10-192.168.1.100</code>. This will give you a pool of 91 IP addresses to assign to machines within your network. You can always increase this later if needed.</p> <p>You can add multiple IP pools.</p> <p></p> </li> <li> <p>In the DNS page, enter DNS information if possible then click Next.</p> <p></p> </li> <li> <p>On the Ready to Complete page, review your selections then click Finish.</p> </li> </ol>"},{"location":"Platform_Services/Compute/NSX-V_Networks/how_to_create_a_routed_vdc_network/#next-steps","title":"Next steps","text":"<p>Now you've created your network to connect your VDC with the outside world, may want to configure your edge gateway to control what traffic is allowed into and out of your VDC. You may also want to start building some VMs. For quick guide on how to do this, see How to create an empty VM.</p>"},{"location":"Platform_Services/Compute/NSX-V_Networks/how_to_create_a_static_route/","title":"How to create a static route","text":""},{"location":"Platform_Services/Compute/NSX-V_Networks/how_to_create_a_static_route/#overview","title":"Overview","text":"<p>Static routing allows you to configure your Edge Services Gateway (ESG) with knowledge of other networks which are not directly connected to it. It is particularly useful if you need to:</p> <ul> <li>route between virtual data centres (VDCs) in the same virtual organisation (vOrg), or</li> <li>route traffic to vApp networks.</li> </ul> <p>Static routing is the only option on ESG; dynamic routing protocols cannot be used.</p> <p>For example, you may have a vApp network\u00a0<code>192.168.8.0/24</code>\u00a0routed to a VDC network called\u00a0<code>Front end network</code>. You could create a static route to enable traffic to get to the outside IP of the vApp edge at\u00a0<code>192.168.4.33</code>\u00a0(a NAT will exist there).  </p>"},{"location":"Platform_Services/Compute/NSX-V_Networks/how_to_create_a_static_route/#create-a-static-route","title":"Create\u00a0a static route","text":"<p>To create a static route:</p> <ol> <li> <p>In the VMware Cloud Director\u00a0Virtual Datacenters\u00a0dashboard, select the VDC that contains the ESG that requires\u00a0the static route.</p> </li> <li> <p>In the left navigation panel, click\u00a0Edges.</p> <p></p> </li> <li> <p>Select the ESG for configuration,\u00a0and click\u00a0Services.</p> <p></p> </li> <li> <p>Select the\u00a0Routing\u00a0tab then the\u00a0Static Routes\u00a0tab.</p> <p> </p> </li> <li> <p>Click the\u00a0+\u00a0button.</p> <p> </p> </li> <li> <p>In the\u00a0Add Static Route\u00a0dialog box, fill in the details of the network range, next hop (edge IP) and select the network interface to which you want to apply the static route.</p> <p> </p> </li> <li> <p>To finish, click\u00a0Keep\u00a0then\u00a0Save changes.</p> </li> <li> <p>Repeat the steps for the second VDC.  </p> </li> </ol>"},{"location":"Platform_Services/Compute/NSX-V_Networks/how_to_create_a_static_route/#next-steps","title":"Next steps","text":"<p>In this article you have learned how to create a static route. For other ESG configuration tasks, see:</p> <ul> <li>How to create firewall rules</li> <li>How to create a DHCP pool</li> <li>How to configure IPsec VPN</li> <li>How to configure a load balancer</li> <li>How to create NAT rules</li> </ul>"},{"location":"Platform_Services/Compute/NSX-V_Networks/how_to_create_an_isolated_vdc_network/","title":"How to create an isolated VDC network","text":""},{"location":"Platform_Services/Compute/NSX-V_Networks/how_to_create_an_isolated_vdc_network/#overview","title":"Overview","text":"<p>An organisation virtual data centre network enables its virtual machines (VMs) to communicate with each other or to provide access to external networks. A single VDC can have multiple networks.</p> <p>There are two network flavours, isolated and routed:</p> <ul> <li>An isolated (internally connected) network is one that only VMs within the VDC can connect to. This guide describes how to create an isolated VDC network.</li> <li>A routed network (externally connected) provides access to machines and networks outside the VDC via the edge gateway. You can have up to nine usable routed networks per VDC. Creation of routed networks is described in How to create a routed VDC network.</li> </ul>"},{"location":"Platform_Services/Compute/NSX-V_Networks/how_to_create_an_isolated_vdc_network/#creating-an-isolated-network","title":"Creating an isolated network","text":"<ol> <li> <p>In the VMware Cloud Director Virtual Datacenters dashboard, select the VDC in which you want to create the network.</p> </li> <li> <p>In the left navigation panel, select Networks.</p> <p></p> </li> <li> <p>Click New.</p> <p></p> </li> <li> <p>In the Network Type page of the New Organization VDC Network dialog box, select Isolated then click Next.</p> <p></p> </li> <li> <p>In the General page, enter a Name and Description for the network.</p> </li> <li> <p>In the Gateway CIDR field, the gateway address for the network.</p> </li> <li> <p>Select the Shared option to make the network available to other VDCs within the same region.</p> <p></p> </li> <li> <p>Click Next.</p> </li> <li> <p>In the Static IP Pools field, enter a range of addresses to be consumed by the VMs connecting to the network, then click Add.</p> <p>As an example, if you give the gateway address as <code>192.168.1.1/24</code>, you may then want to create a Static IP Pool of <code>192.168.1.10-192.168.1.100</code>. This will give you a pool of 91 IP addresses to assign to machines within your network. You can always increase this later if needed.</p> <p>You can add multiple IP pools.</p> <p></p> </li> <li> <p>When you're done, click Next.</p> </li> <li> <p>In the DNS page, enter DNS information if possible then click Next.</p> <p></p> </li> <li> <p>On the Ready to Complete page, review your selections then click Finish.</p> </li> </ol>"},{"location":"Platform_Services/Compute/NSX-V_Networks/how_to_create_firewall_rules/","title":"How to create firewall rules","text":""},{"location":"Platform_Services/Compute/NSX-V_Networks/how_to_create_firewall_rules/#overview","title":"Overview","text":"<p>VMware Cloud Director provides a fully featured Layer 3 firewall to control transit from inside to outside security boundaries, and within the various virtual datacentres (VDC) networks you create.</p> <p>When you specify networks or IP addresses, you can use:</p> <ul> <li>An individual IP address</li> <li>IP ranges separated by a dash (<code>-</code>)</li> <li>A CIDR, for example,\u00a0<code>192.168.2.0/24</code></li> <li>The keywords\u00a0<code>internal</code>,\u00a0<code>external</code>\u00a0or\u00a0<code>any</code></li> </ul>"},{"location":"Platform_Services/Compute/NSX-V_Networks/how_to_create_firewall_rules/#create-firewall-rules","title":"Create\u00a0firewall rules","text":"<ol> <li> <p>In the VMware Cloud Director\u00a0Virtual Datacenters\u00a0dashboard, select the VDC that contains the edge gateway in which you to create the firewall rules.</p> </li> <li> <p>In the left navigation panel, click\u00a0Edges.</p> <p></p> </li> <li> <p>Select the ESG for configuration, and click\u00a0Services.</p> <p></p> </li> <li> <p>Select the\u00a0Firewall\u00a0tab.</p> <p></p> </li> <li> <p>Click the\u00a0+\u00a0button to add a new row to the firewall rules table.</p> <p></p> </li> <li> <p>For the\u00a0New Rule, specify a\u00a0Name.</p> <p></p> </li> <li> <p>In the\u00a0Source\u00a0and\u00a0Destination\u00a0fields, specify the source and destination addresses for the firewall rule.</p> <ul> <li>To specify an IP address or range, click\u00a0IP\u00a0and enter the appropriate\u00a0Value. To finish, click\u00a0Keep.</li> </ul> <p></p> <ul> <li>To specify a group of VMs or IPs, click\u00a0+\u00a0and select the desired objects. To finish, click\u00a0Keep.</li> </ul> <p></p> <ul> <li>If you're likely to reuse a group of the same source or destination IP addresses in multiple rules, select the\u00a0Grouping Objects\u00a0tab and click\u00a0+\u00a0to create an IP set. You can then select this IP set in the\u00a0Select objects\u00a0dialog box.</li> </ul> <p></p> </li> <li> <p>In the\u00a0Service\u00a0field, click\u00a0+\u00a0and, in the\u00a0Add Service\u00a0dialog box, specify the\u00a0Protocol,\u00a0Source Port\u00a0and\u00a0Destination Port\u00a0for the rule. To finish, click\u00a0Keep.</p> <p></p> </li> <li> <p>Select whether the rule is an\u00a0Accept\u00a0or\u00a0Deny\u00a0rule.</p> </li> <li> <p>If you have a syslog server configured, select the\u00a0Enable logging\u00a0check box.</p> </li> <li> <p>To finish, click\u00a0Save changes.</p> <p></p> </li> </ol>"},{"location":"Platform_Services/Compute/NSX-V_Networks/how_to_create_firewall_rules/#sample-use-case","title":"Sample use case","text":"<p>A common use case for a firewall rule is to allow SSH through from the internet. The following example uses allocated public IP addresses.</p> <p>When your VDC is provisioned, you are assigned two (2)\u00a0public IP addresses.</p> <p>In the example below, the source is\u00a0<code>any</code>\u00a0(any IP address within the VDC). The source port is also\u00a0<code>any</code>. The destination is a public IP address and the destination port is\u00a0<code>443</code>\u00a0for HTTPS.</p> <p></p>"},{"location":"Platform_Services/Compute/NSX-V_Networks/how_to_create_firewall_rules/#next-steps","title":"Next steps","text":"<p>In this article you have learned how to create firewall rules. For other ESG configuration tasks, see:</p> <ul> <li>How to create a DHCP pool</li> <li>How to configure IPsec VPN</li> <li>How to configure a load balancer</li> <li>How to create a static route</li> <li>How to create NAT rules</li> </ul>"},{"location":"Platform_Services/Compute/NSX-V_Networks/how_to_find_allocated_external_ip_addresses/","title":"How to find your allocated external IP addresses","text":""},{"location":"Platform_Services/Compute/NSX-V_Networks/how_to_find_allocated_external_ip_addresses/#overview","title":"Overview","text":"<p>To route traffic to your external network (for example internet, PSN) and configure settings such as NAT rules, you need to know your external IP addresses. AUCloud standard IP address allocation is 2 Public IP addresses per Org vDC.</p>"},{"location":"Platform_Services/Compute/NSX-V_Networks/how_to_find_allocated_external_ip_addresses/#find-your-ip-addresses","title":"Find\u00a0your IP addresses","text":"<p>To find your allocated external IP address range:</p> <ol> <li> <p>In the VMware Cloud Director\u00a0Virtual Datacenters\u00a0dashboard, select the VDC that contains the Edge Services Gateway (ESG) you want to configure.</p> </li> <li> <p>In the left navigation panel, click\u00a0Edges.</p> <p></p> </li> <li> <p>Select the ESG that you want to configure.</p> <p> </p> </li> <li> <p>In the\u00a0Edge Gateway Settings\u00a0section, in the\u00a0IP Allocations\u00a0section, you will see the range of external IP addresses allocated for use.  </p> <p></p> </li> </ol>"},{"location":"Platform_Services/Compute/NSX-V_Networks/how_to_find_allocated_external_ip_addresses/#next-steps","title":"Next steps","text":"<p>In this article you have learned how to find your allocated external IP addresses. For other ESG configuration tasks, see:</p> <ul> <li>How to create firewall rules</li> <li>How to create a DHCP pool</li> <li>How to configure IPsec VPN</li> <li>How to configure a load balancer</li> <li>How to create a static route</li> <li>How to create NAT rules</li> </ul>"},{"location":"Platform_Services/Compute/NSX-V_Networks/vapp_networks/","title":"vApp Networks","text":""},{"location":"Platform_Services/Compute/NSX-V_Networks/vapp_networks/#overview","title":"Overview","text":"<p>In addition to virtual data centre (VDC) networking, you can create individual vApp networks to have even greater control over your network infrastructure.</p> <p>vApp networks enable you to create smaller networks within individual vApps that have a vApp edge, like the edge gateway on your VDC. Although a vApp edge is not as feature rich as a VDC edge, it enables you to create firewall and NAT rules to separate your VDC networks from your vApp virtual machines (VMs). This means you can create some quite complex networks to satisfy application needs.</p> <p>The vApp network diagram below shows the vApp edge:</p> <p></p>"},{"location":"Platform_Services/Compute/NSX-V_Networks/vapp_networks/#creating-a-vapp-network","title":"Creating a vApp network","text":"<ol> <li> <p>In the VMware Cloud Director Virtual Datacenters dashboard, select the VDC that contains your vApp.</p> </li> <li> <p>In the left navigation panel, select vApps.</p> <p></p> </li> <li> <p>In the card for your vApp, select Actions, then Add network.</p> </li> <li> <p>In the Add Network dialog box, select vApp Network.</p> <p></p> </li> <li> <p>Enter a Name and Description for the network.</p> </li> <li> <p>In the Address and DNS section, fill out the fields as required for your network.</p> </li> <li> <p>When you're done, click Add.</p> </li> </ol>"},{"location":"Platform_Services/Compute/NSX-V_Networks/vapp_networks/#connecting-a-vm-to-a-vapp-network","title":"Connecting a VM to a vApp network","text":"<p>If your vApp is already populated with VMs that are connected to a VDC network, you may want to move them over to the vApp network.</p> <p>To change the network a VM connects to:</p> <ol> <li> <p>In the card for the vApp, select Details.</p> </li> <li> <p>In the Virtual Machines section, Click each VM, under Hardware and in the NICs section, click edit and select the vApp network from the Network list.</p> </li> <li> <p>If you want to dual-home your VM, click the NEW button to add a second network.</p> </li> <li> <p>When you're done, click Save.</p> </li> <li> <p>You can go back to the VM hardware properties to see the new IP address assigned to the VM.</p> </li> </ol>"},{"location":"Platform_Services/Compute/NSX-V_Networks/vapp_networks/#viewing-and-adjusting-vapp-network-settings","title":"Viewing and adjusting vApp network settings","text":"<p>When you've created your vApp network and assigned VMs to it, you may want to review the vApp network settings and adjust them if needed.</p> <ol> <li> <p>In the left navigation panel, select vApps.</p> </li> <li> <p>In the card for the vApp, select Details.</p> </li> <li> <p>Select the Networks tab.</p> </li> <li> <p>Click your vApp network to view its network settings.</p> </li> <li> <p>The General tab displays general network settings. Click Edit to adjust these settings.</p> </li> <li> <p>The IP Management tab lists the IP settings for the network, including static pool and DNS and DHCP. Click Edit to adjust these settings.</p> </li> <li> <p>The Services tab enables you to set up firewall and NAT rules for your network. For more information, see How to create firewall rules.</p> </li> <li> <p>The Routing tab enables you to create static routes for your network. For more information, see How to create a static route.</p> </li> </ol>"},{"location":"Platform_Services/Compute/NSX-V_Networks/vapp_networks/#enabling-dhcp","title":"Enabling DHCP","text":"<p>DHCP is not enabled by default.</p> <p>To enable DHCP:</p> <ol> <li> <p>In the left navigation panel, select vApps.</p> </li> <li> <p>In the card for the vApp, select Details.</p> </li> <li> <p>Select the Networks tab.</p> </li> <li> <p>Click your vApp network to view its network settings.</p> </li> <li> <p>Select the IP Management tab then DHCP.</p> </li> <li> <p>Click Edit.</p> </li> <li> <p>In the Edit network dialog box, select the Enabled option.</p> </li> <li> <p>Enter IP Pool and lease information for your DHCP addresses then click Save.</p> <p></p> <p>For more information about DHCP, see How to create a DHCP pool.</p> </li> </ol>"},{"location":"Platform_Services/Compute/NSX-V_Networks/vapp_networks/#creating-firewall-rules","title":"Creating firewall rules","text":"<p>There will be a rule in place to allow any traffic to traverse the firewall. You can amend or delete this rule or create new rules.</p> <p>To create a firewall rule:</p> <ol> <li> <p>In the left navigation panel, select vApps.</p> </li> <li> <p>In the card for the vApp, select Details.</p> </li> <li> <p>Select the Networks tab.</p> </li> <li> <p>Click your vApp network to view its network settings.</p> </li> <li> <p>Select the Services tab.</p> </li> <li> <p>Click Edit.</p> </li> <li> <p>On the Firewall tab, click Add, specify the details for the firewall rule then click Save.</p> <p></p> <p>For more about firewall rules, see How to create firewall rules.</p> </li> </ol>"},{"location":"Platform_Services/Compute/NSX-V_Networks/vapp_networks/#creating-nat-rules","title":"Creating NAT rules","text":"<p>NAT rules, enabled by default, enable mapping between internal VM interfaces and external IP addresses.</p> <p>To edit the mapping rules for a VM:</p> <ol> <li> <p>In the left navigation panel, select vApps.</p> </li> <li> <p>In the card for the vApp, select Details.</p> </li> <li> <p>Select the Networks tab.</p> </li> <li> <p>Click your vApp network to view its network settings.</p> </li> <li> <p>Select the Services tab.</p> </li> <li> <p>Click Edit.</p> </li> <li> <p>On the NAT tab, click Add.</p> </li> <li> <p>In the VM Interface field, click the edit (pencil) icon, then select the VM interface for which you want to add the NAT rule.</p> </li> <li> <p>From the Mapping Mode list, select the mapping mode.</p> <p>The default mapping is Automatic. You can change this to Manual, in which case, enter an External IP address to which the VM can map.</p> <p></p> </li> <li> <p>When you're done, click Save.</p> <p>The external IP address will be on the same subnet as the VDC network that connects to the vApp edge.</p> <p>For more information about NAT rules, see How to create NAT rules.</p> </li> </ol>"},{"location":"Platform_Services/Compute/NSX-V_Networks/vapp_networks/#creating-static-routes","title":"Creating static routes","text":"<p>Static routing at the vApp network level allows traffic to route between different vApp networks, across the VDC networks.</p> <p>The prerequisites for static routing are as follows:</p> <ul> <li>Static routing must be enabled for the VDC network you're connecting to (see How to create a static route).</li> <li>The two vApp networks must be routed to the same VDC network.</li> <li>The vApp networks must be in vApps that have been started at least once.</li> </ul> <p>To add a static route:</p> <ol> <li> <p>In the left navigation panel, select vApps.</p> </li> <li> <p>In the card for the vApp, select Details.</p> </li> <li> <p>Select the Networks tab.</p> </li> <li> <p>Click the first vApp network to view its network settings.</p> </li> <li> <p>Select the Routing tab.</p> </li> <li> <p>Click Add.</p> </li> <li> <p>In the Add Static Route dialog box, enter a Name for the static route.</p> </li> <li> <p>Enter the following details:</p> <ul> <li>Network CIDR: The address of the first vApp network to which you're adding a static route</li> <li>Next Hop IP: The external IP address of that vApp network's router</li> </ul> <p></p> </li> <li> <p>When you're done, click Save.</p> </li> <li> <p>Repeat for the second vApp network.</p> <p>The tables below provides examples of the settings needed to create a static route between two vApps.</p> <p>Network Information</p> Network name Network specification Router external IP address vApp network 1 <code>192.168.1.0/24</code> <code>192.168.0.100</code> vApp network 2 <code>192.168.1.0/24</code> <code>192.168.0.101</code> VDC network shared <code>192.168.1.0/24</code> N/A <p>Static routing settings</p> Static route to network Route name Network Next hop IP address vApp network 1 To-vapp1 <code>192.168.1.0/24</code> <code>192.168.0.100</code> vApp network 2 To-vapp2 <code>192.168.1.0/24</code> <code>192.168.0.101</code> </li> </ol>"},{"location":"Platform_Services/Compute/NSX-V_Networks/vapp_networks/#vapp-fencing","title":"vApp fencing","text":"<p>Fencing a vApp allows identical VMs within different vApps to be powered on without conflict, by isolating the MAC and IP addresses of the VMs. This feature is particularly useful if you are copying vApps or creating catalog images of vApps where these details can't be altered.</p> <p>vApp fencing can be done during or after vApp creation. It is done when the VMs within the vApp sit on the VDC network, rather than on their own vApp network.</p> <p>To apply vApp fencing during vApp creation:</p> <ol> <li> <p>In the left navigation panel, select vApps.</p> </li> <li> <p>In the card for the vApp, select Details.</p> </li> <li> <p>Select the Networks tab.</p> </li> <li> <p>In the vApp Fencing section, click Edit.</p> </li> <li> <p>Select the Fence vApp option then click OK.</p> <p></p> </li> </ol>"},{"location":"Platform_Services/Compute/Using_the_API/establishing_a_connection_to_aucloud_with_powercli/","title":"Establishing a connection to AUCloud platform via PowerCLI","text":""},{"location":"Platform_Services/Compute/Using_the_API/establishing_a_connection_to_aucloud_with_powercli/#overview","title":"Overview","text":"<p>VMware PowerCLI is a Microsoft PowerShell based command line interface tool which was developed by VMware to manage and automate tasks on various VMware platforms such as vSphere, VMware Cloud Director, Horizon, etc.</p> <p>The latest version of PowerCLI is available from the VMware website.</p> <p>If your system has connection to the internet, you can perform the following to install the PowerCLI module:</p> <p><code>&gt; Install-Module VMware.PowerCLI -Scope CurrentUser</code></p> <p>To connect to the AUCloud platform via PowerCLI, you need the API-URL, Org-ID, and User-ID which can be found by:</p> <ol> <li>Logging into the AUCloud Portal</li> <li>Selecting API Management under your User ICON in the top right menu</li> <li>Select the Cloud Services tab.</li> </ol> <p>Below are screenshots for details: </p> <p></p> <p>The API Url is listed in\u00a0<code>https://&lt;address\\&gt;</code>\u00a0format and the Username is listed in\u00a0<code>User-Id_@_Org-Id</code>\u00a0format.</p> <p>Note</p><p>There are two methods to authenticate with VMware Cloud Director using PowerCLI: username/password or session token. Both methods are discussed in this document.</p> <p>To establish a connection to AUCloud platform via username and password, perform the following command:</p> <p><code>&gt; Connect-CIServer -Server &lt;API-Url&gt; \\-org &lt;Org-Id&gt; \\-User &lt;User-Id&gt; \\-Password &lt;Portal\\_Password&gt;</code></p> <p>Note</p> <p>API-Url :  remove <code>https://</code> from the API Url listed on the AUCloud Portal API</p> <p>User-Id :  enter the User-Id without @Org-Id</p> <p>Org-Id : enter the Org-Id listed under username</p> <p>To establish a connection to the AUCloud platform via session token, first, a session token must be generated. This can be achieved using the following PowerShell module :</p> <pre><code>$Global:Authorization = \"\"\n\n$Global:Accept = \"application/*+xml;version=36.3\"\n\n$Global:xvCloudAuthorization = \"\"\n\nFunction New-CloudToken($Username,$Password,$URL)\n\n{  \n\n    $Pair = \"$($Username):$($Password)\"\n\n    $Bytes = [System.Text.Encoding]::ASCII.GetBytes($Pair)\n\n    $Base64 = [System.Convert]::ToBase64String($Bytes)\n\n    $Global:Authorization = \"Basic $base64\"\n\n    $headers = @{ Authorization = $Global:Authorization; Accept = $Global:Accept}\n\n    $Res = Invoke-WebRequest -Method Post -Headers $headers -Uri \"https://$($URL)/api/sessions\"\n\n    $Global:Server = $($URL)\n\n    $Global:SessionID = $res.headers[\"X-Vcloud-Authorization\"]\n\n    Write-Output \"$SessionID\"\n\n    Write-Output \"$Server\"\n\n}\n</code></pre> <p>To use the above module, copy and paste the above code into a local file named New-CloudToken.psm1. Then in a new PowerShell window, enter the following command :</p> <p><code>&gt; Import-Module &lt;Path to .psm1 file&gt;</code></p> <p>Note</p> <p>The above command imports the module for the current session only.</p> <p>To import the module for all sessions, update your PowerShell profile to include the above command as documented by  Microsoft.</p> <p>Using the username (including the Org-ID) and the API-URL copied from the Portal earlier, along with your Portal Password, generate a new Session Token using the imported module :</p> <p><code>&gt; New-CloudToken -User &lt;User-Id@Org-Id&gt; \\-Password &lt;Portal\\_Password&gt; \\-Server &lt;API-Url&gt;</code></p> <p>Note</p> <p>API-Url :\u00a0\u00a0remove <code>https://</code> from the API URL listed on the AUCloud Portal API</p> <p>User-Id :\u00a0\u00a0enter the User-Id including @Org-Id</p> <p>A new session token, along with the API-URL will be the output of this command : </p> <p></p> <p>In the example above, \"71337106a838432097fbf78d869194e6\" is the Session-Token and \"api-vcd-sz201.eportal.australiacloud.com.au\" is the API-URL.</p> <p>Using this information, you can then establish a connection to the AUCloud platform by performing the following command.</p> <p><code>&gt; Connect-CIServer -Server &lt;API-URL&gt; -Session &lt;Session-Token&gt;</code></p> <p>Once connected, you can start using PowerCLI commands to retrieve information/manage the ecosystem within your vDC Organisation. To verify that you have logged in to the environment successfully, you can perform a simple command line to retrieve all VMs in your tenancy by running the command below :</p> <p><code>&gt; Get-CIVM</code></p> <p>Example of the output:</p> <p></p>"},{"location":"Platform_Services/Compute/Using_the_API/using_terraform_against_AUCloud_implementation_of_vcd/","title":"Using Terraform against AUCloud's implementation of VMware Cloud Director (vCD)","text":""},{"location":"Platform_Services/Compute/Using_the_API/using_terraform_against_AUCloud_implementation_of_vcd/#overview","title":"Overview","text":"<p>In order to configure your AUCloud IaaS tenancies using Terraform, you must first pass the necessary authentication information to the VMware Cloud Director (vCD) Terraform provider.</p> <p>There are currently 2 supported authenticated methods:</p> <ol> <li>Connecting as Org Admin, or</li> <li>Connecting with authorization or bearer token.</li> </ol>"},{"location":"Platform_Services/Compute/Using_the_API/using_terraform_against_AUCloud_implementation_of_vcd/#connecting-as-org-admin","title":"Connecting as Org Admin","text":"<p>In the above example, there are 4 arguments you must populate using information obtained from one of the Portal API endpoints</p> <p></p> <ol> <li> <p>The required user argument can be found under the Username column aligned with the Service you wish to configure. It consists of the rational number before the @ symbol.</p> </li> <li> <p>The password argument is identical to that which you use to login to the portal. It is for this reason that we recommend that you either secure your source code or pass the argument in as a variable.</p> </li> <li> <p>The org argument consists of the string to the right of the @ symbol in the Username column.</p> </li> <li> <p>The API argument must be the URL listed under the API URL column with /api appended to the end of the string.</p> <p>Once these arguments have been correctly defined, you may start configuring or importing vCD resources using Terraform.</p> <p>Note</p> <p>If you have more than one service, all of the above values must be drawn from the record associated with the service you wish to configure</p> </li> </ol>"},{"location":"Platform_Services/Compute/Using_the_API/using_terraform_against_AUCloud_implementation_of_vcd/#connecting-with-authorization-or-bearer-token","title":"Connecting with authorization or bearer token","text":"<p>In the above example, there are 2 arguments you must populate using information obtained from one of the Portal API Endpoints</p> <p>There is also an additional value, token, which needs to be obtained from an API call outside of Terraform.</p> <p></p> <ol> <li> <p>The org argument consists of the string to the right of the @ symbol in the Username column.</p> </li> <li> <p>The API argument must be the URL listed under the API Url column with /api appended to the end of the string.</p> </li> </ol> <p>In order to obtain the necessary value for the token argument, you must make an HTTP POST request to the API URL appended with /api/sessions associated with your VCD service. In this POST request you must represent your full username (including the @ symbol) and password as a base64 encoding in an Authorization header.</p> <p>See https://developer.vmware.com/apis/1245/vmware-cloud-director/doc/doc/operations/POST-Login.html</p> <p>A successful request will return a <code>x-vmware-vcloud-access-token</code> which can be inserted into the Terraform token argument.</p> <p>Below is a simple bash script to obtain this information:</p> <p></p>"},{"location":"Platform_Services/Compute/Windows_Server_Licensing/windows_server_licensing/","title":"Windows Server Licensing","text":""},{"location":"Platform_Services/Compute/Windows_Server_Licensing/windows_server_licensing/#overview","title":"Overview","text":"<p>Windows Server licensing for VMs in shared environments must be provided by AUCloud via the Microsoft Service Provider License Agreement (SPLA).</p> <p>VMs using the Windows Server OS need to connect to AUCloud\u2019s KMS server to activate the product key to validate that the license has been applied.</p>"},{"location":"Platform_Services/Compute/Windows_Server_Licensing/windows_server_licensing/#activating-windows-licensing-on-aucloud-server-templates","title":"Activating Windows Licensing on AUCloud Server templates","text":"<p>After deploying your server from the templates, ensure your VM is connected to the Edge Services Gateway (ESG) via a Routed network.</p> <p>Configure the Firewall settings on your ESG to connect with the AUCloud KMS Server using following rule:</p> Source Destination Service Action VM's IP Address 103.109.112.109 TCP:1688 Accept <p>Note</p> <p>The above destination IP address is for Canberra (CSZ).  If your VM(s) are located in Sydney (SSZ), please use the Sydney KMS server target of 103.2.240.109</p> <p>Configure a SNAT rule to ensure your VMs IP is translated to the Public IP (if not done previously)</p> Applied On Original Source IP/Range Translated Source IP/Range External-internet-01 VMs IP Address Public IP Address <p>Login to the target server with Administrator privileges In Command Prompt enter the following command to set the path to the KMS Server:</p> <p><code>slmgr.vbs /skms 103.109.112.109</code> (or use the Sydney KMS server target if applicable)</p> <p>Confirmation will be received that the KMS machine name has been set successfully</p> <p></p> <p>Initiate the activation by entering the following:</p> <p><code>slmgr.vbs /ato</code></p> <p>Confirmation will be received that the product has been activated successfully</p> <p></p> <p>The Server license key has now been activated, to verify the activation, enter the following:</p> <p><code>slmgr.vbs /dlv</code></p> <p>The output will display a window detailing the server\u2019s licensing configuration.</p> <p>On the dashboard of the local server, the Product ID will be displayed</p> <p></p>"},{"location":"Platform_Services/Compute/Windows_Server_Licensing/windows_server_licensing/#if-your-vm-has-an-existing-mak-key-change-this-to-kms","title":"If your VM has an existing MAK Key, change this to KMS.","text":"<p>To change to a KMS activation from your MAK type:</p> <p>Run these commands:</p> <p><code>slmgr /ipk</code> (insert Generic Volume Licence Key - see here for reference) <code>slmgr.vbs /skms</code> (insert Canberra or Sydney KMS Server IP) <code>slmgr.vbs /ato</code></p>"},{"location":"Platform_Services/Compute/Working_with_Virtual_Machines/hot_to_migrate_vapps_between_virtual_data_centres/","title":"How to migrate vApps between virtual data centres","text":""},{"location":"Platform_Services/Compute/Working_with_Virtual_Machines/hot_to_migrate_vapps_between_virtual_data_centres/#overview","title":"Overview","text":"<p>If you have multiple virtual data centres (VDCs), you may find that you want to migrate vApps from VDC to VDC; whether that be from a test and dev environment into production or between VDCs with different service levels.</p> <p>There are two ways to migrate vApps between VDCs: </p> <ul> <li>copy, and </li> <li>move</li> </ul> <p>This article describes how to use these different methods to migrate your VDCs.  </p>"},{"location":"Platform_Services/Compute/Working_with_Virtual_Machines/hot_to_migrate_vapps_between_virtual_data_centres/#copying-a-vapp","title":"Copying a vApp","text":"<p>You may want to copy your vApp from one VDC to another VDC, leaving the original vApp in the source VDC that you can continue to use. You can perform the vApp copy operation on running vApps.</p> <p>To copy a vApp:</p> <ol> <li> <p>In the VMware Cloud Director\u00a0Virtual Datacenters\u00a0dashboard, select the VDC that contains the vApp you want to copy.</p> </li> <li> <p>In the left navigation panel, click\u00a0vApps.</p> </li> <li> <p>In the card for the vApp that you want to copy, select\u00a0Actions\u00a0then\u00a0Copy.</p> </li> <li> <p>In the\u00a0Copy\u00a0dialog box, enter a\u00a0Name\u00a0for the copied vApp and select which VDC you want to migrate it to. You can also change the storage policy for each virtual machines (VMs) within the vApp.</p> <p></p> </li> <li> <p>When you're happy with the configuration, click\u00a0OK\u00a0to begin the copy operation.  </p> </li> </ol>"},{"location":"Platform_Services/Compute/Working_with_Virtual_Machines/hot_to_migrate_vapps_between_virtual_data_centres/#moving-a-vapp","title":"Moving a vApp","text":"<p>You may want to completely move your vApp from one VDC to another VDC. This will remove the vApp from the source VDC and move it to the destination. To perform this operation, the vApp must be powered off.</p> <p>To move a vApp:</p> <ol> <li> <p>In the VMware Cloud Director\u00a0Virtual Datacenters\u00a0dashboard, select the VDC that contains the vApp you want to move.</p> </li> <li> <p>In the left navigation panel, click\u00a0vApps.</p> </li> <li> <p>In the card for the vApp that you want to move, select\u00a0Actions\u00a0then\u00a0Move to.</p> </li> <li> <p>In the\u00a0Move\u00a0dialog box, select which VDC you want to migrate the vApp to. You can also change the storage policy for each VMs within the vApp.</p> <p></p> </li> <li> <p>When you're happy with the configuration, click\u00a0OK\u00a0to begin the move operation.</p> </li> <li> <p>When the move operation is complete, power the vApp back on by selecting\u00a0Actions\u00a0then\u00a0Power On.</p> </li> </ol>"},{"location":"Platform_Services/Compute/Working_with_Virtual_Machines/how_to_create_a_vapp/","title":"How to create a vApp","text":""},{"location":"Platform_Services/Compute/Working_with_Virtual_Machines/how_to_create_a_vapp/#overview","title":"Overview","text":"<p>VMware Cloud Director uses vApps to make virtual machine (VM) creation and management easy and flexible. vApps are essentially containers for VMs and can be used in many ways. One of the most common uses of a vApp is to group similar VMs together for easy management. Or you can put VMs that form a multi-tier application into the same vApp for greater control. Up to 128 vApps can be created within a virtual data centre (VDC) and intelligently networked to create complex architectures that can be managed easily.</p> <p>In this guide we'll look at how to create a vApp from scratch.</p> <ol> <li> <p>In the VMware Cloud Director\u00a0Virtual Datacenters\u00a0dashboard, select the VDC in which you want to create the vApp.</p> </li> <li> <p>In the left navigation panel, select\u00a0vApps\u00a0to view a list of vApps within the VDC.</p> <p></p> </li> <li> <p>Click\u00a0New vApp.</p> <p></p> </li> <li> <p>In the\u00a0New vApp\u00a0dialog box, enter a\u00a0Name\u00a0and\u00a0Description\u00a0for your vApp. The name should be something that will easily identify it if you're building a large environment with multiple vApps.</p> <p></p> </li> <li> <p>You can now click\u00a0Add Virtual Machine\u00a0to populate the vApp with VMs. There are several ways to create a VM:</p> <ul> <li>From an existing template see\u00a0How to create a VM from a template.</li> <li>Catalog creation is covered in\u00a0How to create a catalog.</li> <li>From scratch, without using a template see\u00a0How to create an empty VM.</li> </ul> </li> <li> <p>When you've finished creating your vApp, click\u00a0Create.</p> </li> <li> <p>When your vApp has finished deploying, in the card for the vApp, select\u00a0Actions, Power\u00a0then\u00a0Power On\u00a0to power it\u00a0on.</p> </li> </ol>"},{"location":"Platform_Services/Compute/Working_with_Virtual_Machines/how_to_create_a_vm_from_a_template/","title":"How to create a VM from a template","text":""},{"location":"Platform_Services/Compute/Working_with_Virtual_Machines/how_to_create_a_vm_from_a_template/#overview","title":"Overview","text":"<p>To simplify the process of creating a VM, you can use a pre-built VM template from a catalog.</p> <p>For information about creating a VM from scratch, see\u00a0How to create an empty VM.  </p>"},{"location":"Platform_Services/Compute/Working_with_Virtual_Machines/how_to_create_a_vm_from_a_template/#creating-a-vm-from-a-template","title":"Creating a VM from a template","text":"<ol> <li> <p>In the VMware Cloud Director\u00a0Virtual Datacenters\u00a0dashboard, select the VDC that contains the vApp in which you want to create the VM.</p> </li> <li> <p>In the left navigation panel, select\u00a0vApps\u00a0to view a list of vApps within the VDC.</p> </li> <li> <p>In the card for the vApp in which you want to create the VM, select\u00a0Actions\u00a0then\u00a0Add VM.</p> <p></p> </li> <li> <p>In the\u00a0Add VMs\u00a0dialog box, click\u00a0Add Virtual Machine.</p> <p></p> </li> <li> <p>In the\u00a0New VM\u00a0dialog box, from the\u00a0Type\u00a0radio buttons, select\u00a0From Template.</p> </li> <li> <p>Enter a\u00a0Name,\u00a0Computer Name\u00a0and\u00a0Description\u00a0for your VM.</p> </li> <li> <p>In the\u00a0Templates\u00a0section, select the template that you want to use for your VM, depending on your required operating system and VM size.</p> <p></p> </li> <li> <p>When you're done, click\u00a0OK.</p> </li> <li> <p>Back in the\u00a0Add VMs\u00a0dialog box, you can create more VMs or click\u00a0Add\u00a0when you're done.</p> <p>You can monitor progress in the\u00a0Add VMs\u00a0dialog box or click\u00a0Cancel\u00a0to return to the list of vApps while the VM is created in the background.</p> </li> <li> <p>In the left navigation panel, select\u00a0Virtual Machines\u00a0to view a list of VMs within the VDC.</p> <p></p> </li> <li> <p>In the card for your new VM, select\u00a0Details.</p> </li> <li> <p>In the\u00a0General\u00a0section, from the\u00a0Storage Policy\u00a0list, select a storage policy to assign the VM to. The storage policy will be assigned when your account is initially created.</p> <p></p> <p></p> </li> <li> <p>View the\u00a0Hardware\u00a0section.</p> <p>Here, you can:</p> <ul> <li>Configure\u00a0CPU\u00a0and\u00a0Memory.</li> <li>In the\u00a0Storage\u00a0section, you can configure storage or\u00a0Add\u00a0more disks.</li> <li>In the\u00a0NICs\u00a0section, you can\u00a0Add\u00a0the VM to a network and select an\u00a0IP Mode\u00a0to determine how IP addresses are assigned: \u2022\u00a0 DHCP\u00a0VMware Cloud Director interacts with the OS via VMware Tools to use DHCP rather than static IPs. You'll need to define a\u00a0DHCP server on your edge gateway. \u2022\u00a0 Static - IP Pool\u00a0is the usual method, which injects an IP address into the VM via VMware Tools from a list of available IP addresses. The address may vary with each boot, but there is a check box to keep IP address assignments elsewhere within the UI once the VMs are created. \u2022\u00a0 Static - Manual\u00a0is like IP Pool, but you need to enter a valid\u00a0IP Address\u00a0from the pool, which the VM will then keep.</li> </ul> </li> <li> <p>When you're done, click\u00a0Save.</p> </li> </ol>"},{"location":"Platform_Services/Compute/Working_with_Virtual_Machines/how_to_create_an_empty_vm/","title":"How to create an empty VM","text":""},{"location":"Platform_Services/Compute/Working_with_Virtual_Machines/how_to_create_an_empty_vm/#overview","title":"Overview","text":"<p>As well as deploying pre-built VMs from a catalog, you can build your own VMs from scratch, as you would do on a physical machine, using an ISO image in place of a physical CD or DVD.</p> <p>For information about creating a VM from a template, see\u00a0How to create a VM from a template.</p>"},{"location":"Platform_Services/Compute/Working_with_Virtual_Machines/how_to_create_an_empty_vm/#creating-an-empty-vm","title":"Creating an empty VM","text":"<ol> <li> <p>In the VMware Cloud Director\u00a0Virtual Datacenters\u00a0dashboard, select the VDC that contains the vApp in which you want to create the VM.</p> </li> <li> <p>In the left navigation panel, select\u00a0vApps\u00a0to view a list of vApps within the VDC.</p> <p></p> </li> <li> <p>In the card for the vApp in which you want to create the VM, select\u00a0Actions\u00a0then\u00a0Add VM.</p> <p></p> </li> <li> <p>In the\u00a0Add VMs\u00a0dialog box, click\u00a0Add Virtual Machine.</p> <p></p> </li> <li> <p>In the\u00a0New VM\u00a0dialog box, from the\u00a0Type\u00a0radio buttons, select\u00a0New.</p> </li> <li> <p>Enter a\u00a0Name,\u00a0Computer Name\u00a0and\u00a0Description\u00a0for your VM. The computer name can only contain alphanumeric characters and hyphens.</p> </li> <li> <p>Select the\u00a0OS Family\u00a0to use for your VM, then from the\u00a0Operating System\u00a0list, select the specific OS that you want to use.</p> <p></p> </li> <li> <p>Select a\u00a0Size\u00a0for your VM based on the number of vCPUs and cores you require.</p> <p>You can select from\u00a0Pre-defined Sizing Options\u00a0or select\u00a0Custom Sizing Options\u00a0to enter specific compute, memory and storage settings.</p> </li> <li> <p>If you want to run virtualisation servers as a VM, you can edit the properties of the VM after it has been deployed and, in the\u00a0Hardware\u00a0section, select the\u00a0Expose hardware-assisted CPU virtualisation to guest OS\u00a0check box.</p> <p>For example, you can run a Windows 2008 or 2012 server with Hyper\u2011V, or a VMware ESX host.</p> </li> <li> <p>In the\u00a0Storage\u00a0section, set the\u00a0Storage Policy\u00a0and\u00a0Size\u00a0(in GB) of storage for the VM. You can also add more disks.</p> </li> <li> <p>In the\u00a0Network\u00a0section, specify which\u00a0Network\u00a0to connect the VM to and select an\u00a0IP Mode\u00a0to determine how IP addresses are assigned:</p> <ul> <li> <p>DHCP\u00a0VMware Cloud Director interacts with the OS via VMware Tools to use DHCP rather than static IPs.  </p> </li> <li> <p>IP Pool\u00a0is the usual method, which injects an IP address into the VM via VMware Tools from a list of available IP addresses. The address may vary with each boot, but there is a check box to keep IP address assignments elsewhere within the UI once the VMs are created.  </p> </li> <li> <p>Manual IP\u00a0is similar to IP Pool, but you need to enter a valid\u00a0IP Address\u00a0from the pool, which the VM will then keep.  </p> </li> </ul> <p></p> </li> <li> <p>When you're done, click\u00a0OK.</p> </li> <li> <p>Back in the\u00a0Add VMs\u00a0dialog box, you can add more VMs or click\u00a0Add\u00a0when you're done.</p> <p>You can monitor progress in the\u00a0Add VMs\u00a0dialog box or click\u00a0Cancel\u00a0to return to the list of vApps while the VM is created in the background.</p> <p>The VM will be deployed without any operating system.</p> </li> </ol>"},{"location":"Platform_Services/Compute/Working_with_Virtual_Machines/how_to_create_an_empty_vm/#installing-an-operating-system-into-the-vm","title":"Installing an operating system into the VM","text":"<ol> <li> <p>On the card for the vApp that contains the VM, click Actions &gt; Power\u00a0then select\u00a0Power On.</p> <p>This starts the vApp and all the VMs within it. The vApp shows a status of\u00a0Powering on, then\u00a0Running.</p> </li> <li> <p>In the left navigation panel, select\u00a0Virtual Machines\u00a0to view a list of VMs within the VDC.</p> </li> <li> <p>In the card for your VM, click Actions &gt; VM Console\u00a0 &gt; Launch web console.</p> <p></p> </li> <li> <p>As with a physical server, no virtual CD or DVD is available at first boot, so the server will attempt to PXE boot.</p> <p></p> </li> <li> <p>In the main VMware Cloud Director interface (not the console), in the card for the VM you want to work with, select\u00a0Actions, Media\u00a0then\u00a0Insert Media.</p> <p></p> </li> <li> <p>Select the ISO image you want to mount from a catalog, then click\u00a0Insert.</p> </li> <li> <p>In the card for the VM, select\u00a0Actions, Power\u00a0then\u00a0Reset\u00a0to reset the VM so that it picks up the virtual CD/DVD.</p> <p></p> <p>After a short while the VM will start the boot process and pick up the CD/DVD. Resize the VM console if necessary or go to full screen.</p> <p></p> </li> <li> <p>Carry out the operating system install as normal. When you've finished, remember to install VMware Tools.</p> </li> </ol> <p>For more information, see\u00a0VMware Tools Installation.</p>"},{"location":"Platform_Services/Compute/Working_with_Virtual_Machines/how_to_increase_an_hdd_or_add_hdd_to_a_vm/","title":"How to increase the HDD or add a HDD to a Virtual Machine","text":""},{"location":"Platform_Services/Compute/Working_with_Virtual_Machines/how_to_increase_an_hdd_or_add_hdd_to_a_vm/#overview","title":"Overview","text":"<p>You can increase the block storage available for a virtual machine (VM) by expanding an existing HDD or by adding an additional drive.</p>"},{"location":"Platform_Services/Compute/Working_with_Virtual_Machines/how_to_increase_an_hdd_or_add_hdd_to_a_vm/#before-you-begin","title":"Before you begin","text":"<p>Before increasing the size of block storage for a VM, consider the following:</p> <ul> <li>If the VM has a snapshot, you'll need to remove this before making changes to the hard disk size. You may need to perform a re-scan from the OS level.</li> <li>We recommend disk sizes are kept under 2TB as disks larger than 2TB attached to a VM can cause performance issues and may impact the ability to take backups.</li> </ul>"},{"location":"Platform_Services/Compute/Working_with_Virtual_Machines/how_to_increase_an_hdd_or_add_hdd_to_a_vm/#checking-storage-allocation","title":"Checking storage allocation","text":"<p>Before increasing block storage for a VM, you can check the storage allocation for its VDC:</p> <ol> <li> <p>In the VMware Cloud Director\u00a0Virtual Datacenters\u00a0dashboard, select the VDC that contains your VM.</p> </li> <li> <p>In the left navigation panel, select\u00a0Storage Policies.</p> <p></p> </li> <li> <p>In the row for the appropriate storage policy, check the\u00a0Limit\u00a0column.\u00a0If you need to increase the disk size beyond the storage limit, please contact your Customer Success Manager or AUCloud Support to request an increase to your storage limit. See:\u00a0AUCloud Support..</p> <p></p> </li> </ol>"},{"location":"Platform_Services/Compute/Working_with_Virtual_Machines/how_to_increase_an_hdd_or_add_hdd_to_a_vm/#increasing-storage-for-a-virtual-machine","title":"Increasing storage for a virtual machine","text":"<p>To increase the amount of block storage for your VM:</p> <ol> <li> <p>In the VMware Cloud Director\u00a0Virtual Datacenters\u00a0dashboard, select the VDC that contains your VM.</p> </li> <li> <p>In the\u00a0Virtual Machines\u00a0page, in the card for your VM, click\u00a0Details.</p> <p></p> </li> <li> <p>Locate and\u00a0select\u00a0the\u00a0General - Hardware - Hard Disks\u00a0section and click\u00a0EDIT.</p> <p></p> </li> <li> <p>In the\u00a0Hard Disks\u00a0section, in the row for the hard disk that you want to increase, enter the new value in the\u00a0Size\u00a0field.</p> <p></p> </li> <li> <p>Click\u00a0Save.</p> </li> </ol>"},{"location":"Platform_Services/Compute/Working_with_Virtual_Machines/how_to_increase_an_hdd_or_add_hdd_to_a_vm/#adding-additional-disks-to-a-virtual-machine","title":"Adding additional disks to a virtual machine","text":"<ol> <li> <p>You can add more hard disks to your VM by clicking\u00a0Add\u00a0and specifying the details for the new disk.</p> <p></p> <ul> <li>Size\u00a0\u2013 enter the size of the new disk in binary</li> <li>Policy\u00a0\u2013 select the storage policy (in most cases this will be the VM default policy)</li> <li>Bus Type\u00a0\u2013 select the Bus Type (we recommend para-virtual SCSI)</li> <li>Bus Number\u00a0\u2013 Select a bus number. If selecting a different bus type to the original disk, a unique bus number needs to be applied.</li> <li>Unit Number\u00a0\u2013 select a unit number which is not the same as the existing disk.</li> </ul> </li> <li> <p>When you're done, click\u00a0Save.</p> </li> </ol>"},{"location":"Platform_Services/Compute/Working_with_Virtual_Machines/how_to_perform_guest_customisation/","title":"How to perform Guest Customisation on the newly built VM from a template","text":""},{"location":"Platform_Services/Compute/Working_with_Virtual_Machines/how_to_perform_guest_customisation/#overview","title":"Overview","text":"<p>This article is to provide a step by step procedure to perform guest customisation on the newly built VM from a template. By default, the vApp templates provided by AUCloud in vCD catalog have guest customisation enabled.</p>"},{"location":"Platform_Services/Compute/Working_with_Virtual_Machines/how_to_perform_guest_customisation/#process","title":"Process","text":"<p>Prior performing guest customisation, check the VM has been configured accordingly by going through\u00a0following:</p> <ol> <li> <p>Navigate to Compute - Virtual Machines - Select the newly built VM - Details link  </p> <p></p> </li> <li> <p>Under General section, ensure the Computer Name is configured accordingly - as this will be the actual server name for the\u00a0Guest OS  </p> <p>Note</p> <p>The Name field is the Virtual Machine Name - in general administrators normally configured the VM name and Computer (Guest OS) Name with the same name.  </p> <p> </p> </li> <li> <p>Then under Hardware - NICs - if you wish to use a static IP address, make sure Static - Manual is selected and enter\u00a0the IP address accordingly</p> <p></p> </li> <li> <p>Navigate to Guest OS Customization section, click edit, and ensure the following are enabled\u00a0:  </p> <p></p> <p>Note</p> <p>The option \"Require Administrator to change password on first login\" is only applicable for Windows VM.  </p> </li> <li> <p>Once happy with all the settings, click\u00a0Save\u00a0button  </p> </li> </ol> <p>Once the VM configured, navigate back to Compute - Virtual Machine. Then select Actions on the VM and choose\u00a0the \"Power On and Force Re-customization\" </p> <p></p> <p>This will then Power On the VM and configure the guest OS with the correct server name and IP\u00a0address.  </p> <p>For Windows VM, administrator user will be prompted to change the password upon initial login.</p> <p></p> <p>Click on OK and enter the new password for the guest OS.</p>"},{"location":"Platform_Services/Compute/Working_with_Virtual_Machines/how_to_resize_vm_disk/","title":"How to resize VM disk","text":""},{"location":"Platform_Services/Compute/Working_with_Virtual_Machines/how_to_resize_vm_disk/#overview","title":"Overview","text":"<p>AUCloud provides a public catalog which contains VM templates with various OS flavours. Each of these VM templates is configured with 1 Hard Disk\u00a0with the following\u00a0default disk sizes :  </p> OS\u00a0 Disk Size VM Size Linux Centos / Ubuntu 10GB \u00a0Mini Linux Centos / Ubuntu 50GB \u00a0Small / Medium / Medium Plus / Large / Larger / Largest Windows Server 2016 /2019 100GB \u00a0Small / Medium / Medium Plus / Large / Larger / Largest <p>It is recommended to utilise this Hard Disk as a dedicated OS drive/partition\u00a0and create additional disks\u00a0to store data, logs, applications installation, etc. To resize (increase) the disk drive / partition, the following need to be performed :</p> <ol> <li>Resize the disk from the VM level first</li> <li>Expand the disk / partition\u00a0from the OS level.</li> </ol>"},{"location":"Platform_Services/Compute/Working_with_Virtual_Machines/how_to_resize_vm_disk/#process","title":"Process","text":"<p>The following steps provides guidance on how to resize VM level disk\u00a0on AUCloud:</p> <ol> <li> <p>Once you are logged in\u00a0VMware Cloud Director through the portal, navigate to the Virtual Datacentre -\u00a0Compute - Virtual Machines:  </p> <p></p> </li> <li> <p>Select the VM which required its disk(s) to be resized, click on\u00a0DETAILS.</p> <p></p> </li> <li> <p>Then navigate to\u00a0General - Hardware - Hard Disks\u00a0section, click\u00a0EDIT.  </p> <p></p> </li> <li> <p>Adjust the disk size on the relevant disk.  </p> <p></p> </li> <li> <p>Warning\u00a0You can only increase the disk size. If you try to decrease\u00a0the disk size, the following alert will pop up and the disk size will not be updated:  </p> <p></p> </li> <li> <p>Then click on\u00a0Save\u00a0button.</p> </li> </ol> <p>Once the above steps completed, the next thing to be performed is expand the disk from the OS level.</p> <p>Note</p> <ul> <li>for Linux VM, rebooting the server may be required if the re-scan of the scsi devices did not pick up the new disk size</li> <li>for Windows VM, to expand the disk, perform a re-scan on the Disk Management (in Computer Management) then perform extend volume</li> </ul>"},{"location":"Platform_Services/Compute/Working_with_Virtual_Machines/how_to_upload_media/","title":"How to upload media","text":""},{"location":"Platform_Services/Compute/Working_with_Virtual_Machines/how_to_upload_media/#overview","title":"Overview","text":"<p>You may find you need to upload ISO (DVD/CD) or FLP (floppy disk) media to VMware Cloud Director that have already been provided by AUCloud. These media can then:</p> <ul> <li>Be consumed by users within your organisation.</li> <li>Facilitate the creation of VMs from scratch, which can then be saved to your catalog for future deployment.</li> </ul>"},{"location":"Platform_Services/Compute/Working_with_Virtual_Machines/how_to_upload_media/#uploading-media","title":"Uploading media","text":"<p>If you need to upload media from a file on your local machine, you can use the Tenant UI. To upload media from a URL, you'll need to use the Legacy UI.</p>"},{"location":"Platform_Services/Compute/Working_with_Virtual_Machines/how_to_upload_media/#uploading-media-from-a-local-file","title":"Uploading media from a local file","text":"<ol> <li> <p>In VMware Cloud Director,\u00a0select\u00a0Libraries\u00a0from the top menu bar.</p> </li> <li> <p>In the left navigation panel, click\u00a0Media &amp; Other.</p> <p></p> </li> <li> <p>Click\u00a0Add.</p> </li> <li> <p>In the\u00a0Upload Media\u00a0dialog box, select the\u00a0Catalog\u00a0to which you want to upload the media.</p> </li> <li> <p>Click the\u00a0Upload\u00a0icon and browse to the ISO or FLP file that you want to upload.</p> <p></p> </li> <li> <p>When you're done, click\u00a0OK.</p> <p>In the\u00a0Media &amp; Other\u00a0page, you can monitor the progress of the upload. You can carry on with other work while the upload takes place.</p> </li> </ol>"},{"location":"Platform_Services/Compute/Working_with_Virtual_Machines/how_to_upload_media/#uploading-media-from-a-url","title":"Uploading media from a URL","text":"<ol> <li> <p>In the VMware Cloud Director Legacy UI, select the\u00a0Catalogs\u00a0tab.</p> <p></p> </li> <li> <p>Select the\u00a0Media &amp; Other\u00a0tab.</p> <p></p> </li> <li> <p>Click the\u00a0Upload\u00a0icon.</p> <p></p> </li> <li> <p>In the\u00a0Upload Media &amp; Other\u00a0dialog box you can:</p> <ul> <li>Paste in a URL for the ISO or FLP media.</li> <li>Browse to the ISO or FLP file on your local device and select it (for this to work, you need to have Java JRE available on your device).</li> </ul> <p></p> </li> <li> <p>You can give the media a name and then choose which catalog to put it in.</p> <p></p> </li> <li> <p>When you're done, click\u00a0Upload.</p> <p>During the upload, you'll see a status window. You can carry on with other work while the upload takes place.</p> </li> <li> <p>You can close (and reopen) the window by clicking the\u00a0View uploads and downloads\u00a0icon.</p> <p></p> <p>This opens the\u00a0Transfer process\u00a0dialog box.</p> <p></p> </li> </ol>"},{"location":"Platform_Services/Compute/Working_with_Virtual_Machines/how_to_use_affinity_rules/","title":"How to use affinity and anti\u2011affinity rules","text":""},{"location":"Platform_Services/Compute/Working_with_Virtual_Machines/how_to_use_affinity_rules/#overview","title":"Overview","text":"<p>Affinity and anti-affinity rules determine whether or not VMs are kept together as they are moved around within your environment.</p> <ul> <li>Affinity rules keep VMs together on the same host.</li> <li>Anti-affinity rules ensure that VMs are distributed across different hosts.</li> </ul> <p>For example, if it is important that your application has very low latency, you can create affinity rules to make sure that the application's VMs are always kept on the same host. If you want your application to be robust in the event of host failures, you can create anti-affinity rules to spread the VMs across multiple hosts.  </p>"},{"location":"Platform_Services/Compute/Working_with_Virtual_Machines/how_to_use_affinity_rules/#creating-an-affinity-or-anti-affinity-rule","title":"Creating an affinity or anti-affinity rule","text":"<p>To create an affinity or anti-affinity rule:</p> <ol> <li> <p>In VMware Cloud Director, click the VDC in which you want to create the affinity or anti-affinity rule.</p> </li> <li> <p>In the left navigation panel, select\u00a0Affinity Rules.</p> </li> <li> <p>To create an affinity rule, in the\u00a0Affinity Rules\u00a0section, click\u00a0New.</p> <p>To create an anti-affinity rule,in the\u00a0Anti-Affinity Rules\u00a0section, click\u00a0New.</p> </li> <li> <p>In the\u00a0Create Affinity Rule\u00a0or\u00a0Create Anti-Affinity Rule\u00a0dialog box, enter a\u00a0Name\u00a0for the rule.</p> </li> <li> <p>If you do not want the rule to take effect immediately, deselect the\u00a0Enabled\u00a0option.     If you leave this option selected, the rule is applied and the selected VMs are redistributed as required as soon as you create the rule.</p> </li> <li> <p>If you want the VMs added to the rule to be powered on if the rule cannot be met, deselect the\u00a0Required\u00a0option.</p> <p>If you leave this option selected\u00a0and\u00a0if the rule cannot be met, the VMs added to the rule will not power on.</p> </li> <li> <p>In the\u00a0VMs in Rule\u00a0section, select the VMs that you want to add to the rule.</p> <p></p> </li> <li> <p>When you're done, click\u00a0Save.</p> </li> </ol>"},{"location":"Platform_Services/Compute/Working_with_Virtual_Machines/how_to_view_and_update_virtual_machine_settings/","title":"How to view and update virtual machine settings","text":""},{"location":"Platform_Services/Compute/Working_with_Virtual_Machines/how_to_view_and_update_virtual_machine_settings/#viewing-and-updating-vm-settings","title":"Viewing and updating VM settings","text":"<p>After you've deployed a virtual machine (VM), you can view and update its configuration.</p> <ol> <li> <p>In the VMware Cloud Director\u00a0Virtual Datacentres\u00a0dashboard, select the VDC where the vApp that contains the VM is located.</p> </li> <li> <p>In the left navigation panel, click\u00a0vApps.</p> <p></p> </li> <li> <p>In the card for the vApp that contains the VM, click\u00a0Details.</p> <p></p> </li> <li> <p>Within the Virtual Machines section, click the name of the VM for which you want to view configuration information.</p> </li> <li> <p>Expand each section to view the settings for the VM and change them if required.</p> </li> <li> <p>When you're done, click\u00a0Save\u00a0to save any changes you've made, or\u00a0Discard Changes\u00a0to close without saving.  </p> </li> </ol>"},{"location":"Platform_Services/Compute/Working_with_Virtual_Machines/how_to_view_and_update_virtual_machine_settings/#general","title":"General","text":"<p>View and changes properties such as the VM/host name, OS type and version. You can also see if VMware Tools is installed on the VM and change the storage policy for the VM.</p> <p></p>"},{"location":"Platform_Services/Compute/Working_with_Virtual_Machines/how_to_view_and_update_virtual_machine_settings/#hardware","title":"Hardware","text":"<p>On the\u00a0Hardware\u00a0tab, you can:</p> <ul> <li>See and change the number of virtual CPUs and the amount of RAM associated with the VM.</li> <li>Specify the number of cores per socket and number of vCPUs. You can use this for software applications that have per-socket licensing. First set the number of vCPUs you require, and then set the number of cores per socket.</li> <li>Run virtualisation servers as a VM. For example, run a Windows 2008 or 2012 server with Hyper-V, or a VMware ESX host. Select the\u00a0Expose hardware-assisted CPU virtualisation\u00a0check box in these cases.</li> <li>Add or remove hard disks and network adapters.</li> </ul>"},{"location":"Platform_Services/Compute/Working_with_Virtual_Machines/how_to_view_and_update_virtual_machine_settings/#guest-os-customisation","title":"Guest OS\u00a0Customisation","text":"<p>By default, a password is randomly generated and assigned when the VM is first booted. You can use this tab to determine the login password, or to specify the password that will be assigned to the administrator/root user for the VM.</p> <p>The password must meet the OS password complexity requirements (at least eight characters long and including upper and lower case letters and numbers).</p> <p>For guest customisation to work, VMware Tools must be installed and running in the VM.</p> <p>For Windows VMs, there is an option for guest customisation to change the SID of the operating system. Bear in mind that changing the SID can corrupt VMs running applications, such as Active Directory, that rely on a known SID.</p>"},{"location":"Platform_Services/Compute/Working_with_Virtual_Machines/how_to_view_storage_profile_usage/","title":"How to view storage profile usage","text":""},{"location":"Platform_Services/Compute/Working_with_Virtual_Machines/how_to_view_storage_profile_usage/#overview","title":"Overview","text":"<p>Before allocating more disk space in your AUCloud for VMware account, it is useful to check how much of your allocated space has been used.  </p>"},{"location":"Platform_Services/Compute/Working_with_Virtual_Machines/how_to_view_storage_profile_usage/#viewing-your-storage-usage-vmware-cloud-director","title":"Viewing your storage usage (VMware Cloud Director)","text":"<ol> <li> <p>In the VMware Cloud Director\u00a0Virtual Datacenters\u00a0dashboard, go to the card for your data centre.</p> </li> <li> <p>The\u00a0Storage\u00a0section shows how much storage you're currently using as well as the amount of allocated storage.</p> <p></p> </li> </ol>"},{"location":"Platform_Services/Compute/Working_with_Virtual_Machines/how_to_view_storage_profile_usage/#viewing-your-storage-usage-vmware-cloud-director-api","title":"Viewing your storage usage (VMware Cloud Director API)","text":"<p>To check your storage profile usage programmatically, you need to call the appropriate VMware Cloud Director REST API endpoint.</p> <p>The example assumes that you have set up the following three environment variables to hold your user credentials:</p> <ul> <li><code>VCD\\_ORG</code></li> <li><code>VCD\\_USERNAME</code></li> <li><code>VCD\\_PASSWORD</code></li> </ul> <p>The example makes two calls to the API. The first call authenticates the session:</p> <p><code>application/*+xml;version=5.6\" -X POST -i https://api.vcd.portal.skyscapecloud.com/api/sessions</code></p> <p>Having authenticated successfully and received an\u00a0<code>x-vcloud-authorisation</code>\u00a0header in the response, the second call passes the authentication token as a header on the request:</p> <p><code>curl -H \"x-vcloud-authorization: a1b2c3d4e5f6a7b8c9d0e1f2a3b4c5d6\" -H \"Accept: application/*+xml;version=5.6\" -i https://api.vcd.portal.skyscapecloud.com/api/query?type=orgVdcStorageProfile</code></p> <p>This call returns an XML structure, in which you can see an\u00a0<code>OrgVdcStorageProfileRecord</code>\u00a0element containing the following properties:</p> <p><code>storageLimitMB=\"512000\" storageUsedMB=\"65536\"</code></p> <p>The GitHub repository also provides a ruby example. Again, the script assumes the above environment variables have been set up with your user credentials.</p> <p>You can use the ruby script by running:</p> <p><code>ruby storage_profile.rb</code></p> <p>The output will look similar to the following:</p> <p><code>Name        Used GB   Total GB   Percent   VDC</code></p> <p><code>BASIC-Any   192       500        38.5%     XXXX</code></p>"},{"location":"Platform_Services/Compute/Working_with_Virtual_Machines/how_to_vmtemplate_media_using_ovf_tool/","title":"How to upload VM template/media using the VMware OVF tool","text":""},{"location":"Platform_Services/Compute/Working_with_Virtual_Machines/how_to_vmtemplate_media_using_ovf_tool/#overview","title":"Overview","text":"<p>The VMware OVF Tool is a conversion program freely downloadable from VMware that assists in the distribution of virtual machines (VMs) and vApps, converting them between OVF, VMX and OVA formats. It also includes a command\u2011line facility to import and export OVF packages between environments or from third party suppliers. The OVF Tool is a command\u2011line interface (CLI) tool only.</p> <ul> <li> <p>OVF (Open Virtualisation Format)\u00a0is a packaging standard created by leading virtualisation vendors. It is a platform independent, efficient, open packaging and distribution format for virtual machines.</p> </li> <li> <p>VMX (the VM configuration file)\u00a0is a simple text file with various parameters relating to the guest Virtual Machine.</p> </li> <li> <p>The OVA file extension\u00a0is associated with Open Virtual Machine Format. Compared to the OVF file format, the OVA format contains all VM files and *.ovf files compressed into one single OVA archive file instead of many files in a folder.</p> </li> </ul> <p>This method is the preferred method for uploading template/media larger than 1GB in size.</p>"},{"location":"Platform_Services/Compute/Working_with_Virtual_Machines/how_to_vmtemplate_media_using_ovf_tool/#downloading-the-ovf-tool","title":"Downloading the OVF Tool","text":"<p>You can download the OVF Tool via the following link:</p> <p>https://code.vmware.com/tool/ovf</p> <p>You will need to have a\u00a0VMware account to download the tool. You can download the OVF Tool for Windows 32-bit and 64-bit, Linux 32-bit, 64-bit and\u00a0ARM64, or Mac OS X.</p> <p>After downloading and installing the OVF Tool, go to the directory in which you installed the tool to run it. There is no icon or program logo on your desktop for the OVF Tool, so to launch it, you must use the command prompt. Go to the installation folder and run:</p> <p><code>ovftool</code></p>"},{"location":"Platform_Services/Compute/Working_with_Virtual_Machines/how_to_vmtemplate_media_using_ovf_tool/#getting-started-with-the-ovf-tool","title":"Getting started with the OVF Tool","text":"<p>The OVF Tool is a CLI tool, so some level of familiarity with CMD commands helps in using the tool. There are a number of help commands, which are a good source of information:</p> <p><code>ovftool --help</code></p> <p><code>ovftool --help examples</code></p> <p><code>ovftool --help locators</code></p> <p><code>ovftool --help config</code></p> <p>You can also find the OVF Tool User Guide at:</p> <p>https://code.vmware.com/tool/ovf</p>"},{"location":"Platform_Services/Compute/Working_with_Virtual_Machines/how_to_vmtemplate_media_using_ovf_tool/#basic-importupload-and-exportdownload-commands","title":"Basic import/upload\u00a0and export/download commands","text":"<p>You will mainly use the OVF Tool to import (deploy/upload) and export (download) VMs or appliances into and out of your AUCloud environment.</p> <p>The basic syntax to do this using the OVF Tool is:</p> <p><code>ovftool &lt;source&gt; &lt;target&gt;</code></p> <p>Refer to the OVF Tool User Guide for further commands and switches.</p>"},{"location":"Platform_Services/Compute/Working_with_Virtual_Machines/how_to_vmtemplate_media_using_ovf_tool/#uploading-a-vm-template-ovf-or-ova-format-to-a-catalog-in-vmware-cloud-director","title":"Uploading a VM template (OVF or OVA format)\u00a0to a Catalog in\u00a0VMware Cloud Director","text":"<p>To upload an ovf/ova file:</p> <ol> <li> <p>In your AUCloud environment, create a catalog to contain the vApp template.</p> <p></p> <p>For detailed instructions, see\u00a0How to create a catalog.</p> </li> <li> <p>Make sure you are in the correct directory, that is, the directory containing the file you want to import. For ovf files, ensure all the files such as <code>\\*.mf</code> , <code>\\*.ovf</code>, <code>\\*.vmdk</code> and <code>\\*.nvram</code> files are in the same directory</p> </li> <li> <p>Run the following command:</p> <p><code>ovftool --vCloudTemplate &lt;filename&gt; \"vcloud://&lt;username&gt;@&lt;apiURL&gt;?org=&lt;computeServiceID&gt;&amp;catalog=&lt;catalogName&gt;&amp;vappTemplate=&lt;newTemplate&gt;\"</code></p> <p>Where:</p> <ul> <li>vCloudTemplate\u00a0indicates that you're uploading a new vApp template</li> <li>acceptAllEulas\u00a0indicates that you accept all end user licence agreements</li> <li>overwrite\u00a0indicates that you're replacing an existing vApp with the new one being uploaded</li> <li>filename\u00a0is the name of the\u00a0.vmx\u00a0file that are importing</li> <li>username\u00a0is your AUCloud Portal user ID</li> <li>apiURL\u00a0is your VMware Cloud Director API URL. This URL is different depending on the region in which your environment is located. For more information, see\u00a0API Management in the AUCloud Portal.</li> <li>computeServiceID\u00a0is the ID of your AUCloud compute service (sometimes also called an org or vOrg)</li> <li>vappTemplate\u00a0is the ID of the vApp template</li> <li><code>catalogName</code>\u00a0is the Name\u00a0of the catalog in which the vApp template is located</li> </ul> <p>For example: <code>ovftool --vCloudTemplate C:\\temp\\Windows2008-new.ova \"vcloud://123.1@api.xxx.portal.australiacloud.com.au:443?org=szxxx-xx-xx&amp;catalog=LK-catalog&amp;vappTemplate=LK-upload-15102020-v4\"</code></p> <p>TIP: Make sure you use double quotes (\") rather than single quotes ('). vCloudTemplate and vappTemplate flags are case sensitive.</p> </li> <li> <p>The\u00a0ovf\u00a0file is uploaded as a vApp template into your environment.</p> <p></p> <p>In VMware Cloud Director, expand the\u00a0Recent Tasks\u00a0section to check the status.</p> <p></p> <p>You can also see the progress from Libraries - vApp Templates view. Once, the upload is completed successfully, the green tick icon \u00a0will appear next to the vapp template name.</p> <p></p> </li> </ol>"},{"location":"Platform_Services/Compute/Working_with_Virtual_Machines/how_to_vmtemplate_media_using_ovf_tool/#uploading-an-iso-file-to-a-catalog-in-vmware-cloud-director","title":"Uploading an .iso file to a Catalog in VMware Cloud Director","text":"<p>To upload an ISO image:</p> <ol> <li> <p>Make sure you are in the correct directory, that is, the directory containing the ISO file you want to import.</p> </li> <li> <p>Run the following command:</p> <p><code>ovftool -sourceType=\"ISO\" \"&lt;path&gt;\\&lt;filename&gt;.iso\" \"vcloud://&lt;username&gt;@&lt;apiURL&gt;?org=&lt;computeServiceID&gt;&amp;catalog=&lt;catalogName&gt;&amp;media=&lt;name&gt;\"</code></p> <p>Where:</p> <ul> <li><code>sourceType</code>\u00a0(or\u00a0<code>st</code>) indicates the type of the source file:\u00a0<code>ISO</code></li> <li><code>path\\\\filename.iso</code>\u00a0is the full location of the source\u00a0<code>.iso</code>\u00a0file you want to import</li> <li><code>username</code>\u00a0is your AUCloud Portal user ID</li> <li><code>apiURL</code>\u00a0is your VMware Cloud Director API URL. This URL is different depending on the region in which your environment is located. For more information, see\u00a0API Management in the AUCloud Portal.</li> <li><code>computeServiceID</code>\u00a0is the ID of your AUCloud compute service (sometimes also called an org or vOrg)</li> <li><code>name</code>\u00a0is the name to display for the file in VMware Cloud Director</li> <li><code>catalogName</code>\u00a0is the Name\u00a0of the catalog to which you want to upload the file</li> </ul> <p>For example:</p> <p><code>ovftool -st=\"ISO\" \"C:\\temp\\Windows2008-new.iso\" \"vcloud://123.1@api.xxx.portal.australiacloud.com.au:443?org=xxx-1-23&amp;catalog=LK-catalog&amp;media=Windows_ISOv2\"</code></p> <p>TIP: Make sure you use double quotes (\") rather than single quotes (')</p> <p>Note</p> <p>Your computeServiceID can be found in your vOrg tile in VMware Cloud Director</p> <p></p> </li> <li> <p>When the\u00a0<code>ovftool</code>\u00a0command has finished, the source and target locations are listed and then you will be\u00a0prompted for your username and password. When you are authenticated, the upload process is initiated.</p> <p></p> </li> </ol>"},{"location":"Platform_Services/Compute/Working_with_Virtual_Machines/vmware_tools_installation/","title":"VMware Tools Installation","text":"<p>VMware provide tools which should be installed into any virtual machines running on VMware Cloud Director. The tools provide additional features such as automated customisation as well as improved performance by implementing optimised drivers such as storage, network and display.</p>"},{"location":"Platform_Services/Compute/Working_with_Virtual_Machines/vmware_tools_installation/#prerequisites","title":"Prerequisites","text":"<ul> <li>The VM must be powered on</li> <li>Guest OS has been installed on the VM</li> </ul>"},{"location":"Platform_Services/Compute/Working_with_Virtual_Machines/vmware_tools_installation/#windows","title":"Windows","text":"<ol> <li> <p>Browse to the virtual machine within the vApp.</p> </li> <li> <p>Identify the VM that requires VMware tools to be installed and click Actions &gt; Power &gt;\u00a0On.</p> </li> <li> <p>Once powered on, click the\u00a0Actions\u00a0drop down and select\u00a0Install VMware tools.</p> </li> <li> <p>Open the web console of the VM by clicking on Actions\u00a0- VM Console - Launch Web Console     If the grid view is enabled, click on the list bar\u00a0and select\u00a0VM Console &gt;\u00a0Launch Web Console</p> </li> <li> <p>Login to the operating system and follow the wizard to install the tools.</p> </li> <li> <p>Once the installation completed, eject the VMware Tools installer by right clicking the CD-ROM drive and select\u00a0Eject</p> </li> <li> <p>Restart the guest OS to ensure all the necessary features are updated</p> </li> </ol>"},{"location":"Platform_Services/Compute/Working_with_Virtual_Machines/vmware_tools_installation/#linux","title":"Linux","text":"<p>There are two methods of installing the VMware tools for Linux, from within VMware Cloud Director using the method above or installing the <code>open-vm-tools</code>, which are now supported by VMware. Not all distributions provide support for the <code>open-vm-tools</code> however the following well known distributions do:</p> <ul> <li>Centos 5/6/7</li> <li>Red Hat 5/6/7</li> <li>Ubuntu 12.04/14.04</li> </ul> <p>Installing the VMware tools via VMware Cloud Director requires modules to be built against the running kernel. If the kernel is updated the administrator needs to run the VMware tools setup again to recompile the modules.</p>"},{"location":"Platform_Services/Compute/Working_with_Virtual_Machines/vmware_tools_installation/#red-hatcentos-567","title":"Red Hat/Centos 5/6/7","text":"<p>The <code>open-vm-tools</code> is available via the <code>epel</code> repository.</p> <ol> <li> <p>Add <code>epel</code> repository.</p> <p><code>sudo yum install epel-release</code></p> <p>If the command above fails then you can run the following commands dependent on the version you are running:</p> <p>Red Hat/Centos 5</p> <p><code>wget http://dl.fedoraproject.org/pub/epel/5/x86_64/epel-release-5-4.noarch.rpm sudo rpm -Uvh epel-release-5*.rpm</code></p> <p>Red Hat/Centos 6</p> <p><code>wget http://dl.fedoraproject.org/pub/epel/6/x86_64/epel-release-6-8.noarch.rpm sudo rpm -Uvh epel-release-6*.rpm</code></p> <p>Red Hat/Centos 7</p> <p><code>wget http://dl.fedoraproject.org/pub/epel/7/x86_64/e/epel-release-7-5.noarch.rpm sudo rpm -Uvh epel-release-7*.rpm</code></p> </li> <li> <p>Install <code>open-vm-tools</code></p> </li> <li> <p>Once the installation completed, unmount CD-ROM (if any attached)</p> </li> <li> <p>Restart the guest OS to ensure all the necessary features are updated</p> </li> </ol>"},{"location":"Platform_Services/Compute/Working_with_Virtual_Machines/vmware_tools_installation/#ubuntu","title":"Ubuntu","text":"<ol> <li> <p>Install <code>open-vm-tools</code></p> <p><code>sudo apt-get install open-vm-tools</code></p> </li> <li> <p>Once the installation completed, unmount CD-ROM (if any attached)</p> </li> <li> <p>Restart the guest OS to ensure all the necessary features are updated</p> </li> </ol> <p>Warning</p> <p>It is recommended to unmount the VMware Tools Installer as soon as the installation completed. As failing to unmount VMware Tools installer, it will result failure in\u00a0migrating\u00a0the VM which is initiated by vSphere DRS to balance compute capacity on our backend Infrastructure.</p>"},{"location":"Platform_Services/Disaster_Recovery_and_Migration/","title":"Disaster Recovery and Migration","text":""},{"location":"Platform_Services/Disaster_Recovery_and_Migration/#overview","title":"Overview","text":"<p>Disaster Recovery as a Service (DRaaS) helps organisations recover from natural disasters, cyber attacks, or other catastrophic events. It involves storing copies of an organization's data, applications, and other critical resources in a secure offsite location, so that they can be accessed and used to resume normal operations if the primary location becomes unavailable.</p> <p>AUCloud uses VMware Cloud Director Availability. VMware Cloud Director Availability is a comprehensive solution that enables the movement of workloads between on-premises and cloud environments, as well as between different cloud environments. It can be used for on-boarding, migrating, and disaster recovery for multi-tenant cloud sites.</p>"},{"location":"Platform_Services/Disaster_Recovery_and_Migration/how_to_conduct_a_test_failover/","title":"How to conduct a test failover","text":""},{"location":"Platform_Services/Disaster_Recovery_and_Migration/how_to_conduct_a_test_failover/#overview","title":"Overview","text":"<p>With test failover tasks, you can verify whether the data from the source is replicated correctly on the target site. The replication Data is deleted once the Test Failover has been performed.</p> <p></p>"},{"location":"Platform_Services/Disaster_Recovery_and_Migration/how_to_conduct_a_test_failover/#conducting-the-test-failover","title":"Conducting the test failover","text":"<ol> <li> <p>In the VMware Cloud Director Availability Portal, either from the\u00a0Incoming Replications\u00a0or from the\u00a0Outgoing Replications\u00a0pane, select the protected vApp or VM that you want to test.</p> <p></p> </li> <li> <p>Click Test.</p> <p></p> </li> <li> <p>The Test Failover wizard opens.</p> <p></p> </li> <li> <p>On the\u00a0Recovery Settings\u00a0page, use the options to configure the test task and click\u00a0Next.</p> Option Action Power On recovered vApps Select this option, to power on the virtual machines on the destination site Network Settings <ul>Configure the network settings for the virtual machines:<li>Select the Apply preconfigured network settings on failover option, so that the network configured during the virtual machine replication is assigned.</li><li>Select the Connect all VMs to network option and select a network from the drop-down menu.</li></ul><p></p>The replicated virtual machine connects to the network that you selected. VDC compute and sizing policy Select any specific compute and sizing policies for your VDC VM placement or VDC VM sizing </li> <li> <p>On the Recovery Instance page, configure the recovery point in time and click\u00a0Next.</p> Option Description Synchronize all VMs to their current state Creates an instance of the powered on vApp with its latest changes and uses that instance for the Test Failover operation Manually select existing instance Allows you to select an instance without synchronizing the data for the recovered vApp </li> <li> <p>On the Ready to Complete page, review your selected settings and click\u00a0Finish\u00a0to initiate the Test Failover task.</p> <p></p> </li> <li> <p>You can monitor the progress in the\u00a0Replications Task\u00a0pane.</p> <p></p> </li> </ol>"},{"location":"Platform_Services/Disaster_Recovery_and_Migration/how_to_conduct_a_test_failover/#conducting-the-test-cleanup","title":"Conducting the Test Cleanup","text":"<p>You can conduct the test cleanup from the\u00a0Incoming Replications\u00a0or the\u00a0Outgoing Replications\u00a0pane.</p> <ol> <li> <p>Select the required vApp or VM, and click on All Actions. From the drop-down menu, select Test Cleanup</p> <p></p> </li> <li> <p>Click\u00a0CLEANUP</p> <p></p> </li> </ol>"},{"location":"Platform_Services/Disaster_Recovery_and_Migration/how_to_conduct_a_test_failover/#deleting-replications","title":"Deleting Replications","text":"<ol> <li> <p>You can remove the replication by selecting the vApp or VM and clicking\u00a0Delete.</p> <p></p> </li> <li> <p>Confirm you wish to delete the selected replication by clicking\u00a0DELETE</p> <p></p> </li> </ol>"},{"location":"Platform_Services/Disaster_Recovery_and_Migration/how_to_configure_a_new_migration_or_replication/","title":"How to configure a new migration","text":""},{"location":"Platform_Services/Disaster_Recovery_and_Migration/how_to_configure_a_new_migration_or_replication/#overview","title":"Overview","text":"<p>To protect a vApp or a virtual machine from one organisation to another, you configure a replication by using VMware Cloud Director Availability.</p> <p>To migrate the workload of a vApp or a virtual machine to a remote organisation, and run your operations from the remote organisation, you configure a migration by using the portal.</p> <p>When you configure a protection, you set the Recovery Point Objective (RPO) to determine the maximum data loss that you can tolerate. For example, an RPO of 1 hour seeks to ensure that a virtual machine loses the data for no more than 1 hour during the recovery. For smaller RPO values, less data is lost in a recovery, but more network bandwidth is consumed keeping the replica up to date.</p> <p>Note</p> <p>When you configure a migration, the default RPO is set to 24 hours.</p> <p>When a virtual machine reaches its RPO target, the VMware Cloud Director Availability Replicator records approximately 3800 bytes of data in the vCenter Server events database. If you set a low RPO value, it creates a large volume of data in the database. To reduce the volume of data that is kept in the vCenter Server events database, limit the number of days that vCenter Server retains event data. Alternatively, set a higher RPO value.</p>"},{"location":"Platform_Services/Disaster_Recovery_and_Migration/how_to_configure_a_new_migration_or_replication/#configure-a-new-migration","title":"Configure a New Migration","text":"<p>You can configure for a virtual machine or a vApp to be migrated to a destination site. After successful failover of the migration to the destination site, you can power on the source virtual machine on the destination site.</p> <ol> <li> <p>From the side menu in your Availability service in the AUCloud Portal, select either Incoming Replication or Outgoing Replication.</p> <p></p> </li> <li> <p>Click the Migration symbol.</p> <p></p> </li> <li> <p>You will be prompted for your VMware Cloud Availability credentials for the source (incoming replication) or destination (outgoing replication) data centre. Enter your vCav credentials and click LOGIN</p> <p></p> </li> <li> <p>The\u00a0New Migration\u00a0wizard appears.</p> </li> <li> <p>Select the Source site (incoming replication) or Destination site (outgoing replication).</p> <p></p> </li> <li> <p>Select whether you would like to explore vApps or VMs, then select the vApp/VMs that you would like to protect and click\u00a0Next.</p> <p> </p> </li> <li> <p>Select the target VDC as well as the storage policy\u00a0and click\u00a0Next.</p> <p></p> </li> <li> <p>You\u00a0can also use additional settings related to your Migration, as per the image below.</p> <p></p> </li> <li> <p>Review the setting in Ready to Complete and click Finish to proceed with the migration.</p> <p> </p> </li> <li> <p>Your vApp/vm will then appear in the incoming or outgoing replications tabs (depending on which you select) and will be ready for failover or test failover.</p> <p></p> </li> </ol>"},{"location":"Platform_Services/Disaster_Recovery_and_Migration/how_to_configure_a_new_protection/","title":"How to configure a new protection","text":""},{"location":"Platform_Services/Disaster_Recovery_and_Migration/how_to_configure_a_new_protection/#overview","title":"Overview","text":"<p>You can configure for a Virtual Machine or a Virtual Application to be protected to a destination site. After successful failover of the migration to the destination site, you can power on the source virtual machine on the destination site.</p>"},{"location":"Platform_Services/Disaster_Recovery_and_Migration/how_to_configure_a_new_protection/#configure-a-new-protection","title":"Configure a New Protection","text":"<ol> <li> <p>Depending on what type of replication you would like to perform, select either\u00a0Incoming Replications\u00a0or Outgoing Replications.</p> <p></p> </li> <li> <p>Click\u00a0New Protection.</p> <p></p> </li> <li> <p>When the\u00a0New Replication\u00a0wizard appears, select the Source site (incoming replication) or Destination site (outgoing replication), then choose whether you would like to explore vApps or VMs. Choose the vApps/VMs that you would like to protect, and then click Next.</p> <p></p> </li> <li> <p>Select the\u00a0Destination VDC\u00a0and\u00a0Storage Policy and then click Next.</p> <p></p> </li> <li> <p>On the\u00a0Settings\u00a0page, set the following and then click Next:</p> <ul> <li>Target Recovery Point Objective (RPO).</li> <li>Retention policy for point in time instances.</li> <li>Enable or disable quiescing. </li> <li>Enable or disable compression of replication traffic</li> <li>Enable or disable delaying the start of synchronization</li> </ul> <p>Note</p> <p>Quiescing cannot be enabled when back-up is also enabled, VMware KB81059</p> <p></p> </li> <li> <p>On the\u00a0Ready to complete\u00a0page, review the replication settings, and click\u00a0Finish.</p> <p></p> </li> </ol>"},{"location":"Platform_Services/Disaster_Recovery_and_Migration/how_to_configure_the_network_settings_of_a_replication/","title":"How to configure the network settings of a replication","text":""},{"location":"Platform_Services/Disaster_Recovery_and_Migration/how_to_configure_the_network_settings_of_a_replication/#overview","title":"Overview","text":"<p>To apply network settings to the target vApp or virtual machine after a migration, failover, or a test failover, for on-premises to cloud replications, or for cloud to cloud replications you configure the network settings. </p>"},{"location":"Platform_Services/Disaster_Recovery_and_Migration/how_to_configure_the_network_settings_of_a_replication/#configure-the-network-settings-of-a-replication","title":"Configure the network settings of a replication","text":"<ol> <li> <p>Under Incoming Replications or Outgoing Replications, select a replication for which you want to configure the network settings.</p> <p> </p> </li> <li> <p>Click\u00a0Network Settings.</p> <p></p> </li> <li> <p>The\u00a0Network Settings\u00a0window opens.</p> <p> </p> </li> <li> <p>For the selected replication, configure the following network settings:</p> Option VMs VMs Shows you the name of the virtual machine in the selected replication MAC Address Shows you the MAC address for each network card (NIC) in each virtual machine in the selected replication Reset MAC Allows you to reset the selected MAC address for each NIC in each vApp and in each virtual machine in the target site Connected Allows you to control whether each NIC in each vApp and in each virtual machine is connected to the target site network Connect to network Select a network in the target site to which to connect the vApp or virtual machine Primary NIC If the source virtual machine is configured with multiple NICs, you must specify the primary NIC IP Mode <ul><li>Mixed - If the virtual machine is configured with multiple NICs, and their network configuration is different, the selected replication shows you this state</li><li>Static - IP Pool - If the connected network is configured with an IP Pool, the selected replication obtains the IP Address from the IP Pool</li><li>DHCP - If the connected network is configured with a DHCP server, the selected replication obtains the IP address from that DHCP server</li><li>Static - Manual - Allows you to assign a static IP address to the selected replication</li><li>Keep - Depends on the virtual machine presence in the target site:</li><ul><li>If the selected replication in the target site there is no existing virtual machine, after migration, failover, or test failover, the target virtual machine is created without network settings configuration</li><li>If for the selected replication in the target site there is an existing virtual machine (a seed virtual machine), after migration, failover, or test failover, in the target virtual machine for that NIC the network settings do not change</li></ul></ul> IP Address If from the IP Mode drop-down menu you select Static - Manual, you can assign a static IPv4 address to the corresponding NIC </li> <li> <p>For the selected replication, apply the network settings by clicking\u00a0Apply.</p> </li> </ol>"},{"location":"Platform_Services/Disaster_Recovery_and_Migration/how_to_perform_a_failover_task/","title":"How to perform a failover task","text":""},{"location":"Platform_Services/Disaster_Recovery_and_Migration/how_to_perform_a_failover_task/#overview","title":"Overview","text":"<p>You perform a disaster recovery operation of a Virtual Machine to the Target site\u00a0if the protected source is unavailable.  </p>"},{"location":"Platform_Services/Disaster_Recovery_and_Migration/how_to_perform_a_failover_task/#prerequisites","title":"Prerequisites","text":"<p>Verify that the vApp containing the Virtual Machine is protected on your destination site.  </p>"},{"location":"Platform_Services/Disaster_Recovery_and_Migration/how_to_perform_a_failover_task/#performing-a-failover-task","title":"Performing a failover task","text":"<ol> <li> <p>In VMware Cloud Director Availability Portal, either from the\u00a0Incoming Replications\u00a0or from the\u00a0Outgoing Replications\u00a0pane, select the virtual machine that you wish to failover, click\u00a0All Actions and then\u00a0click\u00a0Failover. If you are prompted to enter your availability service account credentials for the incoming/outgoing site, do so. The Failover\u00a0wizard opens.</p> </li> <li> <p>In the Recovery Settings tab, use the options to configure the task and click\u00a0Next.</p> Option Descriptions Consolidate VM Disks When enabled, the failover operation takes longer to complete but allows for a better performance of the recovered VM Power on recovered vApps Select this option, to power on the virtual machine on the destination site Network settings <ul><li>Select the Apply preconfigured network settings on failover option, so that the network configured during the virtual machine replication is assigned</li><li>Select the Connect all VMs to network option and select a network from the drop-down menu</li></ul><p></p>The replicated virtual machine connects to the network that you selected VDC compute and sizing policy Select any specific compute and sizing policies for your VDC VM placement or VDC VM sizing </li> <li> <p>On the Recovery Instance page, configure the recovery point in time and click Next.</p> </li> <li> <p>On the Ready to Complete page, review your selected settings click Finish to initiate the Failover task. You can monitor the progress of the task either in the Incoming Replications or the Outgoing Replications pane.</p> <ul> <li>The failed over vApp is running on your destination site. The vApp is no longer protected upon the task completion.</li> </ul> </li> <li> <p>What to do next: You can reverse the vApp back to your source site environment or delete the vApp replication. If you delete the replication, it is no longer protected by the solution, and disappears from the vApps list.</p> </li> </ol>"},{"location":"Platform_Services/Disaster_Recovery_and_Migration/how_to_perform_a_reverse_task/","title":"How to perform a reverse task","text":""},{"location":"Platform_Services/Disaster_Recovery_and_Migration/how_to_perform_a_reverse_task/#prerequisites","title":"Prerequisites","text":"<p>Verify that you have performed a Failover task to the vApp before starting the Reverse task. </p>"},{"location":"Platform_Services/Disaster_Recovery_and_Migration/how_to_perform_a_reverse_task/#performing-a-reverse-task","title":"Performing a reverse task","text":"<ol> <li> <p>In the VMware Cloud Director Availability Portal, select the vApp that you want to reverse either from the Incoming Replications or from the Outgoing Replications page, then click All Actions and select Reverse. </p> </li> <li> <p>Enter your availability service account credentials if prompted.</p> </li> <li> <p>A Reverse pop-up window displays. Select Reverse to confirm the reverse operation, or Cancel to cancel the reverse operation.</p> </li> <li> <p>You can monitor the progress of the task in the Replication Tasks pane.</p> </li> </ol>"},{"location":"Platform_Services/Disaster_Recovery_and_Migration/how_to_perform_a_reverse_task/#results","title":"Results","text":"<p>After the reverse task completes, the reversed replication overwrites the source vApp or virtual machine. The virtual machine now runs on the primary destination site with a workload protection at your primary source site.  \u00a0</p>"},{"location":"Platform_Services/Disaster_Recovery_and_Migration/how_to_perform_a_reverse_task/#next-steps","title":"Next Steps","text":"<p>To run the workload from the original source site, perform a\u00a0Failover\u00a0back to the source site, test failover, pause the reversed replication, and edit the configuration, or migrate the vApp.</p>"},{"location":"Platform_Services/Disaster_Recovery_and_Migration/installing_and_configuring_vcav_on_premise/","title":"Installing and configuring vCAV on premise","text":""},{"location":"Platform_Services/Disaster_Recovery_and_Migration/installing_and_configuring_vcav_on_premise/#overview","title":"Overview","text":"<p>After deploying and setting up a service provider cloud site, you install and configure a VMware Cloud Director Availability\u00a0appliance on-premises to enable the replication and the failover capabilities from the on-premises\u00a0vCenter Server\u00a0to the cloud and reverse.  </p>"},{"location":"Platform_Services/Disaster_Recovery_and_Migration/installing_and_configuring_vcav_on_premise/#vmware-cloud-director-availability-on-premises-network-requirements","title":"VMware Cloud Director Availability On-Premises Network Requirements","text":"<p>Before you start deploying and configuring the VMware Cloud Director Availability\u00a0on-premises appliance, ensure that the required network ports are opened and allow the communication within the on-premises site and the cloud site.</p>"},{"location":"Platform_Services/Disaster_Recovery_and_Migration/installing_and_configuring_vcav_on_premise/#network-ports-configuration","title":"Network Ports Configuration","text":"<p>The following diagram shows the direction of the data flow, the data traffic type, and the required network ports for the communication between the\u00a0VMware Cloud Director Availability\u00a0on-premises appliance and the disaster recovery infrastructure.</p> <p></p>"},{"location":"Platform_Services/Disaster_Recovery_and_Migration/installing_and_configuring_vcav_on_premise/#firewall-rules-for-the-on-premises-site-communication","title":"Firewall Rules for the On-Premises Site Communication","text":"<p>The following table lists the required network ports to be opened for the\u00a0VMware Cloud Director Availability\u00a0on-premises appliance communication in the-premises site:</p> Source Destination Port Protocol Description Browser login session VMware Cloud Availability On-Premises Appliance(s) 443 TCP Used for browser logins to the on-premises appliance VMware Cloud Availability On-Premises Appliance(s) Firewall 443 TCP Used for communication to the cloud site vCenter Server 443 TCP Used for communication to the vCenter Server Platform Services Controller 443 TCP Used for single sign-on login to the appliance and for vCenter Server Lookup service communication ESXi Hosts 902 TCP Used for Transferring replication data from the on-premises appliance to the ESXi hosts UDP 80 TCP Used for transferring replication data for the ESXi hosts to the on premises appliance ESXi Hosts VMware Cloud Availability On-Premises Appliance(s) 44046 TCP -"},{"location":"Platform_Services/Disaster_Recovery_and_Migration/installing_and_configuring_vcav_on_premise/#deployment-requirements","title":"Deployment Requirements","text":"<p>An\u00a0ESXi\u00a0host can handle the replication traffic through its management VMkernel interface. You can separate the management traffic from the replication traffic by creating a dedicated replication VMkernel interface. Use the following tags when you create a VMkernel interface for the replication traffic.</p> <ul> <li>vSphere Replication\u00a0- Use this tag to configure the\u00a0ESXi\u00a0host for the outgoing replication traffic.</li> <li>vSphere Replication NFC\u00a0- Use this tag to configure the\u00a0ESXi\u00a0host for the incoming replication traffic.</li> </ul> <p>You configure the replication VMkernel interface in its own IP subnet and connect the VMware Cloud Director Availability\u00a0on-premises appliance to the same virtual port group. With this configuration, the replication traffic between the\u00a0ESXi\u00a0hosts and the\u00a0VMware Cloud Director Availability Replicator\u00a0instances stays in the same broadcast domain. As a result, the replication traffic does not cross a router uncompressed and saves the bandwidth.</p> <p>the VMware Cloud Director Availability\u00a0on-premises appliance services perform a host name certificate verification. In the\u00a0VMware Cloud Director\u00a0certificate, the\u00a0CommonName\u00a0or at least one of the entries in the\u00a0Subject Alternative Name\u00a0must match the\u00a0VMware Cloud Director\u00a0FQDN or IP that you use when registering\u00a0VMware Cloud Director.</p>"},{"location":"Platform_Services/Disaster_Recovery_and_Migration/installing_and_configuring_vcav_on_premise/#deploy-an-on-premises-vmware-cloud-director-availability-appliance-by-using-the-vsphere-client","title":"Deploy an On-Premises VMware Cloud Director Availability Appliance by Using the vSphere Client","text":"<p>In the\u00a0vSphere Client, you can deploy an on-premises\u00a0VMware Cloud Director Availability\u00a0appliance by using a single\u00a0OVA\u00a0file.</p> <ol> <li> <p>Log in to your vCenter Server by using the\u00a0vSphere Client.</p> </li> <li> <p>Navigate to a target object where you want to deploy the on-premises\u00a0VMware Cloud Director Availability\u00a0appliance.  </p> <p>Note</p> <p>As a target object you can use a data center, a folder, a cluster, a resource pool, or a host.</p> </li> <li> <p>Right-click the target object and from the drop-down menu select\u00a0Deploy OVF Template. \u00a0 \u00a0 (The\u00a0Deploy OVF Template\u00a0wizard opens.)</p> </li> <li> <p>On the\u00a0Select an OVF template\u00a0page, browse to the\u00a0<code>VMware-vCloud-Availability-OnPrem-release\\_number-xxx-build\\_number\\_OVF10.ova</code>\u00a0file location and click\u00a0Next.</p> </li> <li> <p>On the\u00a0Select a name and folder\u00a0page, enter a name for the on-premises appliance, select a deployment location, and click\u00a0Next.</p> </li> <li> <p>On the\u00a0Select a compute resource\u00a0page, select a host, or cluster as a compute resource to run the appliance on, and click\u00a0Next.</p> </li> <li> <p>On the\u00a0Review details\u00a0page, verify the\u00a0OVF\u00a0template details and click\u00a0Next.</p> </li> <li> <p>On the\u00a0License agreements\u00a0page, select the\u00a0I accept all license agreements\u00a0check box and click\u00a0Next.</p> </li> <li> <p>On the\u00a0Select storage\u00a0page, select the virtual disk format and the storage policy for the appliance and click\u00a0Next.</p> </li> <li> <p>On the\u00a0Select networks\u00a0page, optionally configure the network settings, then click\u00a0Next.</p> </li> <li> <p>On the\u00a0Customize template\u00a0page, customize the deployment properties of the on-premises appliance and click\u00a0Next.</p> <ol> <li> <p>Enter and confirm the initial password for the appliance\u00a0root\u00a0user.     You must change the initial\u00a0root\u00a0user password when you log in for the first time.</p> </li> <li> <p>(Required)\u00a0Select the\u00a0Enable SSH\u00a0check box.</p> </li> <li> <p>In the\u00a0NTP Server\u00a0section, enter the NTP server address for the appliance to use.</p> <p>Warning</p> <p>Ensure that vCenter Server, ESXi, VMware Cloud Director, Platform Services Controller, and the VMware Cloud Director Availability appliance all use the same NTP server.</p> </li> </ol> </li> <li> <p>On the\u00a0Ready to complete\u00a0page, review the settings, optionally select\u00a0Power on after deployment\u00a0and to begin the\u00a0OVA\u00a0installation process, click\u00a0Finish.</p> </li> <li> <p>The Recent tasks pane shows a new task for initialising the OVA deployment. After the task is\u00a0complete, the new appliance is created on the selected resource.</p> </li> </ol>"},{"location":"Platform_Services/Disaster_Recovery_and_Migration/installing_and_configuring_vcav_on_premise/#deploy-an-on-premises-vmware-cloud-director-availability-appliance-by-using-the-ovf-tool","title":"Deploy an On-Premises VMware Cloud Director Availability Appliance by Using the OVF Tool","text":"<p>In the OVF Tool console, you can deploy an on-premises VMware Cloud Director Availability appliance by using a single OVA file. You define deployment parameters in the OVF Tool console and run the deployment script.</p> <ol> <li> <p>Log in to a server where the OVF Tool is running, by using a Secure Shell (SSH) client.</p> </li> <li> <p>Define deployment parameters in the OVF Tool console by running the following commands.</p> <pre><code># VMNAME=\"Name-to-be-Assigned-to-the-VM\"\n# VSPHERE_DATASTORE=\"vSphere-datastore\"\n# VSPHERE_NETWORK=\"VM-Network\"\n# OVA=\"local_client_path/VMware-vCloud-Availability-OnPrem-release_number-xxx-build_number_OVF10.ova\"\n# VSPHERE_USER=\"vCenter-Server-admin-user\"\n# VSPHERE_USER_PASSWORD=\"vCenter-Server-admin-user-password\"\n# VSPHERE_ADDRESS=\"vCenter-Server-IP-address\"\n# VSPHERE_LOCATOR=\"vSphere-locator\"\n</code></pre> </li> <li> <p>Deploy an on-premises VMware Cloud Director Availability appliance.</p> <p>The following example script deploys a\u00a0VMware Cloud Director Availability\u00a0appliance on-premises and sets a static IP address.</p> <pre><code># echo $VMNAME\n#./ovftool/ovftool --name=\"${VMNAME}\" --datastore=\"${VSPHERE_DATASTORE}\" --acceptAllEulas --powerOn --X:enableHiddenProperties --X:injectOvfEnv --X:waitForIp --ipAllocationPolicy=fixedPolicy --machineOutput --noSSLVerify --overwrite --powerOffTarget \"--net:VM Network=${VSPHERE_NETWORK}\" --diskMode=thin --prop:guestinfo.cis.appliance.root.password='Your-Root-Password' --prop:guestinfo.cis.appliance.ssh.enabled=True --prop:guestinfo.cis.appliance.net.ntp='Your-ntp-server-ip-address' --prop:vami.DNS.VMware_vCloud_Availability='Your-DNS-Server-Address' --prop:vami.domain.VMware_vCloud_Availability='Your-Domain-Name' --prop:vami.gateway.VMware_vCloud_Availability='Your-Gateway-IP-Address' --prop:vami.ip0.VMware_vCloud_Availability='IP-to-be-Assigned-to-the-Appliance' --prop:vami.netmask0.VMware_vCloud_Availability='Your-Netmask-Address' --prop:vami.searchpath.VMware_vCloud_Availability='Your-Search-Path-Address' \"${OVA}\" \"vi://${VSPHERE_USER}:${VSPHERE_USER_PASSWORD}@${VSPHERE_ADDRESS}${VSPHERE_LOCATOR}\"\n</code></pre> </li> </ol> <p>The console outputs the IP address of the VMware Cloud Director Availability appliance.  </p>"},{"location":"Platform_Services/Disaster_Recovery_and_Migration/installing_and_configuring_vcav_on_premise/#configure-the-on-premises-vmware-cloud-director-availability-appliance","title":"Configure the On-Premises VMware Cloud Director Availability Appliance","text":"<p>To configure the on-premises appliance, you change the initial\u00a0root\u00a0user password that you set during the OVA deployment and register the on-premises appliance with a\u00a0vCenter Server Lookup service.</p> <ol> <li> <p>In a Web browser, navigate to\u00a0https://On-Prem-Appliance-IP-address/ui/admin.</p> </li> <li> <p>Log in by using the\u00a0root\u00a0user password that you set during the OVA deployment. \u00a0 \u00a0 (The\u00a0Appliance Password\u00a0window opens.)</p> </li> <li> <p>Change the initial\u00a0root\u00a0user password.</p> <ol> <li> <p>Enter the initial\u00a0root\u00a0user password set during the OVA deployment.</p> </li> <li> <p>Enter and confirm a new password.     Create a secured password with a minimum of eight characters and containing at least one of each of the following characters:  </p> <ul> <li>Lowercase: a b c  </li> <li>Uppercase: A B C  </li> <li>Numeric: 1 2 3  </li> <li>Special: &amp; # %</li> </ul> </li> <li> <p>Click\u00a0Apply. \u00a0 \u00a0 \u00a0 \u00a0\u00a0The\u00a0Getting Started\u00a0tab opens.</p> </li> </ol> </li> <li> <p>Click\u00a0Run initial setup wizard.     (The\u00a0Initial Setup\u00a0wizard opens.)</p> </li> <li> <p>On the\u00a0Site Details\u00a0page, enter a\u00a0Site Name, optionally enter a\u00a0Site Description, and click\u00a0Next.</p> </li> <li> <p>On the\u00a0Lookup service details\u00a0page, enter\u00a0lookup-service-IP-address,\u00a0single sign-on\u00a0user credentials, and click\u00a0Next.</p> </li> <li> <p>Accept the SSL certificate of the\u00a0vCenter Server Lookup service\u00a0and click\u00a0Next.</p> </li> <li> <p>On the\u00a0Cloud Details\u00a0page, pair the on-premises\u00a0VMware Cloud Director Availability\u00a0appliance and the cloud organization.</p> <ol> <li> <p>Enter the\u00a0VMware Cloud Director Availability Public API endpoint\u00a0address.</p> </li> <li> <p>Enter the\u00a0VMware Cloud Director\u00a0user@org\u00a0user credentials.</p> </li> <li> <p>(Optional)\u00a0Select\u00a0Allow Access from Cloud. By selecting this option you allow the cloud provider and the organization administrators to perform the following operations from the\u00a0VMware Cloud Director Availability Portal\u00a0without authenticating to the on-premises site.</p> <ul> <li>Discover on-premises workloads and replicate them to the cloud.  </li> <li>Reverse existing replications to the on-premises site.</li> <li>Replicate cloud workloads to the on-premises site. By leaving this option deselected, only users authenticated to the on-premises VMware Cloud Director Availability Portal\u00a0can configure new replications and existing replications cannot be reversed from the VMware Cloud Director Availability Portal.</li> </ul> </li> <li> <p>Accept the SSL certificate of the\u00a0VMware Cloud Director Availability Public API endpoint\u00a0and click\u00a0Next.</p> </li> </ol> </li> <li> <p>You can optionally join the\u00a0VMware Customer Experience Improvement Program, confirm your choice, and click\u00a0Next.</p> </li> <li> <p>On the\u00a0Ready to complete\u00a0page, optionally select to configure local placement and complete the initial setup wizard by clicking\u00a0Finish.</p> <ol> <li>You can configure data center to cloud replications, by leaving\u00a0Configure local placement now\u00a0deselected.  </li> <li>To enable cloud to data center replications, select\u00a0Configure local placement now.  </li> </ol> <p>Note</p> <p>For more information, see\u00a0Configure Local Placement.</p> </li> <li> <p>The on-premises\u00a0VMware Cloud Director Availability\u00a0appliance is configured and after you log in to the\u00a0VMware Cloud Director Availability vApp Replication Manager\u00a0appliance and navigate toSites, you can see both cloud and on-premises sites available.  </p> </li> </ol>"},{"location":"Platform_Services/Disaster_Recovery_and_Migration/installing_and_configuring_vcav_on_premise/#what-to-do-next","title":"What to do next","text":"<p>If you skipped configuring local placement in the initial wizard, you can do that next.</p>"},{"location":"Platform_Services/Disaster_Recovery_and_Migration/vcd_availability_aucloud_sites/","title":"AUCloud Sites connected via VCDA","text":""},{"location":"Platform_Services/Disaster_Recovery_and_Migration/vcd_availability_aucloud_sites/#overview","title":"Overview","text":"<p>VMware VMware Cloud Director Availability (VCDA) is configured in all AUCloud Sovereignty Zones.  This article outlines details for each VCDA instance and what zones (ie peer sites) are connected.</p>"},{"location":"Platform_Services/Disaster_Recovery_and_Migration/vcd_availability_aucloud_sites/#aucloud-site-to-site-connections","title":"AUCloud site-to-site connections","text":"Sovereignty Zone City Community Environment VCDA Site Name Connected Peer Site(s) AUCloud CSZ Canberra OFFICIAL AUC_CDC_Fysh1-UP-Prod-01 AUC_CDC_ECrk1-UP-Prod-01 AUCloud CSZ Canberra PROTECTED AUC_CDC_Fysh1-PP-Prod-01 AUC_CDC_ECrk1-PP-Prod-01 AUCloud SSZ Sydney OFFICIAL AUC_CDC_ECrk1-UP-Prod-01 AUC_CDC_Fysh1-UP-Prod-01, AUC-NDC-Brisbane AUCloud SSZ Sydney PROTECTED AUC_CDC_ECrk1-PP-Prod-01 AUC_CDC_Fysh1-PP-Prod-01 AUCloud BSZ Brisbane ENTERPRISE AUC-NDC-Brisbane AUC_CDC_ECrk1-UP-Prod-01"},{"location":"Platform_Services/Disaster_Recovery_and_Migration/vcd_availability_quick_start_guide/","title":"VMware Cloud Director Availability Quick Start Guide","text":""},{"location":"Platform_Services/Disaster_Recovery_and_Migration/vcd_availability_quick_start_guide/#overview","title":"Overview","text":"<p>VMware VMware Cloud Director Availability 3.0 (vCAV) is a single interface for\u00a0workload migration,\u00a0cloud-to-cloud disaster recovery, and\u00a0on-premises disaster recovery. VMware Cloud Director availability is a Disaster Recovery-as-a-Service (DRaaS) solution.</p>"},{"location":"Platform_Services/Disaster_Recovery_and_Migration/vcd_availability_quick_start_guide/#how-vmware-cloud-director-availability-works","title":"How VMware Cloud Director Availability Works","text":"<p>vCAV\u00a0is a single appliance that deploys all the services required to operate between an on-premises and the AUCloud environment. It integrates into the on-premises vCenter and connects to the VMware Cloud Director environment and corresponding vCAV appliance through a tunnel node. It provides three core functionalities:</p> <ul> <li>Migrating\u00a0virtual machines\u00a0from and to your on-premises vCenter.</li> <li>Protect on-site virtual machines to the VMware Cloud Director environment.</li> <li>Protect workloads on your VMware Cloud Director environment by replicating them to your on-prem environment.</li> </ul> <p>All of this is managed through a single interface, VMware Cloud Director Availability 3.0.</p>"},{"location":"Platform_Services/Disaster_Recovery_and_Migration/vcd_availability_quick_start_guide/#vmware-cloud-director-availability-tenant-requirements","title":"VMware Cloud Director Availability - Tenant Requirements","text":"<p>The following table lists the Firewall rules required to enable replication from the replication source to AUCloud.</p> Source Destination Port Protocol Description Browser login session VMware Cloud Availability On-Premises Appliance(s) 443 TCP Used for browser logins to the on-premises appliance VMware Cloud Availability On-Premises Appliance(s) Firewall 443 TCP Used for communication to the cloud site vCenter Server 443 TCP Used for communication to the vCenter Server Platform Services Controller 443 TCP Used for single sign-on login to the appliance and for vCenter Server Lookup service communication ESXi Hosts 902 TCP Used for Transferring replication data from the on-premises appliance to the ESXi hosts UDP 80 TCP Used for transferring replication data for the ESXi hosts to the on premises appliance <p>No network changes are required on the client side. You initiate all traffic from the on-premises site, meaning all traffic flows outbound. Thus, the interface does not require a DNAT rule for tunnel traffic. A regular SNAT is enough.</p>"},{"location":"Platform_Services/Disaster_Recovery_and_Migration/vcd_availability_quick_start_guide/#tenant-deployment-process","title":"Tenant Deployment Process","text":"<ol> <li> <p>Deploy vCAV On-Premises Appliance</p> </li> <li> <p>Complete the vCAV Configuration Wizard</p> </li> <li> <p>Configure Protection Replication</p> </li> </ol>"},{"location":"Platform_Services/Disaster_Recovery_and_Migration/vcd_availability_quick_start_guide/#deploy-vcav-on-premises-appliance-using-vsphere-client","title":"Deploy vCAV On-Premises Appliance Using vSphere Client","text":"<p>The tenant deployment process is like all typical VMware OVF deployments. The tenant must install the\u00a0VMware Cloud Director Availability On-Premises Appliance OVA\u00a0into the\u00a0vCenter\u00a0they would like to replicate to and/or from. Once deployed, the on-premises appliance is a single vApp that has three roles:</p> <ul> <li>Replication Engine.\u00a0Replicates a backup.</li> <li>Tunnel Node.\u00a0This will connect your on-prem vCenter directly with the VMware Cloud Director environment.</li> <li>User Interface (UI).\u00a0Once you finish the configuration wizard, the UI plugin will be loaded into your vCenter on-prem environment.</li> </ul> <p>Prior to deploying the appliance, AUCloud will provide you with three pieces of information:</p> <ul> <li>The tunnel endpoint</li> <li>Account credentials</li> <li>Organization name</li> </ul>"},{"location":"Platform_Services/Disaster_Recovery_and_Migration/vcd_availability_quick_start_guide/#steps-to-deploy","title":"Steps to Deploy","text":"<ol> <li> <p>Go\u00a0to\u00a0VMware and download the OVA. The file contains all binaries for the VMware Cloud Director Availability appliance.</p> </li> <li> <p>Once downloaded, log into your\u00a0vSphere Client.</p> </li> <li> <p>Navigate to the resource where you plan to deploy the vCAV appliance. The resource can be a data centre, cluster, folder, host, or a resource pool.</p> </li> <li> <p>Right-click on the resource and select\u00a0Deploy OVF template\u00a0from the drop-down menu. The deployment wizard has\u00a0nine\u00a0steps.</p> </li> <li> <p>Select an OVF template.\u00a0Opt\u00a0to install from a local file. Browse to the location of the previously downloaded OVA. Select the vCAV OVA file and click\u00a0Next.</p> </li> <li> <p>Select a name and folder.\u00a0Type in your desired virtual machine (appliance) name. Next, select a location for your virtual machine.</p> </li> <li> <p>Select a compute resource.\u00a0Choose a host or a cluster the appliance will run on. Click\u00a0Next\u00a0and wait for the system to validate. Whenever replicating VMs to the on-prem environment, vCAV will be using the resource you select now.</p> </li> <li> <p>Review details.\u00a0This is a chance for you to evaluate and verify the template.</p> </li> </ol> <p></p> <ol> <li> <p>License agreement. Check the I accept all license agreements checkbox and click Next.</p> </li> <li> <p>Configuration. In this case, you are deploying an on-premises appliance. Thus, make sure you select the On-Prem Appliance option.</p> </li> <li> <p>Select storage. Configure optional storage options for the deployment.</p> </li> <li> <p>Select networks. Choose a destination network for every individual source network.</p> </li> <li> <p>Customize template. During this step of the wizard, customize the deployment.</p> </li> <li> <p>Root Password.\u00a0Defining a root password is mandatory. However, you will need to change it when you log in to vCAV for the first time. You do not need to define a very strong password at this point.</p> </li> <li>Enable SSH.\u00a0Select the\u00a0Enable SSH\u00a0checkbox (mandatory)</li> <li> <p>NTP Server.\u00a0Enter the\u00a0NTP server address\u00a0the vCAV appliance will use. vCenter Server, ESXi, VMware Cloud Director, Platform Services Controller, and the VMware Cloud Director Availability appliance\u00a0MUST\u00a0all use the same NTP server.</p> <p></p> </li> </ol> <p>1.\u00a0Ready to complete.\u00a0Review the settings. Optionally, select to\u00a0Power on after deployment.\u00a0Click\u00a0Finish\u00a0to deploy the appliance.</p> <p>1.\u00a0Track the progress of the deployment under\u00a0Recent Tasks\u00a0at the bottom of your screen.</p>"},{"location":"Platform_Services/Disaster_Recovery_and_Migration/vcd_availability_quick_start_guide/#complete-vcav-configuration-wizard","title":"Complete vCAV Configuration Wizard","text":"<p>The appliance is deployed now. However, you still need to\u00a0configure vCAV:</p> <ol> <li>Log in to your vCAV appliance at\u00a0<code>https://your-appliance-IP/ui/admin</code>. Use the root password defined during OVA deployment.</li> </ol> <p>1.\u00a0Change the root password. Set and confirm a new password. Create a strong password with at least eight (8) characters. Make sure to use lowercase, uppercase, numeric, and special characters.</p> <ol> <li> <p>To get started, you need to configure a\u00a0Lookup Service\u00a0endpoint. To do so, select\u00a0Run Initial Setup Wizard.</p> </li> <li> <p>Once the\u00a0Initial Setup\u00a0window opens, start with the first page in the navigation pane.</p> </li> </ol> <p>1.\u00a0Site Details. In it, type your\u00a0Site Name\u00a0and optionally a short\u00a0Description\u00a0about the site. Click\u00a0Next.</p> <p></p> <p>1.\u00a0In the\u00a0Lookup Service\u00a0tab, enter your connection details to set up the lookup service along with SSO admin credentials.</p> <ul> <li>Lookup service address.\u00a0Enter your Replication Source lookup service address. For example: <code>https://{servername}:443/lookupservice/sdk</code></li> <li>Enter SSO admin account credentials in the\u00a0Username\u00a0and\u00a0Password\u00a0field</li> </ul> <p></p> <p>1.\u00a0Click\u00a0Next\u00a0and accept the SSL certificate of the vCenter Server Lookup to continue.</p> <p></p> <p>h.\u00a0Proceed to the configure\u00a0Cloud Details\u00a0by pairing up your on prem and AUCloud sites.</p> <p>i. Define the Public API Endpoint:\u00a0https://vcav.sz101.australiacloud.com.au:443</p> <p>j. Configure your organization\u2019s credentials for logging in to the cloud site. Type in\u00a0Organization Admin\u00a0(e.g.: username@organization-name)\u00a0 and the corresponding\u00a0Password\u00a0as provided by AUCloud.</p> <p>k.\u00a0Optional: Select\u00a0Allow Access from\u00a0Cloud. If you\u00a0select\u00a0this feature, the cloud provider and organization administrators can access and perform certain operations through the\u00a0VMware Cloud Director Availability Port. Without authenticating to the on-premises site, users can:</p> <ul> <li>Discover on-premises workloads and replicate them to the cloud.</li> <li>Reverse existing replications to the on-premises site.</li> <li>Replicate cloud workloads to the on-premises site.</li> </ul> <p>l.\u00a0If you leave this feature\u00a0deselected, configuring new replications will only be accessible to users authenticated to the on-premises VMware Cloud Director Availability Portal. Additionally, no existing replications will be reversed from the Portal.</p> <p></p> <p>m.\u00a0Click\u00a0Next\u00a0and accept the SSL certificate for VMware Cloud Director Availability Public API endpoint.</p> <p>n. Decide whether you want to participate in the\u00a0VMware Customer Experience Improvement Program\u00a0(CEIP). To join, confirm your choice, and click\u00a0Next.</p> <p>o. Move on to\u00a0Ready to Complete\u00a0and confirm details provided in previous steps are accurate.</p> <p></p> <p>p.\u00a0Check\u00a0Configure local placement now\u00a0to enable cloud to datacentre replications. Leaving the box unchecked requires additional set up to configure the replications.</p> <p>q.\u00a0Click\u00a0Finish\u00a0to complete the initial setup.</p> <p>*Configure Local Placement</p> <p>When the\u00a0configure local placement now\u00a0checkbox is ticked, the\u00a0Configure placement\u00a0wizard will open immediately after the Initial setup is completed.</p> <p>a.\u00a0Select a location for storing the recovered virtual machines</p> <p>b.\u00a0Select a compute resource for the recovered virtual machines at the destination site</p> <p>c.\u00a0Choose which network the virtual machines connect to after their failover</p> <p>d.\u00a0Select a datastore for the replicated virtual machines.</p> <p>e.\u00a0Review the settings and click\u00a0Finish\u00a0to complete the configuration.</p> <p>f.\u00a0To view the summary, expand the\u00a0placement\u00a0window</p> <p></p> <p>*Configure Replications</p> <p>Replication\u00a0is the process of copying a virtual machine (VM) from one location to another. The first replication creates a copy at a remote location, after which the replicated VM is updated according to a predefined schedule to match the source VM.</p> <p>There are two types of replication:</p> <ul> <li>Incoming replications</li> <li>Outgoing replications</li> </ul> <p>Incoming Replications</p> <p>Configure incoming replications to secure a remote workload by replicating it to the local VMware Cloud Director location. Such replications run on a remote site, protected at the local vCD location.</p> <p>Outgoing Replications</p> <p>Configure outgoing replications to secure a local workload by replicating it to a remote site (on-prem or\u00a0VMware Cloud Director). Outgoing replications run on a local site, protected at the remote location.</p> <p>How to Configure Incoming Replication</p> <p>After deployment, you can configure local replications. This process is required if you want to replicate\u00a0from\u00a0the cloud\u00a0to\u00a0the local vCenter or use the\u00a0reverse\u00a0replication after a failover.</p> <p>a. Log in to the\u00a0AUCloud Portal, enter VMware Cloud Director, click on the hamburger button and then on\u00a0Availability.</p> <p></p> <p>b.\u00a0Navigate to\u00a0Incoming Replications\u00a0page and click on\u00a0from On-Prem. Here, you can configure protection for on-premises VMs.</p> <p>c. Click on\u00a0New Protection. The\u00a0New Incoming Replication\u00a0window will appear.</p> <p></p> <p>d.\u00a0In it, you first need to define the\u00a0Source Site, which is the on-premises site owning the vApps and VMs you want to replicate. Click\u00a0Next.</p> <p></p> <p>e.\u00a0Select the VMs you want to protect by checking the corresponding box(es). To continue, click\u00a0Next.</p> <p>f. Move on to selecting the\u00a0Target VDC.</p> <p>g. On the page\u00a0Seed VM,\u00a0choose whether you want to seed. This option is only available if the VMs and VApps marked to be replicated already have an older copy on the target site. The older version is then used as a seed to speed up data transfer.</p> <p>h. Configure the\u00a0Protection Settings\u00a0by establishing your:</p> <ol> <li>RPO\u00a0\u2013 Target\u00a0Recovery Point Objective. The RPO will determine the maximum data loss that you can tolerate.</li> <li>Storage policy\u00a0\u2013 As per storage selected</li> <li>Retention policy\u00a0\u2013 How many instances you want to preserve over a time period, evenly</li> <li>Enable Quiesce\u00a0\u2013 Ensure application-level consistency prior to creating an instance</li> </ol> <p></p> <p>i.\u00a0Once you define protection settings, continue to\u00a0Scheduling. Here, check if you want to start synchronization\u00a0Immediately\u00a0or\u00a0At a specific time. Then, click\u00a0Next.</p> <p>j.\u00a0On the final page,\u00a0Ready to Complete, verify settings and click\u00a0FINISH.</p> <p>How to Configure Outgoing Replications</p> <p>a. Outgoing replications are configured in the same way as incoming replications.</p> <p>Reviewing the State of Existing Replications</p> <p>You can review the state and details of all on-premises incoming replications. With the interface, you can see all the information concerning the configuration for replicating, information on the source and destination, as well as the health of the workload.</p> <p></p> <p>Performing a Test Failover</p> <p>With test failover tasks, you can verify whether the data from the source is replicated correctly on the target site. The replication Data is deleted once the Test Failover has been performed.</p> <p></p> <p>a.\u00a0In the VMware Cloud Director Availability Portal, either form the\u00a0Incoming Replications\u00a0or from the\u00a0Outgoing Replications\u00a0pane, select the protected vApp that you want to test.</p> <p>b.\u00a0Click Test Failover.</p> <p></p> <p>c. The Test Failover wizard opens</p> <p></p> <p>d.\u00a0On the\u00a0Recovery Settings\u00a0page, use the options to configure the test task and click\u00a0Next.</p> <p>e.\u00a0On the Recovery Instance page, configure the recovery point in time and click\u00a0Next.</p> <p>f.\u00a0On the Ready to Complete page, review the test details and click\u00a0Finish\u00a0to initiate the Test Failover Task.</p> <p>g.\u00a0You can monitor the progress in the\u00a0Replications Task\u00a0pane.</p> <p></p> <p>Conducting the Test Cleanup</p> <p>a.\u00a0From the\u00a0Incoming Replications\u00a0or the\u00a0Outgoing Replications\u00a0pane, you can conduct the test \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 cleanup.</p> <p>b.\u00a0From the replications pane, select the test failover you want to cleanup</p> <p>c.\u00a0Select\u00a0Test Cleanup</p> <p></p> <p>d.\u00a0Click\u00a0CLEANUP</p> <p>Deleting Replications</p> <p>a.\u00a0You can remove the replication by selecting the vApp or VM and clicking\u00a0Delete.</p> <p></p> <p>b. Confirm you wish to delete the selected replication by clicking DELETE</p>"},{"location":"Platform_Services/Disaster_Recovery_and_Migration/vcd_availability_replication_policies/","title":"VMware Cloud Director Availability Replication Policies","text":""},{"location":"Platform_Services/Disaster_Recovery_and_Migration/vcd_availability_replication_policies/#overview","title":"Overview","text":"<p>Replication policies control replication attributes of VMware Cloud Director organisation from the VMware Cloud Director Availability solution perspective.  </p>"},{"location":"Platform_Services/Disaster_Recovery_and_Migration/vcd_availability_replication_policies/#replication-policies","title":"Replication Policies","text":"<ol> <li> <p>Replication policies enforce a list of replication attributes:</p> <ul> <li>If an organization can be used as a replication source.</li> <li>If an organization can be used as a replication destination.</li> <li>Minimum Recovery Point Objective (RPO) for an organization.</li> <li>Maximum number of retained snapshots per single virtual machine replication within an organization.</li> <li>Maximum number of virtual machine replications that can be created within an organization.</li> </ul> </li> <li> <p>The\u00a0VMware Cloud Director Availability\u00a0solution provides an editable, default replication policy that you cannot delete. All organizations that are not associated with a custom replication policy, are assigned to the default policy.</p> <p>The default replication policy is set to specific replication attributes:</p> <ul> <li>Outgoing replications are not allowed.</li> <li>Incoming replications are not allowed.</li> <li>Minimum RPO is set to 15 minutes.</li> <li>Maximum number retained snapshots per virtual machine replication are set to 24.</li> <li>Maximum number of virtual machine replications is set to 0.</li> </ul> </li> <li> <p>When you create a replication, the\u00a0New Replication\u00a0wizard validates the following settings:</p> <ul> <li>If the source organization allows outgoing replications.</li> <li>If the destination organization allows incoming replications.</li> <li>If the RPO setting of the new replication complies with the policy assigned to the destination organization. To comply, the RPO must be higher than or equal to the minimum RPO of the policy that is assigned to the destination organization.</li> <li>If the number of retained snapshots per replication of the new replication complies with the policy that is assigned to the destination organizations.</li> <li>If the total number of allowed VM replications on the destination organization is not exceeded.</li> </ul> </li> </ol> <p>If there are any violations, the system rejects the creation of the new replication.</p>"},{"location":"Platform_Services/Disaster_Recovery_and_Migration/vcd_availability_replication_policies/#using-replication-seeds","title":"Using Replication Seeds","text":"<p>For each new replication that you configure, an initial full synchronisation operation is performed. During this operation, VMware Cloud Director Availability copies the whole data from the source vApp or VM to a datastore in the target site. Use replication seeds to reduce the network traffic and the time that is required for the initial full synchronization of a replication.</p> <p>Due to the size of the vApp or VM or to the network bandwidth, an initial full synchronisation might take a long time. To reduce the initial synchronisation time, you copy the source vApp or VM to the target site by using removable media, failover of a previous replication, or other means of data transfer. Then, in the target site, configure a replication that uses the vApp or VM copy as a replication seed.</p> <p>When a replication uses a seed vApp or VM, VMware Cloud Director Availability does not copy the whole source vApp or VM data to the target site. Instead, VMware Cloud Director Availability copies only the different data blocks between the source vApp or VM and the seed and reuses the seed data in the target site as a basis for replication.</p> <p>Note</p> <p>VMware Cloud Director Availability stores the replication data in the target site without creating copies of the seed vApp or VM. You can use a seed vApp or VM to configure only one replication.</p> <ol> <li> <p>Use a VM as a Replication Seed     To use a VM as a seed, in the target site, select a VM that has an identical disk configuration with the seed VM. The size and number of disks, and their assignment to disk controllers and bus nodes must match the replication source and the seed VM.</p> <p>For example, if a replication source VM has two 4 GB disks, one of them assigned to SCSI controller 0 at bus number 0, the second one to SCSI controller 1 at bus number 2. Your seed VM must have the same hardware configuration - two 4 GB disks, at SCSI 0:0 and at SCSI 1:2.</p> </li> <li> <p>Use a vApp as a Replication Seed     To use a vApp as a seed, in the target site, select a vApp that has an identical VM set with the seed vApp. The VMs in the seed vApp must have a matching name to the VMs in the source site vApp. Each VM in the seed vApp, must meet the prerequisites to be a seed VM of the VM with the same name in the source site.</p> <p>After you start a replication, in the\u00a0VMware Cloud Director\u00a0inventory, the seed vApp is empty and you can manually copy the vApp settings and metadata that are not replicated from the source site. The seed vApp remains available as an empty copy and you can remove it at your discretion.</p> </li> <li> <p>Create a Replication Seed     Use one of the following methods to create a seed vApp or VM in the target site.</p> <ul> <li>Offline data transfer: Export the VM as an\u00a0OVF\u00a0package and a Cloud service administrator imports the package to your cloud organization.</li> <li>Clone a VM: Create a seed vApp or VM by cloning the vApp or VM from the target site.VMware Cloud Director Availability\u00a0calculates the checksum and exchanges the different blocks from the replication source to the seed vApp or VM.</li> <li>Failover data from a previous replication: Set up a replication, fail over to the target site and continue using the on-premises workload. At a later point, you protect it in the target site by using the VM that you failed over earlier as a seed.</li> <li>Copy over the network: Copy a source VM to the cloud organization and transfer the source data to the target site by using other means than\u00a0VMware Cloud Director Availability.  </li> </ul> </li> </ol>"},{"location":"Platform_Services/Disaster_Recovery_and_Migration/vcd_availability_replication_policies/#export-a-virtual-machine-or-a-vapp-to-a-removable-media","title":"Export a Virtual Machine or a vApp to a Removable Media","text":"<p>To use a replication seed for configuring a replication, you must export a virtual machine to removable media and provide it to AUCloud.</p> <ol> <li> <p>Power off the virtual machine on the protected side by using the vSphere Client</p> </li> <li> <p>Export a virtual machine form vCenter Server to a removable media.</p> <pre><code>ovftool 'vi://root@VC_IP/Datacenter_Name/vm/VM_FQDN' VM_FQDN.ova\n</code></pre> <p>After the process finishes, you can power on the virtual machine</p> </li> <li> <p>(Optional) Export a vApp from VMware Cloud Director to a removable media.</p> <pre><code>ovftool 'vcloud://ORG_ADMIN@VCLOUD_DIRECTOR_IP:443?org=ORG_NAME&amp;vdc=VDC_NAME&amp;vapp=VAPP_NAME' VAPP_NAME.ova\n</code></pre> </li> <li> <p>Provide the removable media containing the exported files to AUCloud.</p> </li> </ol>"},{"location":"Platform_Services/Disaster_Recovery_and_Migration/vcd_availability_replication_policies/#configure-a-replication-by-using-a-replication-seed","title":"Configure a Replication by Using a Replication Seed","text":"<p>When creating a new incoming or outgoing replication, you can use a vApp or VM as a seed to avoid transferring large amounts of data over the network during the initial full synchronisation.</p> <p>Before starting a replication, in the target site you must power off the seed VMs, because they are unregistered from the target VMware Cloud Director and vCenter Server inventories. If the new replication fails, the VM files and disks remain on the datastore. For the VM to appear in the inventories, locate the .vmx file of the VM, manually import the VM in the vCenter Server inventory, and import it to the VMware Cloud Director inventory.</p> <ol> <li> <p>In a Web browser, navigate to the vSphere Client and log in as an administrator.</p> </li> <li> <p>From the vSphere client\u00a0Menu, select\u00a0VMs and Templates.</p> </li> <li> <p>In the\u00a0Navigator\u00a0pane, right-click the virtual machine and\u00a0select VMware Cloud Director Availability &gt; Configure Protection. The\u00a0New Outgoing Replication\u00a0wizard opens</p> </li> <li> <p>On the\u00a0vCenter VMs\u00a0page, select the virtual machines that you want to protect and click Next.</p> </li> <li> <p>On the\u00a0Target VDC\u00a0page, select the target virtual data centre to which you want to replicate the virtual machines, and click\u00a0Next.</p> </li> <li> <p>On the\u00a0Seed VM\u00a0page, select the vApp or VM, under\u00a0Seed\u00a0select the seed you want to use, and click\u00a0Next.</p> <p>Note</p> <p>If you remove a disk from a replication source virtual machine, the seed disk is not deleted from the datastore in the target site</p> </li> <li> <p>On the Protection Settings page, select the settings for the replication, and click\u00a0Next.</p> Option Description Target recovery point objective (RPO) Use the slider or click the time intervals to set the acceptable period for which data can be lost in the case of a site failure. The available RPO range is from 5 minutes to 24 hours. Storage Policy From the Storage policy drop-down menu, select the storage policy for placing the recovered VMs and for the replicated data before the recovery. For seed VMs, VMware Cloud Availability Replicator uses the storage policy of the seed VM. Retention policy for point in time instances To preserve multiple distinct replication instances (snapshots) to which VMs can be recovered, select the option, select the number of replication instances to keep, and select the preservation period.<p></p>The number of preserved replication instances depends on the configured retention policy and requires that the RPO period is short enough for the replication instances to be created. For example, if you select to preserve four replication instances per day, the RPO period must not exceed six hours, to allow for the retention of four replication instances in 24 hours. Enable quiesce Select the quiescing method for the guest OS of the source VM.<p></p>Note: Quiescing is available only for VMs that support quiescing. Compress replication traffic Select to compress the replication data that is transferred through the network and to reduce the network traffic. However, compressing and decompressing data requires more CPU resources on both the source site and the server that manages the target datastore. </li> <li> <p>On the\u00a0Scheduling\u00a0page, select when to start the replication and click\u00a0Next.</p> </li> <li> <p>On the\u00a0Ready to Complete\u00a0page, verify that the configuration settings are correct and click\u00a0Finish.</p> </li> </ol>"},{"location":"Platform_Services/Kubernetes/","title":"AUCloud Kubernetes Service","text":""},{"location":"Platform_Services/Kubernetes/#overview","title":"Overview","text":"<p>The AUCloud Kubernetes service is a self-service enterprise grade Kubernetes Infrastructure based on VMware Tanzu Kubernetes Grid, which is certified to be compatible with upstream Kubernetes. the service is integrated with VMware Cloud Director. Users provision clusters to their NSX-T backed VDC. The clusters come with pre-configured integrations with AUCloud's network and storage fabric to maximise performance.</p> <p>Kubernetes is a popular open-source software system that helps automate the management and deployment of containerized applications. Containers are a way to package an application along with its dependencies, making it easier to move between different computing environments. With AUCloud's Kubernetes service, you can easily deploy and manage these containers at scale, allowing you to run complex applications reliably and efficiently on a cluster of computers. Kubernetes takes care of tasks such as scheduling containers to run on specific nodes, managing storage, and load balancing traffic between containers.</p>"},{"location":"Platform_Services/Kubernetes/#getting-started","title":"Getting started","text":"<ul> <li>Read about how to provision a cluster using the VCD UI</li> <li>Run through an 'end to end' example of deploying WordPress</li> <li>Watch Kubernetes in 5 minutes video.</li> <li>Read more from the Kubernetes concepts overview from <code>kubernetes.io</code>.</li> <li>Explore through our FAQ</li> </ul>"},{"location":"Platform_Services/Kubernetes/#dependencies","title":"Dependencies","text":"<ol> <li> <p>At least one NSX-T backed VDC</p> <ol> <li>Users who have an NSX-T backed VDC have access to Kubernetes cluster provisioning across our Enterprise and Official environments. </li> <li>Protected environment users are asked to contact your CSM.</li> <li>If you are using a NSX-V backed VDC please contact support and/or your CSM to get access to an NSX-T backed VDC </li> </ol> </li> <li> <p>Free public IP address ranges</p> <ol> <li>Users are advised to have at least 3 public IPs available during initial testing of the Kubernetes Service</li> <li>One for a <code>SNAT</code> to enable internet access for the Kubernetes nodes.</li> <li>One for a virtual service for the Kubernetes API</li> <li>At least one for exposing services to the internet.</li> </ol> </li> <li> <p>Access to a development environment with the core Kubernetes tools installed.</p> <ol> <li>kubectl</li> <li>helm3</li> <li>podman, docker or similar.</li> </ol> </li> <li> <p>Access to an external container registry (e.g. Docker Hub or Github container registry) is recommended for initial testing.</p> </li> </ol>"},{"location":"Platform_Services/Kubernetes/cluster_sizing_guide/","title":"Kubernetes cluster sizing guide","text":""},{"location":"Platform_Services/Kubernetes/cluster_sizing_guide/#overview","title":"Overview","text":"<p>This page collects best practice that has been validated on AUCLoud Kubernetes service configuration for sizing and capacity management.</p>"},{"location":"Platform_Services/Kubernetes/cluster_sizing_guide/#what-do-the-sizes-mean","title":"What do the sizes mean?","text":"<p>Need something different</p> <p>If these profiles do not meet your business needs please talk with your customer success manager.</p> <p>The VCD UI plugin lists four profile sizes available:</p> TKG Policy Name vCPU Memory GB TGK extra-large 8 32 TGK large 4 16 TGK medium 2 8 TGK small 2 4"},{"location":"Platform_Services/Kubernetes/cluster_sizing_guide/#what-drives-storage-requirements-on-my-nodes","title":"What drives storage requirements on my nodes?","text":"<p>Under the architecture for AUCloud Kubernetes services your data in persistent volumes is stored on named disks.</p> <ol> <li>Logs generated by containers (e.g to standard out)</li> <li>The containers pulled down to the node to execute.</li> <li>IO within the containers which is not written to the persistent volume.</li> <li>Containers should be treated as immutable objects and this should be discouraged as there are no persistence guarantees.</li> </ol>"},{"location":"Platform_Services/Kubernetes/cluster_sizing_guide/#how-many-nodes-should-i-use-for-my-control-plane","title":"How many nodes should I use for my control plane?","text":"<p>The Kubernetes control plane contains multiple elements. There robust community documentation covering those elements.</p> <p>At a high level, there control plane needs to scale with the number of individual resources (such as pods, jobs, persistent volumes) and changes to those resources and can be scaled vertically and horizontally.</p> <p>The kubernetes control plane uses a distributed key-store called etcd to store state. etcd quorum requirements drive the horizontal number of nodes. In order to execute transactions on an etcd cluster of <code>N</code> nodes <code>N/2 + 1</code> nodes must accept the transaction.  The result is that 'odd' node pools are the most efficient. AUCloud recommends a starting point of 3 control plane nodes for a high availability cluster. 1 node may be used for development environments. </p>"},{"location":"Platform_Services/Kubernetes/deleting_clusters_vcd_ui/","title":"Deleting Kubernetes clusters using VCD","text":""},{"location":"Platform_Services/Kubernetes/deleting_clusters_vcd_ui/#overview","title":"Overview","text":"<p>This document is aimed to provide AUCloud tenancy administrators an overview on how to delete a kubernetes cluster within VMware Cloud Director.</p> <p>Following the steps outlined in this document will delete a Kubernetes cluster.</p>"},{"location":"Platform_Services/Kubernetes/deleting_clusters_vcd_ui/#prerequisites","title":"Prerequisites","text":"<p>Before a cluster is able to be deleted from the VCD WebUI, all load balancers and Persistent Volumes (PV) must be manually removed/detached from the cluster via the <code>Kube Config</code>.</p>"},{"location":"Platform_Services/Kubernetes/deleting_clusters_vcd_ui/#deleting-a-cluster","title":"Deleting a cluster","text":"<ol> <li> <p>From a VCD tenancy, Select More &gt; Kubernetes Container Clusters.</p> <p></p> </li> <li> <p>Select the radio select for the cluster you wish to delete.  Click the Delete button to start the upgrade process.</p> <p></p> <p>This can also be done by clicking on the link of the cluster's name and viewing the status page as shown below:</p> <p></p> </li> <li> <p>The Delete Cluster menu will show relevant warnings about the deletion.  Review these and click Delete.</p> <p></p> <p>Force Delete</p> <p>Force Delete should only be used on any cluster in an incomplete or unremovable state.  This will remove associated resources, ie VMs, Persistent Volumes (Shared Disks), Load balancer(s).  However, manually checking these resources and removing manually maybe required.</p> </li> <li> <p>There will be confirmation page that the deletion request was acknowledged.  Click Close.</p> <p></p> </li> <li> <p>The Kubernetes menu will show the status of the cluster under as Deleting.</p> <p></p> </li> <li> <p>Under the VCD Recent Tasks you will notice a Virtual Machine with the name EPHEMERAL_TEMP_VM(...) creating and powering on.  This VM will orchestrate the deletion of the Kubernetes cluster.  Please allow up to an hour, depending on the size of the cluster, for this process to complete.</p> <p></p> </li> <li> <p>The deletion is completed once the K8 nodes and Ephemeral VM have all been deleted.</p> <p></p> </li> </ol>"},{"location":"Platform_Services/Kubernetes/deploying_example_wordpress_with_sql/","title":"Example deployment of WordPress and MySQL","text":""},{"location":"Platform_Services/Kubernetes/deploying_example_wordpress_with_sql/#overview","title":"Overview","text":"<p>In this example you will be creating the following;   </p> <ul> <li>A VCD network</li> <li>Configuring firewall and NAT rules</li> <li>Deploy and configure a management host</li> <li>Deploy a Kubernetes cluster</li> <li>Deploy a service to the Kubernetes instance</li> <li>Expose the deployed service to the internet</li> </ul> <p>Security risk</p> <p>This example deploys a FLAT network topology, and the worker node service VIP for the WordPress will be exposed to the internet. This type of network should not be used in production environment</p>"},{"location":"Platform_Services/Kubernetes/deploying_example_wordpress_with_sql/#success-outcome","title":"Success outcome","text":"<ul> <li>Website / service available to the internet</li> </ul>"},{"location":"Platform_Services/Kubernetes/deploying_example_wordpress_with_sql/#prerequisites","title":"Prerequisites","text":"<ul> <li>VCD tenancy</li> <li>VCD user account with administrative privileges</li> <li>At least one available public IP address</li> <li>one for control plane (optional)</li> <li>one for worker virtual service (required)</li> </ul>"},{"location":"Platform_Services/Kubernetes/deploying_example_wordpress_with_sql/#creating-a-network","title":"Creating a network","text":"<p>Networking</p> <p>This example has created the simplest network rules possible to enable this example. Users should consider whether this is fit for purpose for their security needs.</p> <ul> <li>Log into VCD as a user with system administrator rights</li> <li>Navigate to \"Networking\"</li> <li>Select \"NEW\"</li> <li>Select \"Organization Virtual Data Center\"</li> <li>Select the virtual data center (example: <code>aucloud-testcases-vdc1</code>)</li> <li>Select \"Routed\" as the network type</li> <li>Select the edge connection (example: <code>aucloud-testcases-vdc1-edgw1</code>)</li> <li>Configure the \"General\" network settings<ul> <li>Type a name (example: <code>testcases01</code>)</li> <li>Type a description (example: This is an example network)</li> <li>Type a gateway (example: <code>10.10.1.1/24</code>)</li> </ul> </li> </ul> <p>Network conflicts</p> <p>please make sure no other networks conflict otherwise you will receive an error message.</p> <ul> <li>Configure a static pool</li> </ul> <p>static pool</p> <p>this will be used for the ephemeral, control plane, worker nodes, and management VMs</p> <ul> <li>Type an IP range (example: <code>10.10.1.100-10.10.1.200</code>) and add it</li> <li>Configure DNS<ul> <li>Type the primary DNS (example: <code>1.1.1.1</code>)</li> <li>Type the secondary DNS (example <code>8.8.8.8</code>)</li> <li>Type the DNS suffix (example <code>testcases.local</code>)</li> </ul> </li> </ul> <p>Configure DNS</p> <p>In this example we use external DNS providers, but internal ones can be specified instead</p> <ul> <li>Ignore \"Segment Profile Template\" selection</li> <li>Finish configuration</li> </ul>"},{"location":"Platform_Services/Kubernetes/deploying_example_wordpress_with_sql/#configure-the-firewall-and-snat","title":"Configure the firewall and SNAT","text":"<p>In this example we will be creating and IPSet, firewall and NAT rules to allow guests on the previously created network internet access.</p> <ul> <li>Log into VCD as a user with system administrator rights, or a provider</li> <li>Navigate to \"Networking\"</li> <li>Navigate to \"Edge Gateways\"</li> <li>Navigate to \"IP Sets\"</li> <li>Select \"NEW\"</li> <li>Type a name (example: <code>testcases01-ipset</code>)</li> <li>Type a description (example: testcases01 pool members)</li> <li>Type the IP address range (example: <code>10.10.1.0/24</code>)</li> <li>Navigate to Firewall</li> <li>Select EDIT RULES</li> <li>Select \"NEW ON TOP\"</li> <li>Type a name (example: ALLOW-testcases01-internet)</li> <li>Select the following services to allow<ul> <li>DNS</li> <li><code>DNS-UDP</code></li> <li><code>HTTP</code></li> <li><code>HTTPS</code></li> </ul> </li> <li>Source <code>testcases01-ipset</code></li> <li>Destination <code>ANY</code></li> <li>Navigate to NAT</li> <li>Select \"NEW\"<ul> <li>Type a name (example: <code>SNAT-internet-testcases01</code>)</li> <li>Description (example: allow internet SNAT)</li> <li>Type: <code>SNAT</code></li> <li>External IP (check with the little \"I\" for available IP's)</li> <li>Internal IP (example: <code>10.10.1.0/24</code>)</li> </ul> </li> </ul> <p>This will enable the following IP range <code>10.10.1.0/24</code> internet access</p>"},{"location":"Platform_Services/Kubernetes/deploying_example_wordpress_with_sql/#deploy-and-configure-a-guest-vm","title":"Deploy and configure a guest VM","text":"<p>In this example we will be deploying a ubuntu guest VM from an AUCloud provided template, installing a GUI, installing necessary tools to connect, configure and maintain a Kubernetes cluster on VCD</p> <ul> <li>Log into VCD as a user with system administrator rights, or a provider</li> <li>Navigate to \"Applications\"</li> <li>Under \"Virtual Applications\" select \"NEW\"</li> <li>Select \"New vApp\"</li> <li>Select the targe VDC</li> <li>Give it a name (example: ubuntu01vapp)</li> <li>Description (example: guest ubuntu machine for Kubernetes example)</li> <li>Select \"ADD VIRTUAL MACHINE\"</li> <li>Type a name (example: ubuntu01)</li> <li>Type a description (example: ubuntu guest for Kubernetes management)</li> <li>Select type, From Template</li> <li>Select Ubuntu20-Medium</li> <li>Storage policy, Performance (VDC Default)</li> <li>NICs;</li> <li>Tick, \"Connected\"</li> <li>Network adaptor, \"VMXNET3\"</li> <li>Network (example: testcases01)</li> <li>IP Mode, Static Manual</li> <li>IP address (example: <code>10.10.1.150</code>)</li> <li>Create the Vapp / VM</li> <li>Open a console session to the new VM</li> </ul> <p>Username and password for template</p> <p>Default user name is: <code>administrator</code>  Password can be found under the description of the VM (not the Vapp)</p> <ul> <li>Run the following commands  </li> </ul> <p>Change the default password</p> <p>Users should the default password by running <code>passwd</code> once logged into the guest VM </p> <pre><code>$ sudo apt update\n$ Y   # confirm\n$ sudo apt upgrade\n$ Y   # confirm\n$ sudo apt-get install ubuntu-desktop\n$ Y   # confirm\n$ sudo reboot\n</code></pre> <ul> <li>Log into the VM via the console and skip Online accounts</li> <li> <p>Open the \"terminal\" app and run the following commands to install the kubernetes command line (<code>kubectl</code>) and Visual Studio code</p> <pre><code>$ sudo snap install kubectl --classic    #(required)\n$ sudo snap install code --classic       #(optional)\n</code></pre> </li> </ul> <p>Screen Resolution</p> <p>Recommend changing the screen resolution,   Right click on background and select Display Settings. Adjust accordingly</p>"},{"location":"Platform_Services/Kubernetes/deploying_example_wordpress_with_sql/#create-a-kubernetes-instance","title":"Create a Kubernetes instance","text":"<p>In this example we will be creating a Kubernetes cluster</p> <p>Ubuntu host</p> <p>It's recommended that you use the recently created ubuntu host for this part, as you will need to download the kube config to this host later for Kubernetes management.</p> <ul> <li>Open the VCD tenancy</li> <li>Navigate More &gt; Kubernetes Container Clusters</li> <li>Select \"New\"</li> <li>Type a \"name\" (example: kubetest01)</li> <li>Select a TKG version</li> <li>Select VDC network, and cluster network<ul> <li>VDC: <code>aucloud-testcases-vdc1</code></li> <li>VDC network: <code>testcases01</code></li> </ul> </li> <li>Control plan<ul> <li>Nodes: 3 (default for high availability)</li> <li>Disk size: 20gb (default)</li> <li>Sizing Policy: TKG small</li> <li>Storage Profile: Performance</li> </ul> </li> <li>Worker Pools<ul> <li>Name: worker-node-pool1</li> <li>Nodes: 1 (default)</li> <li>Disk size: 20 (default)</li> <li>Sizing Policy: TKG small</li> <li>Storage Profile: Performance</li> </ul> </li> <li> <p>Kubernetes Storage</p> <ul> <li>Create Default Storage Class</li> <li> <p>Select, \"Shared Named Disks\"</p> </li> <li> <p>Storage Class Name: default-storage-class-1 (default)</p> </li> <li>Reclaim policy: delete (default)</li> <li>Filesystem: ext4 (default)</li> <li>Kubernetes Network</li> <li>Kubernetes Pod CIDR: Leave default</li> <li>Kubernetes Services CIDR: Leave default</li> <li>Control Plan IP (optional): Leave default</li> </ul> </li> </ul> <p>Shared Disks</p> <p>failure to select shared named disks, will prevent worker node(s) access to data disks</p> <p>Control Plan IP</p> <p>If you specify an IP address for the control plan this will create the VIP on that IP, ie if you set an internal IP it will NOT use an external IP address for the control plane.</p> <ul> <li>Deploy the cluster</li> <li>wait until cluster is \"available\"</li> </ul>"},{"location":"Platform_Services/Kubernetes/deploying_example_wordpress_with_sql/#connecting-to-kubernetes","title":"Connecting to Kubernetes","text":"<p>In this example we will be using the recently configured ubuntu management host to connect to the Kubernetes instance we have just created. You can alternatively use your own machine as long as you have Kubernetes CLI (<code>kubectl</code>) installed.</p> <p>On the ubuntu guest VM:   </p> <ul> <li>Open the VCD tenancy   </li> <li>Navigate to \"More\" &gt; \"Kubernetes Container Clusters\"   </li> <li>Select the recently created cluster   </li> <li>Select \"Download Kube Config\"   </li> <li>Open a terminal   </li> <li>Create a .kube folder under the user account   </li> </ul> <p>```bash</p> <pre><code>mkdir ~/.kube\n\n```\n</code></pre> <ul> <li> <p>Move and rename the downloaded kube config file into the <code>~/.kube</code> folder</p> <pre><code>mv ~/Downloads/kubconfig-kubetest01 ~/.kube/config\n</code></pre> </li> </ul> <p>!!! note <code>KUBECONFIG</code>     The <code>KUBECONFIG</code> environmental variable can be used to target a config file in a location other than <code>~/.kube/config</code></p> <ul> <li> <p>Verify connectivity </p> <pre><code>$ kubectl config get-contexts\n\n## Returns\nCURRENT NAME                            CLUSTER     AUTHERINFO          NAMESPACE\n*       kubetest01-admin@kubetest01     kubetest01  kubetest01-admin\n\n\n$ kubectl get namespaces\n\n## Returns\nNAME                                STATUS  AGE\ncapi-kubeadm-bootstrap-system       Active  3h6m\ncapi-kubeadm-control-plane-system   Active  3h6m\ncapi-system                         Active  3h6m\ncapvcd-system                       Active  3h6m\ncert-manager                        Active  3h6m\ndefault                             Active  3h11m\nkube-node-lease                     Active  3h11m\nkube-public                         Active  3h11m\nkube-system                         Active  3h11m\nkubetest01-ns                       Active  3h6m\nrdeprojector-system                 Active  3h6m\ntanzu-package-repo-global           Active  3h6m\ntanzu-system                        Active  3h6m\ntkg-system                          Active  3h6m\ntkg-system-public                   Active  3h6m\ntkr-system                          Active  3h6m\n</code></pre> </li> </ul>"},{"location":"Platform_Services/Kubernetes/deploying_example_wordpress_with_sql/#deploying-wordpress-and-mysql","title":"Deploying WordPress and MySQL","text":"<p>In this example we will be modifying an example deployment from kubernetes.io</p> <pre><code>~/sample-deployment\n \u2523 kustomization.yaml\n \u2523 mysql-deployment.yaml\n \u2517 wordpress-deployment.yaml\n</code></pre> <ul> <li>Create the sample-deployment folder <code>mkdir ~/sample-deployment</code></li> <li>cd to the directory <code>cd ~/sample-deployment</code></li> <li> <p>Download the <code>mysql-deployment.yaml</code> and <code>wordpress-deployment.yaml</code> via</p> <ul> <li><code>curl -LO https://k8s.io/examples/application/wordpress/mysql-deployment.yaml</code></li> <li><code>curl -LO https://k8s.io/examples/application/wordpress/wordpress-deployment.yaml</code></li> </ul> </li> <li> <p>Download the <code>kustomization.yaml</code></p> </li> <li>or create the <code>kustomization.yaml</code> file</li> <li> <p><code>vi /home/administrator/sample-deployment/kustomization.yaml</code></p> </li> <li> <p>add the following</p> <pre><code>secretGenerator:\n- name: mysql-pass\nliterals:\n- password=YOUR_PASSWORD_HERE\nresources:\n- mysql-deployment.yaml\n- wordpress-deployment.yaml\n</code></pre> </li> <li> <p>Apply and verify configuration:</p> <p><code>kubectl apply -k ./</code></p> </li> <li> <p>Verify secrets:</p> <p><code>kubectl get secrets</code></p> <pre><code>#output\n\nNAME                    TYPE        DATA    AGE\nmysql-pass-xxxxxxxx     Opaque      1       9s\n</code></pre> </li> <li> <p>Verify Persistent Volume creation:</p> </li> </ul> <p><code>kubectl get pvc</code></p> <pre><code>NAME              STATUS      VOLUME      CAPACITY        ACCESS MODES        STORAGECLASS        AGE\nmysql-pv-claim    Bound       pvc-xxxxxx  20Gi            RWO                 standard            77s\nwp-pv-claim       Bound       pvc-xxxxxx  20Gi            RWO                 standard            77s\n</code></pre> <ul> <li>Verify pods:</li> </ul> <p><code>kubectl get pods</code></p> <pre><code>NAME                              READY   STATUS      RESTARTS    AGE\nwordpress-xxxxxx-xxxx             1/1     Running     0           12m\nwordpress-mysql-xxxxxxxxx-xxxx    1/1     Running     0           12m\n</code></pre> <ul> <li>Verify Load Balancer service:</li> </ul> <p><code>kubectl get services wordpress</code></p> <pre><code>NAME              TYPE            CLUSTER-IP      EXTERNAL-IP     PORT(S)         AGE\nkubernetes        ClusterIP       100.64.0.1      &lt;none&gt;          443/TCP         6h16m\nwordpress         LoadBalancer    100.66.85.26    185.61.141.35   80:30945/TCP    8m20s\nwordpress-mysql   ClusterIP       None            &lt;none&gt;          3306/TCP        8m20s\n</code></pre> <ul> <li>Using the web browser navigate to the listed EXTERNAL-IP address for WordPress in this example <code>185.61.141.35</code> you should now see the word press setup page</li> </ul> <p>Firewall rules</p> <p>The ubuntu management box we deployed in this example will have access to the above IP, for external access we will need to allow it through the firewall</p>"},{"location":"Platform_Services/Kubernetes/deploying_example_wordpress_with_sql/#exposing-the-service","title":"Exposing the service","text":"<p>In this example we will be exposing the ingress worker node VIP to the internet. To do this we need to identify the Load Balancer IP specified in VCD.</p> <ul> <li>Log into VCD as a user with system administrator rights, or a provider</li> <li>Navigate to \"Networking\"</li> <li>Navigate to \"Edge Gateways\"</li> <li>Navigate to NAT</li> <li>find the <code>DNAT</code> rule created by VCD for ingress service (example: <code>dnat-ingress-vs-wordpress-capvcdCluster:xxxxxx</code>)</li> <li>identify the internal IP address for this rule (example: 192.168.8.2)</li> </ul> <p>Load balancer internal IP range</p> <p>by default load balancers have an internal range of 192.168.8.2/25</p> <ul> <li>Navigate to \"IP Sets\"</li> <li>Select \"NEW\"</li> <li>Type a name (example: <code>lb-ip</code>)</li> <li>Type a description (example: Load Balancer IP set)</li> <li>Type the IP address of the Load Balancer IP (example: <code>192.168.2.8</code>)</li> <li>Navigate to Firewall</li> <li>Select EDIT RULES</li> <li>Select \"NEW ON TOP\"</li> <li>Type a name (example: <code>expose-wordpress</code>)</li> <li>Select the following services to allow       -<code>HTTP</code></li> <li>Source <code>ANY</code></li> <li>Destination <code>lb-ip</code></li> </ul>"},{"location":"Platform_Services/Kubernetes/deploying_example_wordpress_with_sql/#summary","title":"Summary","text":"<p>You have now created the following:</p> <ul> <li>A VCD network</li> <li>Configuring firewall and NAT rules</li> <li>Deploy and configure a management host</li> <li>Deploy a Kubernetes cluster</li> <li>Deploy a service to the Kubernetes instance</li> <li>Expose the deployed service to the internet</li> </ul>"},{"location":"Platform_Services/Kubernetes/deploying_kubernetes_dashboard/","title":"Deploying and using the Kubernetes dashboard","text":""},{"location":"Platform_Services/Kubernetes/deploying_kubernetes_dashboard/#overview","title":"Overview","text":"<p>The kubernetes dashboard provides a high level overview of what is happening in your cluster.  This document describes specifically how to access the kubernetes dashboard on clusters provisioned in AUCloud. Deploying the Kubernetes Dashboard is well described, this is a quick-start on AUCloud.</p>"},{"location":"Platform_Services/Kubernetes/deploying_kubernetes_dashboard/#assumptions","title":"Assumptions","text":"<ol> <li> <p>Direct access to the Kubernetes API endpoint</p> </li> <li> <p><code>kubectl</code> is installed on your workstation</p> </li> <li> <p>The cluster <code>kubeconfig</code> file is either at <code>~/.kube/config</code> or set via the <code>KUBECONFIG</code> environmental variable.  </p> </li> </ol>"},{"location":"Platform_Services/Kubernetes/deploying_kubernetes_dashboard/#steps","title":"Steps","text":"<ol> <li> <p>Deploy the dashboard using kubectl by using the example setup from the Kubernetes community:</p> </li> <li> <p><code>kubectl apply -f https://raw.githubusercontent.com/kubernetes/dashboard/v2.7.0/aio/deploy/recommended.yaml</code></p> </li> <li> <p>Configure a service account for the dashboard:</p> </li> <li> <p>Create a YAML file with the following content:</p> <pre><code>apiVersion: v1\nkind: ServiceAccount\nmetadata:\nname: admin-user\nnamespace: kubernetes-dashboard\n</code></pre> </li> <li> <p>Apply the YAML using <code>kubectl apply -f ./my_yaml_1.yml</code></p> </li> <li> <p>Provide the service account with the correct RBAC to access the dashboard (via <code>kubectl apply</code>)</p> <pre><code>```yaml\napiVersion: rbac.authorization.k8s.io/v1\nkind: ClusterRoleBinding\nmetadata:\n  name: admin-user\nroleRef:\n  apiGroup: rbac.authorization.k8s.io\n  kind: ClusterRole\n  name: cluster-admin\nsubjects:\n- kind: ServiceAccount\n  name: admin-user\n  namespace: kubernetes-dashboard\n```\n</code></pre> </li> <li> <p>Create a JWT for the user to auth with the cluster.</p> </li> <li> <p>Note this step needs to be done on token expiry again!</p> </li> <li> <p><code>kubectl -n kubernetes-dashboard create token admin-user</code></p> </li> <li> <p>On your workstation start the kube proxy <code>kubectl proxy</code></p> </li> <li> <p>This will make the kubernetes API (and the dashboard) available on <code>http://localhost:8001</code>.</p> </li> <li> <p>The proxy is alive only while <code>kubectl proxy</code> is running.</p> </li> <li> <p>Access the dashboard at <code>http://localhost:8001/api/v1/namespaces/kubernetes-dashboard/services/https:kubernetes-dashboard:/proxy/</code></p> </li> <li> <p>Use the JWT to authenticate with a token when prompted in the dashboard UI.</p> </li> </ol>"},{"location":"Platform_Services/Kubernetes/deploying_kubernetes_dashboard/#risks","title":"Risks","text":"<ul> <li>The user created has broad access rights. This may not be appropriate for your requirements.</li> </ul>"},{"location":"Platform_Services/Kubernetes/faq/","title":"FAQ","text":""},{"location":"Platform_Services/Kubernetes/faq/#how-much-does-my-kubernetes-cluster-cost","title":"How much does my Kubernetes cluster cost?","text":"<p>The AUCloud Kubernetes services charges based on the underlying costs of the VMs provisioned to support the cluster. No extra / hidden costs exist.</p> <p>Public IP consumption</p> <p>Users should budget for extra public IP addresses when standing up new clusters with internet facing services.</p>"},{"location":"Platform_Services/Kubernetes/faq/#what-is-the-difference-between-docker-and-kubernetes","title":"What is the difference between Docker and Kubernetes?","text":"<p>Docker is a containerization platform that allows developers to package their applications and dependencies into portable and isolated containers. Kubernetes, on the other hand, is a container orchestration platform that automates the deployment, scaling, and management of containerized applications across a cluster of computers, providing features such as load balancing, service discovery, and self-healing. </p>"},{"location":"Platform_Services/Kubernetes/faq/#what-is-the-difference-containers-and-docker","title":"What is the difference Containers and Docker?","text":"<p>Containers are a lightweight and portable form of virtualisation that enable you to package an application and its dependencies into a single, self-contained unit that can be easily moved between different computing environments. Docker is one of many platforms including Podman and LXC/LDC that implement the OCI container specification. Docker provides a life cycle that simplifies the creation, management, and distribution of containers by providing an  user interface and a suite of tools for building, sharing, and running containers.</p>"},{"location":"Platform_Services/Kubernetes/faq/#what-is-the-difference-between-tanzu-and-kubernetes","title":"What is the difference between Tanzu and Kubernetes?","text":"<p>Tanzu is a brand name for a suite of products and services from VMware that help organizations build, run, and manage modern applications on Kubernetes. AUCloud's Kubernetes service is based on VMware Tanzu Kubernetes Grid, which is a Kubernetes distribution that packages together open-source technologies and automation tooling to help you get up and running quickly with a production-ready Kubernetes cluster.</p>"},{"location":"Platform_Services/Kubernetes/faq/#what-is-the-difference-between-a-node-port-a-loadbalancer-and-an-ingress","title":"What is the difference between a <code>node port</code> a <code>LoadBalancer</code> and an <code>Ingress</code>?","text":"<p>A good description of the differences can be found on the Kubernetes documentation.</p> <p>A <code>NodePort</code> is a port on a worker node that is exposes a pod directly based on the host network. It provides no redundancy from a pod perspective, and is not recommended for production use. Users of AUCloud's Kubernetes service can use <code>NodePort</code> to expose services for testing purposes. To expose to the internet a user will need to create their own DNAT or virtual service.</p> <p>A <code>LoadBalancer</code> is a service that exposes a pod via a load balancer. In AUCloud's Kubernetes service this is a virtual service that is created on the edge gateway. This provides redundancy from a pod perspective, and is recommended for production use. <code>LoadBalancer</code> services provide L4 load balancing, and can be used to expose services to the internet. </p> <p>An <code>Ingress</code> is a service that exposes a pod via a load balancer, and provides L7 load balancing. In AUCloud's Kubernetes service this is a virtual service that is created on the edge gateway for common protocols to an ingress controller such as NGINX, Contour or Istio. The ingress controller provides L7 routing to the correct pod.</p>"},{"location":"Platform_Services/Kubernetes/faq/#what-ip-should-i-use-for-the-kubernetes-api","title":"What IP should I use for the Kubernetes API?","text":"<p>The Kubernetes service will create a 'virtual service' to load balance across the control plane member at the IP address provided. The two choices are:</p> <ol> <li>A public address within your allocated IP range for the VDC which is not currently being used for a NAT. </li> <li>You will need to create firewall rules to expose the API.</li> <li>A RFC 1918 address, within a 'network' created behind the VDC edge gateway.</li> <li>This will allow private access from within the tenancy; or via an IPSec tunnel to the edge gateway.</li> </ol>"},{"location":"Platform_Services/Kubernetes/faq/#why-the-load-balancer-not-provisioning","title":"Why the Load Balancer not provisioning?","text":"<p>The most likely reason for a Load Balancer failing to provision is insufficient free public IPs. By Default each load balanced service uses a separate public IP by default. A free public IP is defined by an IP with no existing NAT rule applied to it, or virtual service bound to it.</p>"},{"location":"Platform_Services/Kubernetes/faq/#can-auclouds-kubernetes-service-support-windows-containers","title":"Can AUCloud's Kubernetes Service support Windows containers?","text":"<p>AUCloud's Kubernetes service uses Ubuntu 20.04 as the operating system for all nodes. While Windows containers are possible in Kubernetes, it requires worker nodes running Windows Server which is not supported by AUCloud's service.</p>"},{"location":"Platform_Services/Kubernetes/faq/#how-do-i-install-the-tanzu-cli-on-apple-silicon","title":"How do I install the <code>tanzu</code> CLI on Apple silicon?","text":"<p>The <code>tanzu</code> CLI which is marked for x86 from AUCloud's current experience will run on mac os systems running apple silicon.</p> <p>The core package in the CLI pack also includes additional CLI tools such as <code>imgpkg</code> and <code>ytt</code> from the open-source Carvel project.</p> <p>Users, if they need access can install these packages, for Apple Silicon, using <code>brew</code> e.g.</p> <pre><code>brew tap vmware-tanzu/carvel\nbrew install imgpkg\nimgpkg version\n</code></pre>"},{"location":"Platform_Services/Kubernetes/known-issues/","title":"Known limitations","text":""},{"location":"Platform_Services/Kubernetes/known-issues/#overview","title":"Overview","text":"<p>This page describes the known limitations currently of AUCloud's Kubernetes service. If these issues have a significant impact on your experience please let your CSM know to enhance in prioritisation of fixes, as appropriate.</p>"},{"location":"Platform_Services/Kubernetes/known-issues/#load-balancers-can-only-use-external-ip-addresses","title":"Load balancers can only use external IP addresses.","text":"<p>The default deployment of Kubernetes Load Balancers behaves in the following manner:</p> <ol> <li>A DNAT is formed from an IP address in the external (public) IP allocation, to a privately addressed virtual service. It must be an external IP address with the default configuration.</li> <li>The virtual service then is load balanced, as appropriate, back to the k8s nodes.</li> </ol>"},{"location":"Platform_Services/Kubernetes/known-issues/#mitigations-alternatives","title":"Mitigations / alternatives","text":"<ol> <li>Use firewalls to effectively block external traffic, yet still use an external IP.</li> <li>With a default deny rule always enforced, you can allow traffic to the external IP provisioned for a Load Balanced service only for your internal IP range.</li> <li>This increases risks with the firewall configuration, however, will work.</li> <li>Unsupported currently Under VCD 10.4 disable two-arm load balancers<ul> <li>See this blog</li> <li>See the  VMware external cloud provider for VCD <code>README.md</code></li> </ul> </li> </ol>"},{"location":"Platform_Services/Kubernetes/known-issues/#ephemeral-vm-provisioning-vm-is-not-deleted-and-the-cluster-is-available","title":"Ephemeral VM (provisioning VM) is not deleted and the cluster is 'available'","text":"<p>The Kubernetes services uses a ephemeral vApp to orchestrate deployment of each of the Kubernetes cluster nodes. If the Ephemeral VAPP continues to exist once the cluster is deployed, and the VCD UI is showing it is 'available' this signals there may be issues in completing cluster deployment.</p>"},{"location":"Platform_Services/Kubernetes/known-issues/#recommended-actions","title":"Recommended actions","text":"<ol> <li>Validate all nodes have been admitted to the cluster with <code>kubectl get nodes</code></li> <li>If the cluster nodes are not all admitted delete the cluster.</li> <li>Delete the ephemeral vApp</li> </ol>"},{"location":"Platform_Services/Kubernetes/known-issues/#kubernetes-cluster-is-not-being-deleted-when-requested","title":"Kubernetes cluster is not being deleted when requested","text":"<p>In order to ensure that VCD resources are cleaned successfully any service that is of type <code>LoadBalancer</code> will block cluster deletion. This includes 'force deletion' actions.</p> <p>Do not manually delete the vApp</p> <p>Manually deleting the vApp within the VDC is highly likely to leave 'stale' NAT rules; virtual services and IP Pools within your tenancy. Only delete the vApp manually as an absolute last resort.</p>"},{"location":"Platform_Services/Kubernetes/known-issues/#recommended-actions_1","title":"Recommended actions","text":"<ol> <li>Check if any services are of type <code>LoadBalancer</code> by <code>kubectl get svc -A</code></li> <li>Delete all services of this type explicitly</li> <li>Cluster deletion should resume automatically once services are deleted. </li> </ol>"},{"location":"Platform_Services/Kubernetes/kubernetes_networking/","title":"Kubernetes Networking Prerequisites","text":""},{"location":"Platform_Services/Kubernetes/kubernetes_networking/#overview","title":"Overview","text":"<p>This document is aimed to provide AUCloud tenancy administrators an overview on the prerequisites that are required to be setup before a Kubernetes cluster can be deployed.</p> <p>The below prerequisites must be completed before Provisioning clusters from the VMware Cloud Director UI</p> <ul> <li>Account that has Organisation Administrator access to VCD tenancy</li> <li>Create Routed Network<ul> <li>Firewall rule to allow access to internet resources.</li> <li>NAT rule to allow access to internet resources.</li> </ul> </li> <li>External IP address or internal one on the specified routed network (at least one).  This is required for the Control Plane IP (virtual server, VIP) used to administer the Kubernetes cluster.</li> </ul>"},{"location":"Platform_Services/Kubernetes/kubernetes_networking/#orgvdc-network","title":"OrgVDC Network","text":"<p>It is recommended to create a dedicated Routed Network to deploy Kubernetes nodes to.  Creating multiple Routed Networks for different Kubernetes clusters is also recommended.</p> <p>Please see our Create a Routed VDC Network guide.</p>"},{"location":"Platform_Services/Kubernetes/kubernetes_networking/#edge-gateway","title":"Edge Gateway","text":"<p>For full Edge Gateway guide please see Edge Services Gateway</p> <p>The below Firewall &amp; NAT rules are required for the deployment of the Kubernetes Clusters.  The deployment of the Kubernetes clusters is run from a temporary VM that is created within the tenancy and requires access to VMware Github CSE repository for deployment scripts.</p>"},{"location":"Platform_Services/Kubernetes/kubernetes_networking/#firewall-rules","title":"Firewall Rules","text":"Setting Value Name Enter a name for this rule State Enabled Applications 53/UDP (DNS)53/TCP (DNS)80/TCP (HTTP)433/TCP (HTTPS) Source Security group created from either Static Groups or IP Sets that contains the OrgVDC network/IPs that Kubernetes nodes are deployed on Destination Any Action Allow IP Protocol IPv4 Logging not required Comments not required"},{"location":"Platform_Services/Kubernetes/kubernetes_networking/#nat-rules","title":"NAT Rules","text":"Setting Value Name Enter a name for this rule Description Optional: description for this rule Interface Type SNAT External IP External IP address on the Edge Gateway Internal IP Internal IP(s) or CIDR of internal kube network Destination IP Leave blank"},{"location":"Platform_Services/Kubernetes/kubernetes_networking/#kubernetes-control-plane-ip","title":"Kubernetes Control Plane IP","text":"<p>It is best to plan what Control Plane IP address will be used by the Kubernetes cluster before you deploy the cluster.  This IP address can be an external IP (public) that is hosted on the tenancy's Edge Gateway. This IP address will be inserted into the <code>KUBECONFIG</code> file, and therefore <code>kubectl</code> commands (see kube config) will use the IP access the Kubernetes cluster to control settings.</p> <p>If no Control Plane IP is specified during the provisioning wizard, then an IP on the Edge Gateway's external IP range will be used. Cluster creation will fail if there are no free external IPs available.</p> <p>When specifying an internal IP it needs to be a free IP on a routed network that is connected to the Edge Gateway in the OrgVDC that the Kubernetes cluster is deployed to.</p> <p>The Control Plane IP is setup as Virtual Service under the Edge Gateway's Load Balancer settings.</p>"},{"location":"Platform_Services/Kubernetes/kubernetes_versions/","title":"Supported Kubernetes versions","text":""},{"location":"Platform_Services/Kubernetes/kubernetes_versions/#overview","title":"Overview","text":"<p>AUCloud's Kubernetes service is based on  VMware's Tanzu Kubernetes Grid, combined with the VMware's \"Container Service Extension\".</p> <p>The version of Kubernetes Grid currently supported is 1.5.4. This page provides details of the component versions within the distribution.</p> <p>Within the VCD environment all clusters are currently based on Ubuntu 20.04 and one of the following kubernetes API versions:</p> <ul> <li>1.22.9</li> <li>1.21.11</li> <li>1.20.15</li> </ul> <p>The Tanzu Kubernetes versions are enterprise distributions, and lag the open-source release train. It is highly recommended to use API version 1.22 or later as: - It will have the longest life cycle of support from VMware - 1.22 dropped a number of APIs using 1.21 and below may introduce additional technical debt.</p>"},{"location":"Platform_Services/Kubernetes/kubernetes_versions/#resources","title":"Resources","text":"<ul> <li>Tanzu Kubernetes Release notes</li> <li>Tanzu life cycle support policy</li> <li>3rd party -  CSE &amp; TKG compatibility map</li> <li>Tanzu Kubernetes Grid 1.5.4 release notes</li> </ul>"},{"location":"Platform_Services/Kubernetes/obtaining_kube_config/","title":"Obtaining kube configuration files from VMware Cloud Director","text":""},{"location":"Platform_Services/Kubernetes/obtaining_kube_config/#overview","title":"Overview","text":"<p>This document will show the basic steps to interact with a Kubernetes Cluster via the <code>kubectl</code> tool.</p>"},{"location":"Platform_Services/Kubernetes/obtaining_kube_config/#kubectl-tool","title":"<code>kubectl</code> tool","text":"<p>To be able to interact with your Kubernetes Cluster you will require the <code>kubectl</code> tool.  This is the official tool from Kubernetes and is available for multiple Operating Systems.</p> <ul> <li> <p>Install guides for all OS (Linux/MacOS/Windows): https://kubernetes.io/docs/tasks/tools/</p> </li> <li> <p>Reference: https://kubernetes.io/docs/reference/kubectl/</p> </li> </ul>"},{"location":"Platform_Services/Kubernetes/obtaining_kube_config/#download-kube-config-from-vcd-plug-in-ui","title":"Download kube config from VCD plug-in UI","text":"<ol> <li> <p>Download via plugin example</p> <p></p> </li> <li> <p>Once downloaded you can view the configuration via the <code>kubectl</code> command:</p> <p></p> </li> <li> <p>If you move this file into the default kube configuration file location <code>~/.kube/config</code> as below, this file will be used as the default environment when issuing a <code>kubectl config view</code> command:</p> <p></p> <p>Access to multiple Kubernetes configuration files can be setup with the use of the <code>KUBECONFIG</code> environment variable, please refer to the Kubernetes documentation Configure Access to Multiple Clusters</p> </li> </ol>"},{"location":"Platform_Services/Kubernetes/obtaining_kube_config/#test-that-kubeconfig-works","title":"Test that <code>kubeconfig</code> works","text":"<p>Presumes API endpoint is accessible</p> <p>Your VDC must be setup to allow network access from your workstation to your cluster API endpoint over port 6443</p> <p>Given correct setup at a minimum you should be able to test basic visibility. <code>kubectl get nodes</code> should give you the list of your nodes including control planes nodes. e.g.</p> <pre><code>kubectl get nodes\nNAME                                          STATUS   ROLES                  AGE    VERSION\nmycluster-control-plane-node-pool-cf7nr         Ready    control-plane,master   3d3h   v1.22.9+vmware.1\nmycluster-worker-node-pool-1-5c95f5cc68-67jb4   Ready    &lt;none&gt;                 3d3h   v1.22.9+vmware.1\nmycluster-worker-node-pool-1-5c95f5cc68-g5kxv   Ready    &lt;none&gt;                 3d3h   v1.22.9+vmware.1\nmycluster-worker-node-pool-1-5c95f5cc68-rsx22   Ready    &lt;none&gt;                 3d3h   v1.22.9+vmware.1\n</code></pre>"},{"location":"Platform_Services/Kubernetes/provisioning_clusters_vcd_ui/","title":"Provisioning clusters from the VMware Cloud Director UI","text":""},{"location":"Platform_Services/Kubernetes/provisioning_clusters_vcd_ui/#overview","title":"Overview","text":"<p>This document is aimed to provide AUCloud tenancy administrators an overview on how to deploy a kubernetes cluster within VMware Cloud Director.</p> <p>Following the steps outlined in this document will create a Kubernetes cluster consisting of: three control plane nodes; a single worker node; and a load balancer configured to present the kubernetes (control plane) API.</p>"},{"location":"Platform_Services/Kubernetes/provisioning_clusters_vcd_ui/#prerequisites","title":"Prerequisites","text":"<p>Mandatory</p> <p>The below prerequisites are required to be in place before you can provision a Kubernetes cluster.  Networking details are outlined in more details under Kubernetes Networking Prerequisites.</p> <ul> <li>Account that has Organisation Administrator access to VCD tenancy</li> <li>Create Routed Network<ul> <li>Firewall rule to allow access to internet resources.</li> <li>NAT rule to allow access to internet resources.</li> </ul> </li> <li>External IP address or internal one on the specified routed network (at least one).  This is required for the Control Plane IP (virtual server, VIP) used to administer the Kubernetes cluster.</li> </ul>"},{"location":"Platform_Services/Kubernetes/provisioning_clusters_vcd_ui/#reference-material","title":"Reference Material","text":"<p>Official Kubernetes documentation on Components and Viewing Pods and Nodes.</p>"},{"location":"Platform_Services/Kubernetes/provisioning_clusters_vcd_ui/#create-a-cluster","title":"Create a cluster","text":"<ol> <li> <p>From a VCD tenancy, Select More &gt; Kubernetes Container Clusters.</p> <p></p> </li> <li> <p>Select NEW.</p> <p></p> </li> <li> <p>Select VMware Tanzu Kubernetes Grid as the Kubernetes runtime for the cluster.</p> <p></p> </li> <li> <p>Name the Cluster, and select the version of Kubernetes.</p> <p></p> </li> <li> <p>Select the Virtual Data Center (VDC) and Network for the new cluster.</p> <p></p> </li> <li> <p>Configure Control Plane settings.</p> <ul> <li>Sizing Policy you MUST select one of the TKG prefixed policies.  This table shows the size of the nodes deployed</li> </ul> TKG Policy Name vCPU Memory GB TGK extra-large 8 32 TGK large 4 16 TGK medium 2 8 TGK small 2 4 <ul> <li>Storage Policy should be your default VM Policy, ie Performance</li> </ul> <p>Note</p> <p>Best practice is at least 3 nodes for the control plane to provide redundancy for ETCD.</p> <p>Further information about AUCloud's node sizing, please see AUCloud KubernetesCluster sizing guide.</p> <p>For more information about kubernetes control planes, please see Kubernetes Components</p> <p> </p> </li> <li> <p>Configure Worker Pools.</p> <ul> <li> <p>Sizing Policy you MUST select one of the TKG prefixed policies.  Please see sizing table in previous Step 6 above.</p> </li> <li> <p>Storage Policy should be your default VM Policy, ie Performance</p> </li> </ul> <p>Note</p> <p>If your application requires HA please add additional nodes and also consider creating a placement policy for redundancy.  </p> <p></p> <p>For more information about kubernetes worker nodes please see Viewing Pods and Nodes</p> </li> <li> <p>Configure Kubernetes Storage.</p> <ul> <li>Kubernetes utilizes shared disks to communicate between worker nodes. The Shared Named Disks storage policy has been enabled to allow this integration with VMware Cloud Director via Named Disks. Failure to use the Shared Named Disks storage profile could lead to, performance degradation, corruption or complete data loss.</li> </ul> <p></p> </li> <li> <p>Configure the Kubernetes Networks.</p> <ul> <li> <p>Default Kubernetes CIDRs are usually fine.</p> </li> <li> <p>Control Plane IP (optional) - If you do not specify an (internal) IP address for the control plane (example: 192.168.0.200/24) the cluster IP for the control plane will utilize the limited amount of external IP address. If all external IPs are already used, the cluster creation process will fail.</p> </li> </ul> <p></p> </li> <li> <p>Leave the Auto Repair on Errors enabled.</p> <p></p> </li> <li> <p>Review and take note of the warning around the API token.</p> <p></p> </li> </ol>"},{"location":"Platform_Services/Kubernetes/resizing_clusters_vcd_ui/","title":"Resizing Kubernetes clusters using VCD","text":""},{"location":"Platform_Services/Kubernetes/resizing_clusters_vcd_ui/#overview","title":"Overview","text":"<p>This document is aimed to provide AUCloud tenancy administrators an overview on how to resize a kubernetes cluster (Control Plane or Worker Pool) within VMware Cloud Director.</p> <p>Following the steps outlined in this document will upgrade a Kubernetes cluster.</p>"},{"location":"Platform_Services/Kubernetes/resizing_clusters_vcd_ui/#resizing-a-cluster","title":"Resizing a cluster","text":"<ol> <li> <p>Open up the Kubernetes cluster that you wish to resize, and go to the Node Pools tab</p> <p></p> </li> <li> <p>Click the three dots next to the pool that will be resized and click Resize</p> <p></p> </li> <li> <p>Change the Number of Nodes to the desired value and click Submit</p> <p></p> </li> <li> <p>When checking the Node Pools tab of the cluster settings you will see the new number of the required nodes.</p> <p></p> </li> <li> <p>It will take a few minutes for the new nodes to deploy or be destroyed.  You can see these changes under the vApp details for the cluster</p> <p></p> </li> <li> <p>The resizing will take some time and will be completed once the Node Pools tab on the Kubernetes cluster shows the correct Node Count.</p> <p></p> </li> </ol>"},{"location":"Platform_Services/Kubernetes/upgrading_clusters_vcd_ui/","title":"Upgrading Kubernetes clusters using VCD","text":""},{"location":"Platform_Services/Kubernetes/upgrading_clusters_vcd_ui/#overview","title":"Overview","text":"<p>This document is aimed to provide AUCloud tenancy administrators an overview on how to upgrade a kubernetes cluster within VMware Cloud Director.</p> <p>Following the steps outlined in this document will upgrade a Kubernetes cluster.</p>"},{"location":"Platform_Services/Kubernetes/upgrading_clusters_vcd_ui/#upgrading-a-cluster","title":"Upgrading a cluster","text":"<ol> <li> <p>From a VCD tenancy, Select More &gt; Kubernetes Container Clusters.</p> <p></p> </li> <li> <p>Select the radio select for the cluster you wish to upgrade and the Upgrade column will start an assessment if an upgrade is available.  Once the assessment is finished the status of Available will be shown in this column.  If an upgrade is Available, the Upgrade button across the top menu will be available.  Click the Upgrade button to start the upgrade process.</p> <p></p> <p>This can also be done by clicking on the link of the cluster's name and viewing the status page as shown below:</p> <p></p> </li> <li> <p>The Upgrade Cluster menu will show the cluster's current version and available versions to upgrade to.  Select the version to upgrade to and click Upgrade.</p> <p></p> </li> <li> <p>There will be confirmation page that the upgrade process has started.  Click Close.</p> <p></p> </li> <li> <p>The Kubernetes menu will show the progress status of the upgrade under in the Upgrade column.</p> <p></p> <p>This can also be view within the 'details' page of the cluster in the VCD UI.</p> <p></p> </li> <li> <p>Once the kubernetes cluster has been upgraded, you will see the new version listed under the Kubernetes Version and the Upgrade column will show Not Available</p> <p></p> </li> </ol>"},{"location":"Platform_Services/Kubernetes/tanzu_packages/","title":"Tanzu packages","text":""},{"location":"Platform_Services/Kubernetes/tanzu_packages/#overview","title":"Overview","text":"<p>Clusters provisioned into VMware Cloud Director via the UI have an integration with \"Tanzu Packages\". Tanzu packages, based on Carvel, allows users to provision VMware validated software packages and templates into their clusters. Support for Tanzu packages is pre-installed into the clusters allowing ease use.</p>"},{"location":"Platform_Services/Kubernetes/tanzu_packages/#prerequisites","title":"Prerequisites","text":"<ul> <li>An AUCloud Kubernetes service provisioned cluster</li> <li>The <code>tanzu</code> CLI installed into your development environment</li> <li>Contact AUCloud support to get access to the latest <code>tanzu</code> binaries</li> <li>"},{"location":"Platform_Services/Kubernetes/tanzu_packages/#find-out-more","title":"Find out more","text":"<ul> <li>Read about how to use the <code>tanzu</code> CLI to install packages</li> <li>Read about how to use <code>kapp</code> to install packages</li> </ul>"},{"location":"Platform_Services/Kubernetes/tanzu_packages/customizing_tanzu_packages/","title":"Customizing tanzu packages","text":""},{"location":"Platform_Services/Kubernetes/tanzu_packages/customizing_tanzu_packages/#overview","title":"Overview","text":"<p>This document describes how to customize tanzu packages deployments. This article uses harbor as an example. This article only covers the customization of the package deployment. For more information on how to install packages, see Installing Tanzu Packages.</p>"},{"location":"Platform_Services/Kubernetes/tanzu_packages/customizing_tanzu_packages/#reference-urls","title":"Reference URLs","text":"<ul> <li>Harbor Registry</li> <li>VMware: Install Harbor into Tanzu Kubernetes Grid</li> <li>VMware: Installing and managing packages with the Tanzu CLI</li> </ul>"},{"location":"Platform_Services/Kubernetes/tanzu_packages/customizing_tanzu_packages/#process","title":"Process","text":""},{"location":"Platform_Services/Kubernetes/tanzu_packages/customizing_tanzu_packages/#check-package-availability-get-versions","title":"Check package availability / get versions","text":"<pre><code>tanzu package available list -n tanzu-package-repo-global\n\n  NAME                           DISPLAY-NAME  SHORT-DESCRIPTION                                                                                           LATEST-VERSION\n  cert-manager.tanzu.vmware.com  cert-manager  Certificate management                                                                                      1.5.3+vmware.2-tkg.1\n  contour.tanzu.vmware.com       contour       An ingress controller                                                                                       1.18.2+vmware.1-tkg.1\n  external-dns.tanzu.vmware.com  external-dns  This package provides DNS synchronization functionality.                                                    0.10.0+vmware.1-tkg.1\n  fluent-bit.tanzu.vmware.com    fluent-bit    Fluent Bit is a fast Log Processor and Forwarder                                                            1.7.5+vmware.2-tkg.1\n  grafana.tanzu.vmware.com       grafana       Visualization and analytics software                                                                        7.5.7+vmware.2-tkg.1\n  harbor.tanzu.vmware.com        harbor        OCI Registry                                                                                                2.3.3+vmware.1-tkg.1\n  multus-cni.tanzu.vmware.com    multus-cni    This package provides the ability for enabling attaching multiple network interfaces to pods in Kubernetes  3.7.1+vmware.2-tkg.2\n  prometheus.tanzu.vmware.com    prometheus    A time series database for your metrics                                                                     2.27.0+vmware.2-tkg.1\n</code></pre> <pre><code>tanzu package installed list -n tanzu-package-repo-global\n| Retrieving installed packages...\n  NAME  PACKAGE-NAME  PACKAGE-VERSION  STATUS\n</code></pre>"},{"location":"Platform_Services/Kubernetes/tanzu_packages/customizing_tanzu_packages/#try-to-install","title":"Try to install","text":"<p>Some packages require additional configuration. For example, harbor requires a password, and other variables, to be set. If you try to install a package without the required configuration, the installation will fail.</p> <pre><code>tanzu package install harbor --package-name harbor.tanzu.vmware.com  -n tanzu-package-repo-global --version 2.3.3+vmware.1-tkg.1\n\\ Installing package 'harbor.tanzu.vmware.com' Installing package 'harbor.tanzu.vmware.com'\n\nGetting package metadata for 'harbor.tanzu.vmware.com'\n\nCreating service account 'harbor-tanzu-package-repo-global-sa'\n\nCreating cluster admin role 'harbor-tanzu-package-repo-global-cluster-role'\n\nCreating cluster role binding 'harbor-tanzu-package-repo-global-cluster-rolebinding'\n\nCreating package resource\n\n Waiting for 'PackageInstall' reconciliation for 'harbor'\n\n'PackageInstall' resource install status: Reconciling\n| 'PackageInstall' resource install status: ReconcileFailed\n\nPlease consider using 'tanzu package installed update' to update the installed package with correct settings\n\n\n\nError: resource reconciliation failed: ytt: Error:\n- library.eval: Evaluating library 'bundle/config': Evaluating starlark template:\n    in &lt;toplevel&gt;\n      harbor.yaml:13 | --- #@ template.replace(upstream_lib.with_data_values(downstream_values()).eval())\n\nreason:\n     - assert.fail: fail: Harbor admin password should be provided\n         in validate_harbor_admin_password\n           28 |   values.harborAdminPassword or assert.fail(\"Harbor admin password should be provided\")\nin validate_harbor\n           112 |      validate_func()\nin &lt;toplevel&gt;\n           120 | validate_harbor()\n. Reconcile failed: Error (see .status.usefulErrorMessage for details)\nError: exit status 1\n\n\u2716  exit status 1\n</code></pre> <p>The state of the package installation can be queried using <code>tanzu package installed get &lt;package-name&gt; -n &lt;namespace&gt; -o yaml</code>. The output will show any errors that occurred during the installation.</p> <pre><code>tanzu package installed get harbor -n tanzu-package-repo-global -o yaml\n\n- conditions: '[{ReconcileFailed True  Error (see .status.usefulErrorMessage for details)}]'\nname: harbor\n  package-name: harbor.tanzu.vmware.com\n  package-version: 2.3.3+vmware.1-tkg.1\n  status: 'Reconcile failed: Error (see .status.usefulErrorMessage for details)'\nuseful-error-message: \"ytt: Error: \\n- library.eval: Evaluating library 'bundle/config':\n    Evaluating starlark template: \\n    in &lt;toplevel&gt;\\n      harbor.yaml:13 | ---\n    #@ template.replace(upstream_lib.with_data_values(downstream_values()).eval())\\n\\n\n    \\   reason:\\n     - assert.fail: fail: Harbor admin password should be provided\\n\n    \\        in validate_harbor_admin_password\\n           28 |   values.harborAdminPassword\n    or assert.fail(\\\"Harbor admin password should be provided\\\")\\n         in validate_harbor\\n\n    \\          112 |      validate_func()\\n         in &lt;toplevel&gt;\\n           120\n    | validate_harbor()\\n\"\n</code></pre>"},{"location":"Platform_Services/Kubernetes/tanzu_packages/customizing_tanzu_packages/#get-the-values-file-for-the-tanzu-package","title":"Get the values file for the tanzu package.","text":"<p>Similar to helm, tanzu packages has the concept of a <code>values</code> file, variables that can be set to configure the package. The values file schema can be pulled using <code>tanzu package available get &lt;package-name&gt; --values-schema -o yaml</code>. </p> <p>However, the schema is abstracted and cannot be used directly. To pull the default value file (as in) the package must be pulled and the values file extracted from the package.</p> <pre><code>image_url=$(kubectl -n tanzu-package-repo-global get packages harbor.tanzu.vmware.com.2.3.3+vmware.1-tkg.1 -o jsonpath='{.spec.template.spec.fetch[0].imgpkgBundle.image}')\nimgpkg pull -b $image_url -o /tmp/harbor-package-2.3.3\ncp /tmp/harbor-package-2.3.3/config/values.yaml harbor-data-values.yaml\nPulling bundle 'projects.registry.vmware.com/tkg/packages/standard/repo@sha256:e3dd598b9790e1ce24330d69138db21e5b062f457d85e0aeadf619281ec937bc'\nExtracting layer 'sha256:07fa4073051c53bd30455fd217e1fd7237ca0643f628a71036aa4d48d0638c61' (1/1)\n\nLocating image lock file images...\nThe bundle repo (projects.registry.vmware.com/tkg/packages/standard/repo) is hosting every image specified in the bundle's Images Lock file (.imgpkg/images.yml)\n\nSucceeded\n</code></pre>"},{"location":"Platform_Services/Kubernetes/tanzu_packages/customizing_tanzu_packages/#applying-the-values-file","title":"Applying the values file","text":"<p>After customization to apply the values file to your harbor install use:</p> <pre><code>tanzu package installed update harbor -n tanzu-package-repo-global --values-file harbor-data-values.yaml\n</code></pre> <p>If you are using a values file with a fresh install use:</p> <pre><code>tanzu package install harbor --package-name harbor.tanzu.vmware.com  -n tanzu-package-repo-global --version 2.3.3+vmware.1-tkg.1 --values-file harbor-data-values.yaml\n</code></pre>"},{"location":"Platform_Services/Kubernetes/tanzu_packages/deploying_monitoring/","title":"Deploying the supported Grafana / Prometheus monitoring stack","text":""},{"location":"Platform_Services/Kubernetes/tanzu_packages/deploying_monitoring/#fixme-do-not-release-until-tkg-offering-is-live","title":"FIXME DO NOT RELEASE UNTIL TKG offering is live","text":""},{"location":"Platform_Services/Kubernetes/tanzu_packages/kapp_to_install/","title":"Deploying Tanzu packages using kapp CRDs","text":""},{"location":"Platform_Services/Kubernetes/tanzu_packages/kapp_to_install/#overview","title":"Overview","text":"<p>Placeholder for cb0001 to update.</p>"},{"location":"Platform_Services/Kubernetes/tanzu_packages/tanzu_cli_install/","title":"Deploying Tanzu  packages using the Tanzu CLI","text":""},{"location":"Platform_Services/Kubernetes/tanzu_packages/tanzu_cli_install/#overview","title":"Overview","text":"<p>This document describes how to use the <code>tanzu</code> CLI to install validated packages into a Kubernetes cluster. If you are </p> <p>Preconfigured namespaces</p> <p>Tanzu packages have two namespaces </p> <ol> <li><code>tkg-system</code> for running control plane relevant components</li> <li><code>tanzu-package-repo-global</code> designed for user  A number of commands below require the namespace and may generate inconsistent results without referencing the existing installations.</li> </ol>"},{"location":"Platform_Services/Kubernetes/tanzu_packages/tanzu_cli_install/#step-1-check-what-is-installed","title":"Step 1: Check what is installed.","text":"<p>The kubernetes cluster comes with packages pre-configured into two namespaces <code>tkg-system</code> and <code>tanzu-package-repo-global</code>.  Users can use <code>tanzu package installed list</code> appended with the namespace <code>-n MYNAMESPACE</code> to interrogate what has been installed e.g. </p> <pre><code>tanzu package installed list -n tkg-system\n\n  NAME                           PACKAGE-NAME                              PACKAGE-VERSION                STATUS\n  antrea                         antrea.tanzu.vmware.com                   1.2.3+vmware.4-tkg.1-advanced  Reconcile succeeded\n  metrics-server                 metrics-server.tanzu.vmware.com           0.5.1+vmware.1-tkg.1           Reconcile succeeded\n  secretgen-controller           secretgen-controller.tanzu.vmware.com     0.7.1+vmware.1-tkg.1           Reconcile succeeded\n  tanzu-addons-manager           addons-manager.tanzu.vmware.com           1.5.0+vmware.1-tkg.6           Reconcile succeeded\n  tanzu-core-management-plugins  core-management-plugins.tanzu.vmware.com  0.11.6-1-g90440e2b+vmware.1    Reconcile succeeded\n  tanzu-featuregates             featuregates.tanzu.vmware.com             0.11.6-1-g90440e2b+vmware.1    Reconcile succeeded\n</code></pre> <p>The <code>tanzu-package-repo-global</code> namespace, by default will have no additional packages installed.</p>"},{"location":"Platform_Services/Kubernetes/tanzu_packages/tanzu_cli_install/#step-2-see-what-you-can-install","title":"Step 2: See what you can install.","text":"<p>User installed packages should use the <code>tanzu-package-repo-global</code> namespace by default. Use <code>tanzu package available list</code></p> <pre><code>tanzu package available list  -n tanzu-package-repo-global\n\\ Retrieving available packages... NAME                           DISPLAY-NAME  SHORT-DESCRIPTION                                                                                           LATEST-VERSION\n  cert-manager.tanzu.vmware.com  cert-manager  Certificate management                                                                                      1.5.3+vmware.2-tkg.1\n  contour.tanzu.vmware.com       contour       An ingress controller                                                                                       1.18.2+vmware.1-tkg.1\n  external-dns.tanzu.vmware.com  external-dns  This package provides DNS synchronization functionality.                                                    0.10.0+vmware.1-tkg.1\n  fluent-bit.tanzu.vmware.com    fluent-bit    Fluent Bit is a fast Log Processor and Forwarder                                                            1.7.5+vmware.2-tkg.1\n  grafana.tanzu.vmware.com       grafana       Visualization and analytics software                                                                        7.5.7+vmware.2-tkg.1\n  harbor.tanzu.vmware.com        harbor        OCI Registry                                                                                                2.3.3+vmware.1-tkg.1\n  multus-cni.tanzu.vmware.com    multus-cni    This package provides the ability for enabling attaching multiple network interfaces to pods in Kubernetes  3.7.1+vmware.2-tkg.2\n  prometheus.tanzu.vmware.com    prometheus    A time series database for your metrics                                                                     2.27.0+vmware.2-tkg.1\n</code></pre> <p>Incompatible packages</p> <p>The Tanzu packages list for the <code>tkg-system</code> namespace includes packages designed to operate with VMware's vSphere. The following packages should not be used as they have vcd equivalents installed already:</p> <ul> <li><code>vsphere-cpi.tanzu.vmware.com</code></li> <li><code>vsphere-csi.tanzu.vmware.com</code> </li> <li><code>load-balancer-and-ingress-service.tanzu.vmware.com</code></li> </ul>"},{"location":"Platform_Services/Kubernetes/tanzu_packages/tanzu_cli_install/#step-3-pick-a-package-to-install","title":"Step 3: Pick a  package to install","text":"<p>The tanzu packages all have configuration details that can be customized. In the case of <code>fluent-bit</code> shown below we do not apply the customization. Use <code>tanzu package install</code> with the following arguments:</p> <p><code>tanzu package install Friendly-name --package-name name-from-package-list -n namespace-of-package-list --version version-tag</code></p> <p>which results in:</p> <pre><code>tanzu package install fluent-bit --package-name fluent-bit.tanzu.vmware.com  -n tanzu-package-repo-global --version 1.7.5+vmware.2-tkg.1\n\n\\ Installing package 'fluent-bit.tanzu.vmware.com' Installing package 'fluent-bit.tanzu.vmware.com'\n\nGetting package metadata for 'fluent-bit.tanzu.vmware.com'\n\nCreating service account 'fluent-bit-tkg-system-sa'\n\nCreating cluster admin role 'fluent-bit-tkg-system-cluster-role'\n\nCreating cluster role binding 'fluent-bit-tkg-system-cluster-rolebinding'\n\nCreating package resource\n\n Waiting for 'PackageInstall' reconciliation for 'fluent-bit'\n\n'PackageInstall' resource install status: Reconciling\n\n 'PackageInstall' resource install status: ReconcileSucceeded\n\n 'PackageInstall' resource successfully reconciled\n\n\n Added installed package 'fluent-bit'\n</code></pre>"},{"location":"Platform_Services/Kubernetes/tanzu_packages/tanzu_cli_install/#step-4-validate-the-install","title":"Step 4: Validate the install","text":"<pre><code>tanzu package installed list -n tanzu-package-repo-global\n\\ Retrieving installed packages... NAME                           PACKAGE-NAME                              PACKAGE-VERSION                STATUS\n  fluent-bit                     fluent-bit.tanzu.vmware.com               1.7.5+vmware.2-tkg.1           Reconcile succeeded\n</code></pre> <p>Users can also use <code>kubectl get pods -A</code> to validate that the pods have being provisioned.</p>"},{"location":"Platform_Services/M365_Backup/M365_Backup_common_errors_and_actions/","title":"M365 Backup common errors and actions","text":""},{"location":"Platform_Services/M365_Backup/M365_Backup_common_errors_and_actions/#overview","title":"Overview","text":"<p>The following table will outline common errors that customers will receive in reports for their M365 backup service and the actions a customer can take to resolve them:</p> Error Solution Cannot change WebPart ExportMode to \u2018All\u2019. WebPart will be skipped To allow the \"Export Mode\" to be changed by Veeam Backup for Microsoft 365, you must enable the \"Allow custom script\" option for the affected SharePoint sites. <p></p><ul>For Personal Sites or OneDrives:<li>Microsoft 365: Allow or prevent custom script - To allow custom script on OneDrive or user-created sites</li></ul><ul>For any other SharePoint sites:<li>Microsoft 365: Allow or prevent custom script -To allow custom script on other SharePoint sites</li></ul> Failed to find Team mailbox owner account A user with an active Microsoft license needs to be assigned to the team's mailbox to resolve this error. Mailbox/User does not have a valid M365 license User without a valid M365 license needs to be provided with one to enable them as a mail enabled user. Inside the portal restore enabled customers are only able to see their own mailbox and not others within the organisation Customers must change scope inside the restore portal to restore objects from the entire organisation. (Exchange) Failed to access mailbox. The SMTP address has no mailbox associated with it This requires investigation of the backend mailbox and may be because the mailbox has been deleted. (Exchange) Failed to access mailbox. Access is denied. Check credentials and try again This is potentially an issue with the permissions of the impersonation account. (Exchange) Failed to find group owner account Orphaned or decommissioned mailbox that is without an owner. (SharePoint)\u00a0 Cannot change web part export mode to \u2018All\u2019, because custom scripting is disabled for site: <code>&lt;site name&gt;</code>.\u00a0Web part will be skipped Known issue. Refer to the following to remove/reduce these warnings:\u00a0Veeam KB4091 (SharePoint)\u00a0\u00a0Item may have a virus reported by the virus scanner plug-in The file appears to be locked by the virus software. Refer to:\u00a0SharePoint Online or OneDrive for Business Backup Jobs fail with the Warning (SharePoint)\u00a0\u00a0This site has exceeded its maximum file storage limit. To free up space, delete files you don't need and empty the recycle bin <ul>Please check the storage limit by following the steps mentioned in the below links:<li>Create, edit, and delete quota templates in SharePoint Server</li><li>Items stored under recycle bin will also add to the storage quota. Hence, you can delete the items residing under Site/Site Collection Recycle Bin to free up some space for the time being:\u00a0Restore deleted items from the site collection recycle bin </li></ul><ul>Other useful links may be:<li>Sharepoint web site has exceeded</li><li>Collection quota changed but not taking effect</li></ul>"},{"location":"Platform_Services/M365_Backup/azureAD_application_permission_requirements/","title":"Azure AD Application Permission Requirements","text":""},{"location":"Platform_Services/M365_Backup/azureAD_application_permission_requirements/#permissions-for-modern-app-only-authentication","title":"Permissions for Modern App-Only Authentication","text":"<p>Tables in this section list permissions for Azure AD applications that are granted automatically by\u00a0Veeam Backup for Microsoft Office 365\u00a0when you add organizations using the\u00a0modern app-only authentication method.</p>"},{"location":"Platform_Services/M365_Backup/azureAD_application_permission_requirements/#permissions-for-backup","title":"Permissions for Backup","text":"<p>All listed permissions are of the\u00a0Application\u00a0type.</p> API Permission Name Exchange Online SharePoint Online and OneDrive for Business Microsoft Teams Description Microsoft Graph Directory.Read.All \u2714 \u2714 \u2714 Querying Azure AD for organization properties, the list of users and groups and their properties. Group.Read.All \u2714 \u2714 \u2714 Querying Azure AD for the list of groups and group sites. Group.Read.Write.All \u2714 \u2714 Querying Azure AD for the list of groups and group sites. Sites.Read.All \u2714 \u2714 Querying Azure AD for the list of sites and getting download URLs for files and their versions. TeamSettings.ReadWrite.All \u2714 Accessing archived teams. ChannelMessage.Read.All \u2714 Accessing all Teams public channel messages. Note: This permission is only required if you want to back up team chats using Teams Export APIs. For more information, see\u00a0Organization Object Types. Office 365 Exchange Online1 Full Access As App \u2714 \u2714 Reading mailboxes content. SharePoint Sites.FullControl.All \u2714 \u2714 Reading SharePoint sites and OneDrive accounts content. User.Read.All \u2714 \u2714 Reading OneDrive accounts (getting site IDs). Note: This permission is not used to back up Microsoft Teams data, but you must grant it along with SharePoint Online and OneDrive for Business permission to add Microsoft 365 organization successfully."},{"location":"Platform_Services/M365_Backup/azureAD_application_permission_requirements/#permissions-for-restore","title":"Permissions for Restore","text":"<p>All listed permissions are of the\u00a0Delegated\u00a0type and required for data restore using Veeam Explorers.</p> API Permission Name Exchange Online SharePoint Online and OneDrive for Business Microsoft Teams Description Microsoft Graph Directory.Read.All \u2714 \u2714 \u2714 Querying Azure AD for organization properties, the list of users and groups and their properties. Group.ReadWrite.All \u2714 Recreating in Azure AD an associated group in case of teams restore. Sites.Read.All \u2714 \u2714 Accessing sites of the applications that are installed from the SharePoint store. Directory.ReadWrite.All \u2714 Setting the preferred data location when creating a new M365 group for a multi-geo tenant in case of teams restore. Offline Access \u2714 \u2714 \u2714 Obtaining a refresh token from Azure AD. Office 365 Exchange Online1 EWS.AccessAsUser.All \u2714 Accessing mailboxes as the signed-in user (impersonation) through EWS. SharePoint AllSites.FullControl \u2714 \u2714 Reading the current state and restoring SharePoint sites and OneDrive accounts content. User.Read.All \u2714 Resolving OneDrive accounts (getting site IDs). Note: This permission is not required to restore SharePoint Online data. <ol> <li> <p>You can check permissions for Office 365 Exchange Online API. For more information, see\u00a0Checking Permissions for Office 365 Exchange Online API.\u00a0\u21a9\u21a9</p> </li> </ol>"},{"location":"Platform_Services/M365_Backup/configuration/","title":"Configuration of Microsoft M365 Service Account","text":""},{"location":"Platform_Services/M365_Backup/configuration/#information-on-how-to-configure-your-m365-service-account-for-auclouds-m365-backup-as-a-service","title":"Information on how to configure your M365 service account for AUCloud's M365 Backup as a Service","text":"<p>This guide outlines the steps required to configure and implement your Office 365 Backup with AUCloud using the modern authentication method. You will be allocated a Customer Success Manager (CSM) who will assist you with the on-boarding process, provide advice and act as a conduit to deeper technical support when required.</p>"},{"location":"Platform_Services/M365_Backup/configuration/#prerequisites","title":"Prerequisites","text":"<ul> <li>A Microsoft Office 365 account that has an active subscription.</li> <li> <p>The Microsoft Office 365 account must have permission to manage applications in Azure Active Directory (Azure AD). Any of the following Azure AD roles include the required permissions:</p> </li> <li> <p>Application administrator</p> </li> <li>Application developer</li> <li> <p>Cloud application administrator</p> </li> <li> <p>Completion of the Set up a tenant quick start.</p> </li> <li>AUCloud provided certificate (public key) to be used in application registration.</li> <li>Create a backup service account in Azure AD with Exchange, Sharepoint and Teams admin rights</li> </ul>"},{"location":"Platform_Services/M365_Backup/configuration/#azure-ad-application-permissions","title":"Azure AD Application permissions","text":""},{"location":"Platform_Services/M365_Backup/configuration/#register-an-application","title":"Register an application","text":"<ol> <li>In the Microsoft Office 365 Admin Centre, navigate to Azure Active Directory.</li> <li>Under Manage, select App registrations &gt; New registration.</li> <li> <p>Enter a display Name and select the Accounts in this organizational directory only.</p> <p>Note</p> <p>The Redirect URI can be left blank.</p> </li> <li> <p>Select Register to complete the initial app registration.</p> </li> </ol> <p></p>"},{"location":"Platform_Services/M365_Backup/configuration/#configure-application-permissions","title":"Configure Application permissions","text":"<p>Select the newly registered application, select API permissions, and add permissions for:</p> <ul> <li>Microsoft Graph</li> <li>Office 365 Exchange Online</li> <li> <p>SharePoint</p> <p>Note</p> <p>To search for other API, select APIs my organisation uses.</p> </li> </ul> <p></p> <p>For each API e.g., Microsoft graph, add the appropriate delegated (restore) and application (backup) type permissions as per below:</p> <p></p> <ol> <li> <p>Delegated (restore) permissions</p> <p>Note</p> <p>All listed permissions are required for data restore using Veeam Explorers</p> </li> <li> <p>Application (backup) permissions</p> </li> <li> <p>After all APIs are added, you will need to grant admin consent</p> </li> </ol> <p></p>"},{"location":"Platform_Services/M365_Backup/configuration/#add-a-certificate-public-key","title":"Add a Certificate (public key)","text":"<ol> <li>Select Certificates &amp; secrets &gt; Certificates.</li> <li>Select Upload certificate.</li> <li> <p>Browse for the certificate to be uploaded.</p> <p>Note</p> <p>AUCloud will provide this certificate.</p> </li> <li> <p>Enter a description.</p> </li> <li>Select Add.</li> </ol> <p></p>"},{"location":"Platform_Services/M365_Backup/configuration/#join-secure-meeting-with-aucloud","title":"Join secure meeting with AUCloud","text":"<p>A joint session with the AUCloud technical team is required for you to enter the necessary credentials to finalise the configuration of the Veeam Backup for Office 365 application. This can be organised via Webex, Zoom, Teams chat or face-to-face meeting. Please advise your CSM on what suits best.</p> <ul> <li>Username</li> <li>Application ID</li> </ul> <p></p>"},{"location":"Platform_Services/M365_Backup/configuration/#restore-portal-access-requirements","title":"Restore Portal Access Requirements","text":"<p>To access the Veeam restore portal, you must add an Enterprise Application in Azure AD</p>"},{"location":"Platform_Services/M365_Backup/configuration/#prerequisite","title":"Prerequisite","text":"<p>For the below, you need to use a Service Account with enough rights to perform an Enterprise Application install on Azure AD. In order to perform these steps, we will need the AzureAD PowerShell cmdlet. To install this, open PowerShell and run the following command:</p> <pre><code>Install-Module -Name AzureAD\n</code></pre> <p>You may be prompted to install and import the NuGet provider. Please press Y to continue through this.</p> <p>The next command will connect your PowerShell to AzureAD. Use credentials with admin rights to perform an Enterprise Application install:</p> <pre><code>Connect-AzureAD \n</code></pre> <p>This will open a traditional username and password Microsoft popup: Please enter your service account username and password in this popup including MFA if prompted.</p> <p>We should see something like this if everything worked smoothly:</p> <p></p> <p>And the final step which brings everything together:</p> <pre><code>New-AzureADServicePrincipal -AppId \"33831092-5ae1-4b51-9eb2-a90033803540\"\n</code></pre> <p>If everything works as expected, the output should show something similar to this:</p> <p></p> <p>If you receive an error that the application ID already exists, you must delete the pre-existing Enterprise Application \u2018Veeam VBO\u2019 from your Azure AD and then repeat the above command.</p> <p>Last-Step - Give permission to the new Application on Azure AD</p> <ul> <li>Under Enterprise Applications, remove the enterprise applications filter, and order them by date.</li> </ul> <p>You should see a new Veeam VBO application (the name of the Restore Portal).</p> <p></p> <p>On the Enterprise Application, go to Permissions, and press Grant admin consent</p> <p></p> <p>That process will ask us again for an authorized account.</p> <p>We should see something like this:</p> <p></p> <p>Configuration is completed. You can then proceed to test connectivity to the Restore Portal.</p> <p>Restore Portal URLs</p>"},{"location":"Platform_Services/M365_Backup/guide_to_veeam_restore_portal/","title":"Guide to the Veeam Restore Portal","text":""},{"location":"Platform_Services/M365_Backup/guide_to_veeam_restore_portal/#roles","title":"Roles","text":"<p>Any user from the connected Microsoft 365 organisation can log in to access and restore their own data from the most recent backup job. Users log in with their existing Microsoft 365 credentials.</p> <p>Restore Operators can be specified as individuals or as security groups (where users can be managed by the customer) that can access the restore portal for all or specified objects. Please discuss your requirements for restore operators with your Customer Success Manager who can assist with setting these up for you.</p>"},{"location":"Platform_Services/M365_Backup/guide_to_veeam_restore_portal/#launching-the-restore-portal","title":"Launching the Restore Portal","text":""},{"location":"Platform_Services/M365_Backup/guide_to_veeam_restore_portal/#log-in","title":"Log in","text":"<p>To launch the Restore Portal, do the following:</p> <ol> <li> <p>Open a web browser on any computer and navigate to the\u00a0Restore Portal\u00a0web address.</p> <p>Note</p> <p>Internet Explorer is not supported. To access\u00a0Restore Portal, please use Microsoft Edge (version 79 or later), Mozilla Firefox (version 21 or later) or Google Chrome (version 24 or later).</p> </li> <li> <p>On the welcome page, enter a user account that you use to connect to the Microsoft 365 organization.\u00a0You must provide a user account in one of the following formats:</p> <ul> <li>'user@domain.com'\u00a0or</li> <li>'user@domain.onmicrosoft.com'</li> </ul> </li> <li> <p>Click\u00a0Log In.\u00a0Restore Portal\u00a0will redirect you to the Microsoft authentication portal where you will be prompted to enter your Microsoft 365 user account password.</p> <p></p> </li> </ol>"},{"location":"Platform_Services/M365_Backup/guide_to_veeam_restore_portal/#log-out","title":"Log out","text":"<p>To log out of\u00a0Restore Portal, in the upper-right corner of the\u00a0Restore Portal\u00a0window, click the user name and click\u00a0Log Out. After you log out, all sessions that were opened by\u00a0Veeam Backup for Microsoft 365\u00a0to explore backed-up data are stopped. Restore sessions with restore operations that are running on\u00a0Restore Portal\u00a0will continue in the background till data restore completes.  </p> <p></p>"},{"location":"Platform_Services/M365_Backup/guide_to_veeam_restore_portal/#user-interface","title":"User Interface","text":"<p>The web-based user interface of\u00a0the Restore Portal\u00a0is designed to let you quickly explore backed-up Microsoft Exchange, Microsoft SharePoint and Microsoft OneDrive for Business data in one window. It allows you to view details about restore sessions progress and results and the restore sessions history. The main window consists of the\u00a0Explore,\u00a0Restore Sessions\u00a0and\u00a0Restore List\u00a0tabs.</p>"},{"location":"Platform_Services/M365_Backup/guide_to_veeam_restore_portal/#explore-tab","title":"Explore Tab","text":"<p>This tab contains two panes:</p> <ul> <li>The navigation pane allows you to browse through the hierarchy of folders with backed-up data. Nodes with Microsoft Exchange, Microsoft OneDrive for Business and Microsoft SharePoint data are displayed in the navigation pane separately. Availability of nodes differs depending on backups created by\u00a0Veeam Backup for Microsoft 365\u00a0for an object whose backed-up data is being explored.</li> </ul> <p>For example, for a\u00a0user\u00a0object the following data can be displayed:</p> <ul> <li>Exchange Online mailbox</li> <li>Archive mailbox</li> <li>OneDrive for Business</li> <li>Personal Site (available only for restore operators)</li> </ul> <p>For restore operators,\u00a0Restore Portal\u00a0displays data for user objects and SharePoint sites that restore operators are allowed to explore.</p> <ul> <li>The preview pane allows you to view details about items that are contained in a folder you have selected in the navigation pane. You can search items and select items that you want to restore or add to the restore list.</li> </ul> <p>Note</p> <p>Consider the following: Restore Portal displays up to 2000 items, so search for specific items. You can narrow your search results by specifying various search criteria using the criteria:value format. For more information about search parameters, see this section of REST API Reference. You can also use logical upper-cased operators such as AND, OR and NOT along with wildcard characters such as * and ?. To search items by a specific date/time, specify the time in the UTC format. You can hover over the date in the Received column to view the UTC value.</p> <p></p>"},{"location":"Platform_Services/M365_Backup/guide_to_veeam_restore_portal/#restore-sessions-tab","title":"Restore Sessions Tab","text":"<p>On this tab, you view details about restore session progress and results. You can do the following:</p> <ul> <li>Stop a restore session.</li> <li>Search and filter restore sessions by type, status and time period.</li> <li>View the list of events that occurred during a restore session, search and filter events by their status.</li> </ul> <p></p>"},{"location":"Platform_Services/M365_Backup/guide_to_veeam_restore_portal/#restore-list-tab","title":"Restore List Tab","text":"<p>On this tab, you view and edit the content of the restore list. This tab appears only if a restore list is not empty. You can do the following:</p> <ul> <li>Select items that you want to restore.</li> <li>Remove items from the restore list.</li> <li>Search and filter items by their restore status.</li> </ul> <p></p>"},{"location":"Platform_Services/M365_Backup/guide_to_veeam_restore_portal/#notification-pane","title":"Notification Pane","text":"<p>Notification pane is hidden in the upper-right corner of the\u00a0Restore Portal\u00a0window under the\u00a0notification\u00a0icon shaped like a bell. To expand the notification pane, click the notification icon.  </p>"},{"location":"Platform_Services/M365_Backup/guide_to_veeam_restore_portal/#managing-notifications","title":"Managing Notifications","text":"<p>Restore Portal\u00a0notifies you about restore sessions results. Notifications appear in the notification pane. Each notification includes a restore session name, a status icon, and a status link. If you click the restore session status link,\u00a0Restore Portal\u00a0opens the Restore\u00a0Sessions tab and navigates you directly to the restore session record. If you want the notification pane to expand automatically when a new notification appears, do the following:</p> <ol> <li>Click the notification icon to expand the notification pane.</li> <li>Enable the\u00a0Auto-display new messages\u00a0option.</li> </ol> <p></p>"},{"location":"Platform_Services/M365_Backup/guide_to_veeam_restore_portal/#changing-restore-operator-scope","title":"Changing Restore Operator Scope","text":"<p>After logging in to\u00a0Restore Portal, restore operators can view the list of objects available to them to manage \u2014 that is, to explore and restore data from backups created by\u00a0Veeam Backup for Microsoft 365\u00a0for these objects. Restore operators can manage data of organization objects separately. Thus, they must switch between the managed objects: users, groups (group members only), sites, or the entire Microsoft 365 organization. In terms of\u00a0Veeam Backup for Microsoft 365, this operation is called\u00a0Changing restore operator scope.</p> <p>Note</p> <p>If a restore operator is allowed to explore and restore data from backups created by Veeam Backup for Microsoft 365 for all objects (except teams) within a Microsoft 365 organization, loading of available objects may take a considerable time. To avoid this, the Veeam Backup for Microsoft 365 administrator can edit the restore operator role settings and select not the entire organization, but specific users, groups, or sites as objects to manage.</p> <p>To select an object whose backed-up data a restore operator will explore and restore, do the following:</p> <ol> <li>In the upper-right corner of the\u00a0Restore Portal\u00a0window, click the user name and select\u00a0Change Scope.</li> <li>In the\u00a0Change scope\u00a0window, select an object that you want to manage. You can search objects and filter them by their organization object type.</li> <li>Click\u00a0Change scope.</li> </ol> <p>The name of the selected object will appear in the upper-right corner of the\u00a0Restore Portal\u00a0window under the restore operator user name. The\u00a0Explore tab will be displayed, on which you can browse through the hierarchy of folders with backed-up data of the selected object.  </p> <p></p>"},{"location":"Platform_Services/M365_Backup/guide_to_veeam_restore_portal/#performing-restores","title":"Performing Restores","text":"<p>After logging in to\u00a0Restore Portal, you can explore and restore data from backups created by\u00a0Veeam Backup for Microsoft 365. If you act as an\u00a0end user, you perform self-service restore of your own data. If you have a\u00a0restore operator\u00a0permissions, you explore and restore backed-up data for those objects that you are allowed to manage. To select items that you want to restore, do the following:</p> <ol> <li>Open the\u00a0Explore\u00a0tab.</li> <li>In the navigation pane, browse through the hierarchy of folders with backed-up data.</li> <li>Select a folder that contains data you want to restore.</li> <li>In the preview pane, select check boxes next to the necessary items.</li> </ol> <p>For documents and files, you can select which version of an item you want to restore. To do this, in the\u00a0Version\u00a0column, click the most recent version number, and in the displayed window, select the earlier version to restore.</p> <p>Note</p> <p>Consider the following: Restore Portal displays up to 2000 items, so search for specific items. You can narrow your search results by specifying various search criteria using the criteria:value format. You can also use logical upper-cased operators such as AND, OR and NOT along with wildcard characters such as * and ?. To search items by a specific date/time, specify the time in the UTC format. You can hover over the date in the Received column to view the UTC value.</p> <ol> <li>Click\u00a0Restore.</li> <li> <p>Configure restore operation options. Depending on the type of items that you selected to restore,\u00a0Restore Portal\u00a0runs one of the following wizards:</p> </li> <li> <p>Exchange Restore</p> </li> <li>Sharepoint Restore</li> <li>OneDrive Restore</li> </ol> <p></p>"},{"location":"Platform_Services/M365_Backup/guide_to_veeam_restore_portal/#using-restore-list","title":"Using Restore List","text":"<p>If you want to select items located in different folders in the hierarchy of folders with backed-up data displayed in the navigation pane, you can add them to the restore list. For example, you can add to the restore list one by one items of different types: mailbox items, OneDrive and SharePoint files, and proceed to their restore. To add items to the restore list, do the following:  </p> <ol> <li>Open the Explore tab.  </li> <li>In the navigation pane, browse through the hierarchy of folders with backed-up data.  </li> <li>Select a folder that contains data you want to restore.  </li> <li>In the preview pane, select check boxes next to the necessary items. For documents and files, you can select which version of an item you want to restore. To do this, in the Version column, click the most recent version number, and in the displayed window, select the earlier version to restore.  </li> <li>Click Add to Restore List.  </li> <li>Repeat steps 2\u20135 to add more items to the restore list.  </li> <li>On the Restore List tab, review the list of items that you added to the restore list.  </li> <li>To restore items, select check boxes next to the necessary items and click Restore and then select one of the following options:  <ul> <li>Restore Exchange Items. This option runs the\u00a0Exchange Restore\u00a0wizard.  </li> <li>Restore OneDrive Items. This option runs the\u00a0OneDrive Restore\u00a0wizard.  </li> <li>Restore SharePoint Items. This option runs the\u00a0SharePoint Restore\u00a0wizard.  </li> <li>Restore SharePoint Documents. This option runs the\u00a0SharePoint Restore\u00a0wizard. To remove items from the restore list, select check boxes next to the necessary items and click Remove from Restore List.</li> </ul> </li> <li>Follow the steps of the wizard that you ran and configure restore operation options. Mind that you must run wizards manually one after another.  </li> </ol> <p></p>"},{"location":"Platform_Services/M365_Backup/guide_to_veeam_restore_portal/#exchange-restore","title":"Exchange Restore","text":"<p>The\u00a0Exchange Restore\u00a0wizard allows you to configure options that\u00a0Veeam Backup for Microsoft 365\u00a0will apply when restoring the selected Microsoft Exchange items. To configure Exchange restore, do the following:</p> <ol> <li> <p>At the\u00a0Items\u00a0step, specify items that you want to restore. If you no longer want to restore an item, select it and click\u00a0Remove.</p> <p></p> </li> <li> <p>At the\u00a0Restore mode\u00a0step, select where you want to restore the selected items:</p> <ul> <li>Restore to the original location. Select this option if you want to restore the selected items to their original location. Then proceed to step 5.</li> <li>Restore to a new location. Select this option if you want to restore the selected items to another location and specify the folder name in the\u00a0Restore to the following folder\u00a0field. If the specified folder does not exist, it will be created automatically.</li> </ul> <p></p> </li> <li> <p>Click\u00a0Advanced options\u00a0to open the\u00a0Restore options\u00a0dialog.</p> </li> <li> <p>In the\u00a0Restore options\u00a0dialog, select check boxes next to the additional options that you want to apply during the restore operation and then click\u00a0Apply:</p> <ul> <li>Restore changed items. Select this check box if you want to restore items that have been changed.</li> <li>Restore missing items. Select this check box if you want to restore items that are missing in the target folder.</li> <li>Mark restored items as unread. Select this check box if you want to mark each restored item as unread.</li> </ul> <p></p> </li> <li> <p>[Optional] At the\u00a0Reason\u00a0step, specify a restore reason. This information will be available in the\u00a0Reason\u00a0column on the\u00a0Restore Sessions\u00a0tab and you will be able to reference it later.</p> </li> <li> <p>At the\u00a0Summary\u00a0step, review details of the restore operation and click\u00a0Finish.</p> </li> </ol> <p>Restore Portal\u00a0runs the restore operation immediately and opens the Restore Sessions\u00a0tab, where you view details about restore session progress and results.  </p>"},{"location":"Platform_Services/M365_Backup/guide_to_veeam_restore_portal/#sharepoint-restore","title":"SharePoint Restore","text":"<p>The\u00a0SharePoint Restore\u00a0wizard allows you to configure options that\u00a0Veeam Backup for Microsoft 365\u00a0will apply when restoring the selected Microsoft SharePoint items. To configure SharePoint restore, do the following:</p> <ol> <li> <p>At the\u00a0Items\u00a0step, specify items that you want to restore. If you no longer want to restore an item, select it and click\u00a0Remove.</p> <p></p> </li> <li> <p>At the\u00a0Restore mode\u00a0step, select where you want to restore the selected items:</p> <ul> <li>Restore to the original location. Select this option if you want to restore the selected items to their original location. Then proceed to step 5.</li> <li>Restore to a new location. Select this option if you want to restore the selected items to another location and specify the list name in the\u00a0Restore to the following list\u00a0field.</li> </ul> <p>Mind that if you restore document libraries, lists or documents and the specified list does not exist, it will be created automatically. If you restore list items, make sure to specify a list that exists in the original SharePoint site.  </p> <p></p> </li> <li> <p>Click\u00a0Advanced options\u00a0to open the\u00a0Restore options\u00a0dialog.</p> </li> <li> <p>In the\u00a0Restore options\u00a0dialog, select check boxes next to the additional options that you want to apply during the restore operation and then click\u00a0Apply:</p> <ul> <li>Changed items. Select this check box if you want to restore data that has been modified in the production environment.</li> <li>Missing items. Select this check box if you want to restore missing items.</li> <li>Restore permissions. Select this check box if you want to restore permissions.</li> <li>Send a notification by email to the users with permissions to the file. Select this check box if you want to notify users about items restore.</li> <li>Restore only the latest version. Select this check box if you want to restore only the latest version of items.</li> <li>Overwrite. Select this option to overwrite data in the production environment.</li> <li>Merge. Select this option to merge an existing and a backup version of items.</li> </ul> <p></p> </li> <li> <p>[Optional] At the\u00a0Reason\u00a0step, specify a restore reason. This information will be available in the\u00a0Reason\u00a0column on the\u00a0Restore Sessions\u00a0tab and you will be able to reference it later.</p> </li> <li> <p>At the\u00a0Summary\u00a0step, review details of the restore operation and click\u00a0Finish.</p> </li> </ol> <p>Restore Portal\u00a0runs the restore operation immediately and opens the Restore Sessions tab, where you view details about restore session progress and results.  </p>"},{"location":"Platform_Services/M365_Backup/guide_to_veeam_restore_portal/#onedrive-restore","title":"OneDrive Restore","text":"<p>The\u00a0OneDrive Restore\u00a0wizard allows you to configure options that\u00a0Veeam Backup for Microsoft 365\u00a0will apply when restoring the selected Microsoft OneDrive for Business items. To configure OneDrive restore, do the following:</p> <ol> <li> <p>At the\u00a0Items\u00a0step, specify items that you want to restore. If you no longer want to restore an item, select it and click\u00a0Remove.</p> <p></p> </li> <li> <p>At the\u00a0Restore mode\u00a0step, choose whether you want to overwrite the file or document in the original location or keep the restored one along with the original.</p> <p></p> </li> <li> <p>[Optional] At the\u00a0Reason\u00a0step, specify a restore reason. This information will be available in the\u00a0Reason\u00a0column on the\u00a0Restore Sessions\u00a0tab and you will be able to reference it later.</p> </li> <li> <p>At the\u00a0Summary\u00a0step, review details of the restore operation and click\u00a0Finish.</p> </li> </ol> <p>Restore Portal\u00a0runs the restore operation immediately and opens the Restore Sessions tab, where you view details about restore session progress and results.</p>"},{"location":"Platform_Services/M365_Backup/guide_to_veeam_restore_portal/#additional-functionality","title":"Additional Functionality","text":"<p>There are additional features and functionality that can be performed on a secure call with an AUCloud Compute &amp; Storage Engineer. Please contact Support if you wish to perform any of the following:</p> <ul> <li>Access backup data from further back in time than the most recent backup</li> <li>Restore data to a different location/mailbox/tenant</li> <li>Export data as a pst/msg/zip file</li> <li>Explore and restore Group Mailboxes</li> <li>Explore and Restore Microsoft Teams data</li> </ul> <p>For further questions about the capabilities of the restore portal, please contact Support.</p>"},{"location":"Platform_Services/M365_Backup/overview/","title":"M365 Backup Overview","text":""},{"location":"Platform_Services/M365_Backup/overview/#veeam-backup-for-m365-overview","title":"Veeam Backup for M365 Overview","text":"<p>This guide outlines the steps required to implement your Office 365 Backup with AUCloud. You will be allocated a Customer Success Manager (CSM) who will assist you with the on-boarding process, provide advice and act as a conduit to deeper technical support when required.</p> <p>There are several steps which need to be carried out to configure your M365 Backup account in AUCloud. These steps are outlined below and covered in more detail in separate articles.  </p>"},{"location":"Platform_Services/M365_Backup/overview/#provide-aucloud-with-your-backup-requirements","title":"Provide AUCloud with your backup requirements","text":"<p>Your Sales Executive or CSM will gather your requirements including:</p> <ul> <li>Microsoft Office Components to be backed up</li> <li>Tenancy Size</li> <li>Backup information including your Public IP address for gateway allow-listing</li> <li>Backup exclusions</li> <li>Backup schedule</li> <li>Backup repository retention policy, and</li> <li>The authentication method  </li> </ul>"},{"location":"Platform_Services/M365_Backup/overview/#creation-of-your-account-in-the-aucloud-portal","title":"Creation of your account in the AUCloud Portal","text":"<p>Your CSM will arrange for an account to be created for you in the AUCloud Portal.</p> <p>Once your account has been created, your security contact will be required to sign the Community Rules Information Security Policy (CRISP) electronically in the Portal. The CRISP dictates the behaviours and responsibilities for both AUCloud and all customers that we must jointly adhere to.  </p>"},{"location":"Platform_Services/M365_Backup/overview/#configuration-of-microsoft-m365-service-account","title":"Configuration of Microsoft M365 Service account","text":"<p>You will need to configure a Microsoft Veeam Backup Service account. To prevent Microsoft throttling of the backups, we recommend creating 8 users under this account.  </p>"},{"location":"Platform_Services/M365_Backup/overview/#provide-details-to-aucloud","title":"Provide details to AUCloud","text":"<p>The backup service account username and app password need to be provided to AUCloud to complete the setup of your account. These details can be entered via Webex, Zoom, Teams chat or by coming to our office and entering them manually.  </p>"},{"location":"Platform_Services/M365_Backup/overview/#restore-records-through-the-self-service-portal","title":"Restore records through the Self-Service portal","text":"<p>Records can be restored through the Self-Service Portal.</p>"},{"location":"Platform_Services/Object_Storage/","title":"Object Storage","text":""},{"location":"Platform_Services/Object_Storage/#overview","title":"Overview","text":"<p>Object storage is a data storage architecture that manages data as objects, as opposed to other storage architectures which manage data as a file hierarchy.  The S3 object storage in use at AUCloud has features to protect data. These features include encryption, access controls, versioning, life cycle policies and object lock.</p> <p>You can access and manage your bucket from several web browsers with your user credentials. Working with buckets allows you to:</p> <ul> <li>create or delete buckets</li> <li>view and download objects</li> <li>add, copy or remove objects</li> <li>grant basic read/write permissions</li> <li>configure security credentials to access buckets programmatically via S3 APIs </li> </ul>"},{"location":"Platform_Services/Object_Storage/accessing_from_an_s3browser/","title":"Accessing buckets from an S3 Browser","text":""},{"location":"Platform_Services/Object_Storage/accessing_from_an_s3browser/#accessing-buckets-from-a-browser","title":"Accessing buckets from a browser","text":"<ol> <li> <p>You can access and manage your bucket from several web browsers with your user credentials. The free versions generally restrict upload and download to two concurrent connections. Paid versions enable up to 10 concurrent connections. The AWS S3 CLI tool can be used to programmatically access buckets. The example below provides information on using S3browser.com.</p> </li> <li> <p>Navigate to\u00a0https://s3browser.com/help.aspx</p> </li> <li> <p>Select Download S3 Browser.</p> <p> </p> </li> <li> <p>You will be prompted to add a new account. Select the following parameters:</p> <ul> <li>Account Name:\u00a0Select an account name</li> <li>Account Type:\u00a0S3 Compatible Storage</li> <li>Rest Endpoint:</li> <li>Access Key ID: Access Key</li> <li>Secret Access Key:\u00a0Secret Key</li> <li>Encrypt Access Keys with a password:\u00a0Select if required</li> <li>Use secure transfer:\u00a0Select if required     Click\u00a0Advanced S3-compatible storage settings</li> <li>Signature Version:\u00a0Signature V4</li> <li>Addressing Model: Path Style</li> <li>Override storage regions: un-ticked</li> <li>Region Specific endpoint: leave blank</li> <li>Click\u00a0Add new account</li> </ul> <p>Note</p> <p>If you do not enter your credentials correctly the account will fail to be added.</p> <p></p> </li> <li> <p>You can manage your bucket from this console including adding objects, deleting objects and downloading objects.</p> <p></p> </li> <li> <p>Further information and tutorials on using the S3 browser are available on the S3 browser website under the\u00a0Getting Started with S3 Browser\u00a0heading\u00a0https://s3browser.com/help.aspx</p> <p></p> </li> </ol>"},{"location":"Platform_Services/Object_Storage/accessing_object_storage/","title":"Accessing Object Storage","text":""},{"location":"Platform_Services/Object_Storage/accessing_object_storage/#overview","title":"Overview","text":"<p>Object storage is a data storage architecture that manages data as objects, as opposed to other storage architectures which manages data as a file hierarchy. Each object typically includes the data itself, an amount of metadata and a globally unique identifier which is stored within a bucket.</p> <p>Buckets are containers for objects. You can have one or more buckets and control who has access to each bucket.</p>"},{"location":"Platform_Services/Object_Storage/accessing_object_storage/#accessing-object-storage","title":"Accessing Object Storage","text":"<ol> <li> <p>S3 Object Storage can be accessed via a plug-in through VMware Cloud Director and is enabled by default. If you do not have access contact your Customer Success Manager, Sales Executive or AUCloud Support\u00a0support@australiacloud.com.au.</p> </li> <li> <p>When the plug-in has been enabled, you will be able to access Object Storage and commence creating your buckets. Select\u00a0Object Storage\u00a0from the Main Menu.</p> <p> </p> </li> <li> <p>You will be presented with the dashboard which displays an overall view of your object store including:</p> <ul> <li>Total Buckets</li> <li>Total Objects</li> <li>Storage Used</li> <li>Users</li> </ul> <p></p> </li> </ol> <p>Note</p> <p>An AWS specific example on how to make this work using the aws command line tool:</p> <ol> <li> <p>Create an AWS credentials file (have your <code>access_key_id</code> and <code>secret_access_key</code> ready):</p> <pre><code>aws configure --profile=aucloud\n</code></pre> </li> <li> <p>Test connectivity to the s3 bucket you created previously (assumed in this example to be <code>mybucket</code>, using the ODCE endpoint)</p> <pre><code>aws --profile=aucloud --endpoint-url=https://vos.s3-sz101.australiacloud.com.au/api/v1/s3 s3 ls s3://mybucket\n</code></pre> </li> </ol>"},{"location":"Platform_Services/Object_Storage/accessing_object_storage/#path-vs-host-based-bucket-access","title":"Path vs Host based bucket access","text":"<p>Files can be accessed using s3, across two methods - host based and path based access.</p> <p>For a bucket <code>foo</code>, and a file <code>bar.txt</code> using path based access in AUCloud's PDCE environment. would have a path of:</p> <p><code>https://s3-esz101.australiacloud.com.au/api/v1/s3/foo/bar.txt</code></p> <p>using host based access:</p> <p><code>https://foo.s33-esz101.australiacloud.com.au/bar.txt</code></p> <p>Note that the result is that each bucket name is globally unique per community environment.</p> <p>Restrictions on host based access</p> <p>Currently ODCE CSZ does not support host based access.</p>"},{"location":"Platform_Services/Object_Storage/add_an_object_to_a_bucket/","title":"Add an object to a bucket","text":""},{"location":"Platform_Services/Object_Storage/add_an_object_to_a_bucket/#add-an-object-to-a-bucket","title":"Add an object to a bucket","text":"<ol> <li> <p>To upload objects into the S3 bucket through the user interface, click on name of the bucket you want to upload files to. Under the\u00a0Objects\u00a0tab, click\u00a0UPLOAD.</p> <p> </p> </li> <li> <p>The upload wizard will open. Click\u00a0Select Objects\u00a0to upload.</p> <p> </p> </li> <li> <p>Select the file or files you want to upload and click\u00a0Open.</p> <p> </p> </li> <li> <p>Confirm the upload and select UPLOAD. Additional objects can be selected at this point.</p> <p></p> </li> </ol> <p>Note</p> <p>For Linux systems there are some comparable options available:</p> <ul> <li>rclone</li> <li>Cyberduck</li> <li>Minio client</li> <li>AWS CLI v2</li> </ul>"},{"location":"Platform_Services/Object_Storage/copy_an_object/","title":"Copy an object","text":""},{"location":"Platform_Services/Object_Storage/copy_an_object/#copy-an-object","title":"Copy an object","text":"<ol> <li> <p>To copy an object to another bucket, click the check box of the object you want to copy.</p> <p> </p> </li> <li> <p>Under\u00a0ACTIONS\u00a0select\u00a0Copy to.</p> <p> </p> </li> <li> <p>The\u00a0Copy Objects\u00a0wizard will open</p> <p></p> </li> <li> <p>Select the destination bucket.</p> </li> <li> <p>Check the tick box to acknowledge your understanding.</p> </li> <li> <p>Click\u00a0COPY.</p> </li> </ol>"},{"location":"Platform_Services/Object_Storage/creating_a_bucket/","title":"Creating a Bucket","text":""},{"location":"Platform_Services/Object_Storage/creating_a_bucket/#creating-a-bucket","title":"Creating a Bucket","text":"<ol> <li> <p>To begin, you will first need to create a bucket. Click on\u00a0Buckets\u00a0from the left-hand menu then click on\u00a0GET STARTED.</p> <p> </p> </li> <li> <p>Enter a name for your bucket. The name must comply with the validation rules:</p> <ul> <li>Must be unique across all existing names.</li> <li>Must comply with DNS naming conventions.  </li> <li>Must be at least 3 and no more than 63 characters long.</li> <li>Must be a series of one or more labels.  <ul> <li>Each label can contain lowercase letters, numbers and hyphens.  </li> <li>Each label must start and end with a lowercase letter or a number.  </li> <li>Adjacent labels are separated by a single period (.)  </li> </ul> </li> <li>Must not be formatted as an IP address (for example, 192.168.5.4).</li> </ul> <p></p> </li> <li> <p>Click\u00a0SAVE.\u00a0The bucket you have just created will now be displayed in your list of buckets.</p> </li> <li> <p>To create additional buckets, click on\u00a0+NEW BUCKET\u00a0and follow the wizard to create as many buckets as you require.</p> <p></p> </li> </ol>"},{"location":"Platform_Services/Object_Storage/delete_an_object_or_a_bucket/","title":"Delete an object or a bucket","text":""},{"location":"Platform_Services/Object_Storage/delete_an_object_or_a_bucket/#delete-an-object","title":"Delete an object","text":"<ol> <li> <p>To delete an object, click the check box of the object you want to delete.</p> <p></p> </li> <li> <p>Under\u00a0ACTIONS\u00a0select\u00a0Delete.</p> <p></p> </li> <li> <p>Review the objects you want to delete and select\u00a0Delete.</p> <p></p> </li> </ol>"},{"location":"Platform_Services/Object_Storage/delete_an_object_or_a_bucket/#delete-a-bucket","title":"Delete a bucket","text":"<ol> <li> <p>To delete a bucket, click the ellipsis next to the bucket\u00a0you want to delete.</p> <p></p> </li> <li> <p>Select Delete.</p> <p></p> </li> <li> <p>Confirm the deletion of the bucket you want to delete and select\u00a0Delete.</p> <p></p> </li> </ol>"},{"location":"Platform_Services/Object_Storage/security_credentials/","title":"Security Credentials","text":""},{"location":"Platform_Services/Object_Storage/security_credentials/#security-credentials","title":"Security Credentials","text":"<ol> <li> <p>Security Credentials are required to access buckets programmatically\u00a0via S3 API's.</p> <p>The AUCloud S3 API endpoints</p> </li> <li> <p>To create user credentials, click\u00a0+CREATE.</p> <p></p> </li> <li> <p>To view the Access and Secret Key, click on the key symbol next to the access key to view the key pair.</p> </li> <li> <p>Click on the 'eye' symbol to reveal the complete Secret Key.</p> <p></p> </li> <li> <p>Application credentials are stored within an application and created using the same process as for user Credentials.</p> </li> <li> <p>You can select the Application Credential to apply to all buckets or selected buckets.</p> <p></p> </li> </ol>"},{"location":"Platform_Services/Object_Storage/view_an_object/","title":"View an object","text":""},{"location":"Platform_Services/Object_Storage/view_an_object/#view-an-object","title":"View an object","text":"<ol> <li> <p>Once an object has been added to a bucket, you can view information about the object and download the object to your local computer.</p> </li> <li> <p>Click on the Object name to view properties and permissions.</p> <p></p> </li> <li> <p>The properties of the object will be displayed under the\u00a0Properties\u00a0tab.</p> </li> <li> <p>Select\u00a0Preview\u00a0to view the document without downloading.</p> </li> <li> <p>Select download to download the object. The object will be downloaded to the default location on your PC.</p> <p></p> </li> <li> <p>You can grant other users basic read/write permissions by clicking on the permissions tab and editing the Access Control List (ACL).</p> <p></p> </li> </ol>"},{"location":"Platform_Services/Object_Storage/view_properties_and_manage_permissions/","title":"View properties and manage permissions","text":""},{"location":"Platform_Services/Object_Storage/view_properties_and_manage_permissions/#view-properties-and-manage-permissions","title":"View properties and manage permissions","text":"<p>Warning</p> <p>Customers should be careful as to what data they are exposing to the internet.</p> <ol> <li> <p>To view the properties of a bucket, click on the\u00a0Properties\u00a0tab after going to your selected bucket.</p> <p> </p> </li> <li> <p>To view selected permissions, click on the\u00a0Permissions\u00a0tab in your selected bucket.</p> <p> </p> </li> <li> <p>Permission can be edited by clicking on the EDIT button.</p> </li> <li> <p>Access controls can be adjusted, and new users can be added.</p> </li> <li> <p>Click\u00a0SAVE\u00a0to save the changes.</p> <p></p> </li> </ol>"},{"location":"Platform_Services/Storage/","title":"AUCloud Storage","text":""},{"location":"Platform_Services/Storage/#overview","title":"Overview","text":"<p>AUCloud uses block storage and S3 object storage.</p> <p>Block storage and S3 object storage have some key differences. Block storage is used for fast, random access to data like operating systems and applications. S3 object storage stores data as objects in a flat address space. It's used for large amounts of unstructured data like images, videos, and backups. Block storage is generally faster, but S3 object storage is more scalable and cost-effective.</p>"},{"location":"Platform_Services/Storage/#what-is-block-storage","title":"What is block storage?","text":"<p>Block storage allows data to be accessed quickly and directly, making it suitable for applications that require fast access to data. It is called \"block\" storage because data is stored in blocks, which are typically fixed-size units of storage. Some key characteristics of block storage include:</p> <ul> <li> <p>Stored separately: Data is stored on a separate device, such as a hard drive or a solid-state drive (SSD).</p> </li> <li> <p>Block addressing: Data is accessed using a block addressing system, which allows specific blocks to be read or written to.</p> </li> <li> <p>Low-latency, high-performance: Block storage is often used to store operating systems, applications, and other types of data that require fast, random access.</p> </li> </ul>"},{"location":"Platform_Services/Storage/#what-is-s3-object-storage","title":"What is S3 object storage?","text":"<p>S3 object storage is a secure and reliable solution for storing data in the cloud, with the added benefit of storing data across multiple servers for continued accessibility even in the event of a server failure. The S3 object storage in use at AUCloud has features to protect data, such as encryption, access controls, versioning, life cycle policies and object lock.</p> <p>S3 storage has several security features to protect data:</p> <ul> <li> <p>Encryption: Data is automatically encrypted when it is stored and decrypted when it is retrieved.</p> </li> <li> <p>Access controls: You can set permissions on data to control who can access it.</p> </li> <li> <p>Versioning: You can keep multiple copies of data, which can be useful if you need to restore an older version of a file.</p> </li> <li> <p>Life cycle policies: You can set policies to automatically move data to different storage tiers or delete it after a certain period of time. This can help you save money and meet compliance requirements.</p> </li> <li> <p>Object Lock: This feature that allows you to store data in a secure, \"locked\" state, preventing it from being deleted or overwritten. It can be useful for meeting regulatory or compliance requirements.</p> </li> </ul>"},{"location":"Platform_Services/Symmetric_Key_Agreement_Platform/","title":"Symmetric Key Agreement Platform","text":""},{"location":"Platform_Services/Symmetric_Key_Agreement_Platform/#overview","title":"Overview","text":"<p>Cyber-attack is amongst the highest risks managed by the Defence, Governments and Enterprises. The proliferation of digital transformation devices, sensors and data are expanding the threat attack surface at an exponential rate. Critically there are two major adversary exposures to today\u2019s internet and data security due to the inherent use of Public key Infrastructure (PKI). These are Shor\u2019s algorithm and Quantum computing. Whilst it is understood that the collective application of the technologies will immediately break PKI, there are a number of other risk exposure for client\u2019s data today:</p> <ul> <li>the harvesting of such client data now and then de-crypting later; and</li> <li>the current use of computer farms to apply elements of Shor\u2019s algorithm to perform data mining.</li> </ul> <p>Symmetric Key Agreement Platform, built on Arqit's Quantum Cloud, provides an alternative architecture to provide quantum-resistant cryptography to NIST's PQC algorithms such as CRYSTALS-Kyber.</p>"},{"location":"Platform_Services/Symmetric_Key_Agreement_Platform/#our-partner-arqit","title":"Our partner - Arqit","text":"<p>Arqit\u202fsupplies a unique quantum safe encryption Platform-as-a-Service which makes the communications links of any networked device secure against current and future forms of attack \u2013 even from a quantum computer.\u202fArqit\u2019s\u202fproduct,\u202fQuantumCloud\u2122, enables any device to download a lightweight software agent, which can create encryption keys in partnership with any other device. The keys are computationally secure, optionally one-time use and zero trust.\u202fQuantumCloud\u2122\u202fcan create limitless volumes of keys in limitless group sizes and can regulate the secure entrance and exit of a device in a group. The addressable market for\u202fQuantumCloud\u2122\u202fis every connected device.\u202fThe company was recently awarded the Innovation in Cyber award at the National Cyber Awards.</p>"},{"location":"Platform_Services/Symmetric_Key_Agreement_Platform/#how-it-works","title":"How it works","text":"<p>SKAP does this by solely using symmetric cryptography (AES-256) which, unlike current PKI algorithms, is resistant to quantum-computing attacks.</p> <p>SKAP provides this security by creating a network where:</p> <ol> <li>Clients are bootstrapped into the network where they;</li> <li>Prove identity by username, password, and optionally a bootstrapped symmetric key</li> <li>Are authorized by network owners</li> <li>Two clients can negotiate a mutually agreed symmetry key where the platform owners (e.g. AUCloud) cannot obtain visibility.</li> <li>All communications can draw on a 'True Random Number Generator' to provide entropy into the system</li> <li>The source of true random numbers generated by a Quintessence Labs Quantum True Random Number generator.</li> <li>All keys within the system are subject to 'ratcheting'. This allows replacement of the key at regular intervals decreasing risk.</li> </ol> <p>The result is a system which is:</p> <ul> <li>High performance as there is no overhead of asymmetric cryptography. The result is an energy efficient system</li> <li>Uses trusted cryptographic primitives (e.g. <code>AES-256</code>) which are widely reviewed and accelerated at the hardware layer</li> <li>Is resistant to quantum-computing attacks using Shor's algorithm.</li> </ul>"},{"location":"Platform_Services/Symmetric_Key_Agreement_Platform/#emerging-use-cases","title":"Emerging use cases","text":"<p>Symmetric Key Agreement Platform is an emerging technology. Use cases are still being explored if you have ideas contact us.</p>"},{"location":"Platform_Services/Symmetric_Key_Agreement_Platform/#quantum-computing-resistance","title":"Quantum computing resistance","text":""},{"location":"Platform_Services/Symmetric_Key_Agreement_Platform/#protocol-reinforcement-via-pre-shared-post-quantum-keys","title":"Protocol reinforcement via pre-shared post-quantum keys","text":"<p>Protocols such as IPsec are beginning to explicitly support symmetric keys which are distributed 'Out of Band' with the traditional (PKI based) key negotiation channel. SKAP can be used to provide this out of band key distribution.</p> <p>Other protocols (such as MACSec) which natively assume secure key distribution can be re-enforced by ensuring the keys set in devices do not rely on PKI to be distributed.</p>"},{"location":"Platform_Services/Symmetric_Key_Agreement_Platform/#replacement-or-augmentation-of-link-encrypters","title":"Replacement or Augmentation of link-encrypters","text":"<p>Military and National Security environments frequently rely on devices commonly called 'link-encrypters' which may rely on the physical distribution of key material 'KEYMAT'. SKAP provides an alternative mechanism for secure 'over the wire' distribution of KEYMAT that can be either:</p> <ul> <li>Used in conjunction with link encrypters</li> <li>Used together with IPSec to adopt industry standard devices.</li> </ul>"},{"location":"Platform_Services/Symmetric_Key_Agreement_Platform/#swap-constrained-systems","title":"\"SWaP\" constrained systems","text":"<p>Size, Weight and Power (SWAP), is used to describe the constraints on IoT systems and Satellites. By avoiding PKI energy and storage space can be saved. Severely constrained systems, such as satellites, have frequently either not encrypted data; or; used hard coded keys.</p> <p>SKAP provides a energy efficient method for uplifting security where SWaP can be adjusted based on mission security requirements (e.g. key negotiation frequency).</p>"},{"location":"Platform_Services/Symmetric_Key_Agreement_Platform/#references","title":"References","text":""},{"location":"Platform_Services/Symmetric_Key_Agreement_Platform/#standards-and-rfcs","title":"Standards and RFCs","text":"<ul> <li>Mixing Pre-shared Keys in the Internet Key Exchange Protocol Version 2 (IKEv2) for Post-quantum Security</li> <li>Support mechanism for SKAP keys to provide quantum-resistant cryptography to IPSec Tunnels</li> <li>ETSI QKD standards including:</li> <li>QKD REST API interface</li> </ul>"},{"location":"Platform_Services/Symmetric_Key_Agreement_Platform/#papers","title":"Papers","text":"<ul> <li>Arqit Quantum Cloud Overview Paper</li> <li>ARQ19 Protocol Patent</li> </ul>"},{"location":"Platform_Services/Symmetric_Key_Agreement_Platform/IPsec/","title":"Securing IPSec with SKAP","text":""},{"location":"Platform_Services/Symmetric_Key_Agreement_Platform/IPsec/#overview","title":"Overview","text":"<p>IPSec is currently the most approachable network protocol to be secured with the SKAP platform. RFC-8784 extends the IPSec protocol to provide a mechanism to inject symmetric keys 'out of band' to the Diffie-Hellman key-exchange.</p> <p>At a high level it can described as:</p> <ol> <li>Diffie-Hellman key exchange occurs as expected.</li> <li>On each endpoint a number of 'Post-quantum Pre-shared Keys' (PPKs) exist.</li> <li>A mutually acceptable PPK are negotiated.</li> <li>the PPK as a secondary transform in addition to the standard IPSec cryptography.</li> </ol> <p>Two implementations have been tested with QuantumCloud:</p> <ol> <li>StrongSwan library, the default IPSec implementation included in many linux distributions including Ubuntu and Centos.</li> <li>Fortinet FortiOS (Beta) integration with Fortinet's physical and virtual Firewall products.</li> </ol>"},{"location":"Platform_Services/Symmetric_Key_Agreement_Platform/IPsec/#strongswan-libreswan-configuration","title":"StrongSwan / LibreSwan configuration","text":"<p>StrongSwan has two mechanisms by which PPKs can be injected into the configuration:</p> <ol> <li>StrongSwan configuration files can have PPKs injected in (either by hand or by integration.</li> <li>This requires manual reload is required.</li> <li>StrongSwan VICI     The vici plugin can allow applications to integrate directly into StrongSwan.</li> </ol> <p>Both of these methods can be used, via custom integration with SKAP.</p>"},{"location":"Platform_Services/Symmetric_Key_Agreement_Platform/IPsec/#quantumcloudtm-network-adapter-fortinet-fortios-network-appliances","title":"QuantumCloud\u2122 Network Adapter &amp; Fortinet (FortiOS) network appliances.","text":"<p>Fortinet and Arqit have announced an integration between FortiOS and the QuantumCloud platform.</p> <p>Pre release</p> <p>FortiOS integration is currently pre-release. Use of the FortiOS requires the use of custom firmware on your physical or virtual network appliance.</p> <p>The integration uses a new ETSI standard API provides the integration mechanism a pre-built \"Network Adapter\" application is provided which integrates with FortiOS.</p>"},{"location":"Platform_Services/Symmetric_Key_Agreement_Platform/SDKs/","title":"SKAP SDKs","text":""},{"location":"Platform_Services/Symmetric_Key_Agreement_Platform/SDKs/#overview","title":"Overview","text":"<p>SKAP utilised Arqit QuantumCloud\u2122 SDKs for Kotlin/Java; C/C++ and Python. The SDKs are the preferred mechanism to provision keys when not using a application provided by the SKAP service. Each of the APIs comes with comprehensive API documentation and exemplar applications.</p>"},{"location":"Platform_Services/Symmetric_Key_Agreement_Platform/SDKs/#access-to-download","title":"Access to download","text":"<p>During onboarding clients will receive object storage connection details to download the current SDKs and supporting API documentation.</p>"},{"location":"Platform_Services/Symmetric_Key_Agreement_Platform/SDKs/#required-tooling-and-versions","title":"Required tooling and versions","text":""},{"location":"Platform_Services/Symmetric_Key_Agreement_Platform/SDKs/#kotlin-java","title":"Kotlin / Java","text":"<ul> <li>Gradle (to utilise builds for exemplar applications)</li> </ul>"},{"location":"Platform_Services/Symmetric_Key_Agreement_Platform/SDKs/#c-c","title":"C / C++","text":"<ul> <li>CMake (to utilise exemplar applications)</li> <li>On POSIX systems:</li> <li><code>libcurl</code></li> <li><code>libssl</code></li> <li><code>libcryptopp</code></li> <li><code>libcrypto</code><ul> <li>Typically packaged with <code>libssl</code></li> </ul> </li> </ul>"},{"location":"Platform_Services/Symmetric_Key_Agreement_Platform/SDKs/#python","title":"Python","text":"<ul> <li><code>pip</code> for installation management</li> <li>Note that installing the arqit libraries will pull down a number of dependencies.</li> </ul>"},{"location":"Platform_Services/Symmetric_Key_Agreement_Platform/SDKs/#sdk-feature-matrix","title":"SDK feature matrix","text":"<p>QuantumCloud\u2122 feature matrix with current SDK versions.</p> Features / SDK Kotlin / Java C / C++ Python Supported SDK Version 2209.20220906.14 2209.20220906.14 2209.20220906.14 <code>QKEY</code> registration <code>OTA_TLS</code> registration <code>OTA_QUANTUM</code> registration Key negotiation via sockets Group Key negotiation 1 Key Negotiation via <code>MQTT</code> De-registration <ol> <li> <p>Group key negotiation is currently beta\u00a0\u21a9</p> </li> </ol>"},{"location":"Platform_Services/Symmetric_Key_Agreement_Platform/bootstrapping/","title":"Device registration and bootstrapping","text":""},{"location":"Platform_Services/Symmetric_Key_Agreement_Platform/bootstrapping/#overview","title":"Overview","text":"<p>SKAP negotiates keys between devices in a close network or network or networks1. In order for a device to be registered in the system it needs to attempt to enroll, then be approved into the network.</p> <p></p> <p>The roles a device can play in the registration process are dictated by role provided within the QuantumCloud\u2122 console.</p> <p>The console is a web interface where users an devices can be managed. Console URLs are client specific and are provided on service provisioning.</p> <p>When a device is registered a (tenant) administrator approves it into the network. At this point the device can begin key negotiation with other devices within the network.</p>"},{"location":"Platform_Services/Symmetric_Key_Agreement_Platform/bootstrapping/#registration-key-options","title":"Registration key options","text":"<p>In order to register a device a provisioning a method must be chosen for provisioning the initial symmetric key. The settings below are configured within the SDKs or AUCloud provided applications.</p>"},{"location":"Platform_Services/Symmetric_Key_Agreement_Platform/bootstrapping/#qkey","title":"<code>QKEY</code>","text":"<p>A <code>QKEY</code> is a <code>AES-256</code> key which (within AUCloud's platform), is stored in a <code>FIPS 140-2 Level 3</code> HSM. This mechanism provides the highest security option. Clients are provided with a <code>qkey_id</code> and a base 64 encoded <code>QKEY</code> for use with the SDKs.</p> <p>This is combined with username a client's username and password to securely start the device registration process.</p> <p>Info</p> <p>AUCloud can provide multiple options for the distribution of QKEYs depending on security requirements. Please contact support to organise <code>QKEY</code>s if required.</p>"},{"location":"Platform_Services/Symmetric_Key_Agreement_Platform/bootstrapping/#ota_tls","title":"<code>OTA_TLS</code>","text":"<p><code>OTA_TLS</code> leverages the current TLS standard algorithms, combined with username and password. The bootstrap key is then delivered over the wire to the device during registration.</p> <p>Increased security risks</p> <p>Over the wire registration with TLS exposes users to <code>harvest now; decrypt later</code> attacks. It should only be used for development environments</p>"},{"location":"Platform_Services/Symmetric_Key_Agreement_Platform/bootstrapping/#ota_quantum","title":"<code>OTA_QUANTUM</code>","text":"<p><code>OTA_QUANTUM</code> takes the same 'over the air' approach as as <code>OTA_TLS</code></p> <p>Increased security risks</p> <p>Over the wire bootstrapping means that public key cryptography is used transiently</p> <ol> <li> <p>Clients can peer two networks together, allowing communications across organisations in the Quantum Cloud platform.\u00a0\u21a9</p> </li> </ol>"}]}